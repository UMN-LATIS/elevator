{"version":3,"sources":["spidergl.js","presenter.js","ply.js","trackball_pantilt.js","trackball_sphere.js","trackball_turntable.js","trackball_turntable_pan.js","init.js"],"names":["SpiderGL","TAG","openNamespace","e","Utility","getDefaultObject","globalObject","DEFAULT_GLOBAL_OBJECT","constantPrefix","DEFAULT_CONSTANT_PREFIX","functionPrefix","DEFAULT_FUNCTION_PREFIX","classPrefix","DEFAULT_CLASS_PREFIX","t","RegExp","r","test","i","n","a","substr","toUpperCase","s","o","u","d","p","h","_","window","Version","VERSION_MAJOR","VERSION_MINOR","VERSION_REVISION","VERSION_STRING","Core","DEFAULT","DONT_CARE","EMPTY_STRING","EMPTY_OBJECT","EMPTY_ARRAY","EMPTY_FUNCTION","generateUID","_lastUID","ObjectBase","this","_uid","prototype","uid","Type","LITTLE_ENDIAN","Uint8Array","Uint16Array","buffer","BIG_ENDIAN","NO_TYPE","INT8","UINT8","INT16","UINT16","INT32","UINT32","FLOAT32","SIZEOF_INT8","Int8Array","BYTES_PER_ELEMENT","SIZEOF_UINT8","SIZEOF_INT16","Int16Array","SIZEOF_UINT16","SIZEOF_INT32","Int32Array","SIZEOF_UINT32","Uint32Array","SIZEOF_FLOAT32","Float32Array","typeSize","typeToGL","WebGLRenderingContext","NONE","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","typeFromGL","typeSizeFromGL","typeToTypedArrayConstructor","ArrayBuffer","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","primitiveToGL","instanceOf","isNumber","isString","isFunction","isArray","constructor","Array","isTypedArray","extend","__lookupGetter__","__defineGetter__","__lookupSetter__","__defineSetter__","defineClassGetter","defineClassSetter","defineObjectGetter","defineObjectSetter","getDefaultValue","setDefaultValues","getAttrib4fv","getTime","Date","Timer","_tStart","_tElapsed","_accumElapsed","now","start","isStarted","isPaused","restart","elapsed","stop","pause","resume","Browser","isOpera","opr","addons","opera","navigator","userAgent","indexOf","isFirefox","InstallTrigger","toLowerCase","isSafari","match","HTMLElement","safari","pushNotification","toString","isIE","document","documentMode","isEdge","StyleMedia","isChrome","chrome","webstore","DOM","getElementById","getElementText","firstChild","nodeType","textContent","nextSibling","IO","Request","call","async","DEFAULT_ASYNC","send","DEFAULT_SEND","onProgress","onCancel","onError","onSuccess","onFinish","_url","_async","_status","_sent","_aborted","_data","_loaded","_total","_events","progress","main","listeners","cancel","error","success","finish","ONGOING","CANCELLED","FAILED","SUCCEEDED","_indexOf","length","_setMainListener","addEventListener","removeEventListener","_dispatch","arguments","slice","push","apply","_doPostProgress","_doPostCancel","_doPostError","_doPostSuccess","_doPostFinish","_doOnProgress","_doOnCancel","_finishTime","_doOnError","_doOnSuccess","_doOnFinish","_doSend","_doCancel","canSend","url","status","data","bytesLoaded","bytesTotal","sent","ongoing","cancelled","failed","succeeded","finished","startTime","_startTime","finishTime","elapsedTime","splice","XHRRequestBase","XMLHttpRequest","_xhr","onprogress","_xhrOnProgress","onabort","onerror","onload","_range","open","range","setRequestHeader","_prepareXHR","abort","lengthComputable","loaded","total","XHRRequest","responseText","xhr","response","TextRequest","text","readText","requestText","JSONRequest","JSON","parse","json","readJSON","requestJSON","BinaryRequest","responseType","_setArrayBuffer","mozResponseArrayBuffer","String","charCodeAt","readBinary","requestBinary","ImageRequest","Image","_img","_imgOnProgress","src","image","requestImage","AggregateRequest","_proxyOnProgress","_reqOnProgress","_proxyOnCancel","_reqOnCancel","_proxyOnError","_reqOnError","_proxyOnSuccess","_reqOnSuccess","_proxyOnFinish","_reqOnFinish","_aggrStartTime","_aggrFinishTime","_eventReq","_cancelledReqs","_failedReqs","_succeededReqs","_requests","requests","_installProxies","addRequest","_requestsFinished","_uninstallProxies","eventSenderRequest","requests$","removeRequest","Math","DEG_TO_RAD","PI","E","LN2","LN10","LOG2E","LOG10E","RAD_TO_DEG","SQRT2","MAX_VALUE","Number","MIN_VALUE","MAX_NUMBER","MIN_NUMBER","NAN","NaN","INFINITY","abs","acos","asin","atan","atan2","ceil","clamp","cos","degToRad","exp","floor","lerp","ln","log","log2","log10","max","min","pow","radToDeg","random","random01","random11","randomRange","round","sqrt","sin","tan","Vec2","dup","scalar","zero","one","maxNumber","minNumber","to3","to4","neg","add","adds","sub","subs","ssub","mul","muls","div","divs","sdiv","rcp","dot","cross","perp","sqLength","normalize","copy$","neg$","add$","adds$","sub$","subs$","ssub$","mul$","muls$","div$","divs$","sdiv$","perp$","normalize$","Vec3","to2","Vec4","project","Mat3","diag","identity","to44","mul2","mul3","transpose","Mat4","to33","elem","elem$","row","row$","col","col$","isIdentity","f","l","c","L","S","g","G","m","T","M","b","v","x","y","A","R","P","I","D","F","mul4","compMul","compDiv","determinant","inverse","inverseTranspose33","trace","translation","rotationAngleAxis","scaling","lookAt","translate$","ortho","frustum","perspective","identity$","compMul$","compDiv$","transpose$","invert$","rotateAngleAxis$","scale$","Quat","from33","from44","fromAngleAxis","toAngleAxis","fromEulerAngles","toEulerAngles","unproject","Space","MatrixStack","_onChange","reset","_invalidate","_i","_t","_it","_s","_l","_m","onChange","size","matrix$","matrix","top$","top","inverse$","inverseTranspose$","inverseTranspose","pop","load","loadIdentity","multiply","translate","rotate","scale","ViewportStack","_r","rect$","rect","inner","DepthRangeStack","range$","TransformationStack","_mv","_vp","_mvp","_n","_c","_v","_p","_viewport","_depth","viewport","viewportRect$","viewportRect","depth","depthRange$","depthRange","model","modelMatrix$","modelMatrix","modelMatrixInverse$","modelMatrixInverse","modelMatrixTranspose$","modelMatrixTranspose","modelMatrixInverseTranspose$","modelMatrixInverseTranspose","view","viewMatrix$","viewMatrix","viewMatrixInverse$","viewMatrixInverse","viewMatrixTranspose$","viewMatrixTranspose","viewMatrixInverseTranspose$","viewMatrixInverseTranspose","projection","projectionMatrix$","projectionMatrix","projectionMatrixInverse$","projectionMatrixInverse","projectionMatrixTranspose$","projectionMatrixTranspose","projectionMatrixInverseTranspose$","projectionMatrixInverseTranspose","modelViewMatrix$","modelViewMatrix","modelViewMatrixInverse$","modelViewMatrixInverse","modelViewMatrixTranspose$","modelViewMatrixTranspose","modelViewMatrixInverseTranspose$","it","modelViewMatrixInverseTranspose","viewProjectionMatrix$","viewProjectionMatrix","viewProjectionMatrixInverse$","viewProjectionMatrixInverse","viewProjectionMatrixTranspose$","viewProjectionMatrixTranspose","viewProjectionMatrixInverseTranspose$","viewProjectionMatrixInverseTranspose","modelViewProjectionMatrix$","modelViewProjectionMatrix","modelViewProjectionMatrixInverse$","modelViewProjectionMatrixInverse","modelViewProjectionMatrixTranspose$","modelViewProjectionMatrixTranspose","modelViewProjectionMatrixInverseTranspose$","modelViewProjectionMatrixInverseTranspose","worldSpaceNormalMatrix$","worldSpaceNormalMatrix","viewSpaceNormalMatrix$","viewSpaceNormalMatrix","modelSpaceViewerPosition$","mp","modelSpaceViewerPosition","worldSpaceViewerPosition$","wp","worldSpaceViewerPosition","modelSpaceViewDirection$","md","modelSpaceViewDirection","worldSpaceViewDirection$","wd","worldSpaceViewDirection","WebGL","Context","WEBGL_STRING","DEFAULT_UNPACK_FLIP_Y","DEFAULT_UNPACK_PREMULTIPLY_ALPHA","DEFAULT_UNPACK_COLORSPACE_CONVERSION","get","HTMLCanvasElement","getContext","_prepareContex","_spidergl","gl","glFunctions","_addExtension","getExtension","_ext","sgl","_setup_SGL_current_binding","cb","currentBuffer","ARRAY_BUFFER","getParameter","ARRAY_BUFFER_BINDING","ELEMENT_ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER_BINDING","bufferStack","bindBuffer","getCurrentBuffer","pushBuffer","popBuffer","currentFramebuffer","FRAMEBUFFER","FRAMEBUFFER_BINDING","framebufferStack","bindFramebuffer","getCurrentFramebuffer","pushFramebuffer","popFramebuffer","currentProgram","CURRENT_PROGRAM","programStack","useProgram","getCurrentProgram","pushProgram","popProgram","currentRenderbuffer","RENDERBUFFER","RENDERBUFFER_BINDING","renderbufferStack","bindRenderbuffer","getCurrentRenderbuffer","pushRenderbuffer","popRenderbuffer","currentShader","VERTEX_SHADER","FRAGMENT_SHADER","shaderStack","bindShader","getCurrentShader","pushShader","popShader","currentTexture","ACTIVE_TEXTURE","MAX_TEXTURE_IMAGE_UNITS","textureStack","textureUnitStack","TEXTURE0","activeTexture","TEXTURE_2D","TEXTURE_BINDING_2D","TEXTURE_CUBE_MAP","TEXTURE_BINDING_CUBE_MAP","currentTextureUnit","getCurrentTextureUnit","pushTextureUnit","popTextureUnit","bindTexture","getCurrentTexture","pushTexture","popTexture","_setup_SGL_wrapper_notify","wn","deleteBuffer","_gl_deleteBuffer","isBuffer","_gl_isBuffer","_gl_bindBuffer","getBufferParameter","_gl_getBufferParameter","bufferData","_gl_bufferData","bufferSubData","_gl_bufferSubData","vertexAttribPointer","_gl_vertexAttribPointer","drawElements","_gl_drawElements","deleteFramebuffer","_gl_deleteFramebuffer","isFramebuffer","_gl_isFramebuffer","_gl_bindFramebuffer","checkFramebufferStatus","_gl_checkFramebufferStatus","getFramebufferAttachmentParameter","_gl_getFramebufferAttachmentParameter","framebufferRenderbuffer","_gl_framebufferRenderbuffer","framebufferTexture2D","_gl_framebufferTexture2D","clear","_gl_clear","readPixels","_gl_readPixels","deleteProgram","_gl_deleteProgram","isProgram","_gl_isProgram","_gl_useProgram","getActiveAttrib","_gl_getActiveAttrib","getActiveUniform","_gl_getActiveUniform","getAttachedShaders","_gl_getAttachedShaders","getAttribLocation","_gl_getAttribLocation","getProgramParameter","_gl_getProgramParameter","getProgramInfoLog","_gl_getProgramInfoLog","getUniform","_gl_getUniform","getUniformLocation","_gl_getUniformLocation","attachShader","_gl_attachShader","bindAttribLocation","_gl_bindAttribLocation","detachShader","_gl_detachShader","linkProgram","_gl_linkProgram","uniform1f","_gl_uniform1f","uniform1fv","_gl_uniform1fv","uniform1i","_gl_uniform1i","uniform1iv","_gl_uniform1iv","uniform2f","_gl_uniform2f","uniform2fv","_gl_uniform2fv","uniform2i","_gl_uniform2i","uniform2iv","_gl_uniform2iv","uniform3f","_gl_uniform3f","uniform3fv","_gl_uniform3fv","uniform3i","_gl_uniform3i","uniform3iv","_gl_uniform3iv","uniform4f","_gl_uniform4f","uniform4fv","_gl_uniform4fv","uniform4i","_gl_uniform4i","uniform4iv","_gl_uniform4iv","uniformMatrix2fv","_gl_uniformMatrix2fv","uniformMatrix3fv","_gl_uniformMatrix3fv","uniformMatrix4fv","_gl_uniformMatrix4fv","validateProgram","_gl_validateProgram","deleteRenderbuffer","_gl_deleteRenderbuffer","isRenderbuffer","_gl_isRenderbuffer","_gl_bindRenderbuffer","getRenderbufferParameter","_gl_getRenderbufferParameter","renderbufferStorage","_gl_renderbufferStorage","deleteShader","_gl_deleteShader","isShader","_gl_isShader","getShaderParameter","_gl_getShaderParameter","getShaderInfoLog","_gl_getShaderInfoLog","getShaderSource","_gl_getShaderSource","compileShader","_gl_compileShader","shaderSource","_gl_shaderSource","textureTargetMap","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","deleteTexture","_gl_deleteTexture","isTexture","_gl_isTexture","_gl_bindTexture","getTexParameter","_gl_getTexParameter","copyTexImage2D","_gl_copyTexImage2D","copyTexSubImage2D","_gl_copyTexSubImage2D","generateMipmap","_gl_generateMipmap","texImage2D","_gl_texImage2D","texParameterf","_gl_texParameterf","texParameteri","_gl_texParameteri","texSubImage2D","_gl_texSubImage2D","_setup_SGL_direct_state_access","dsa","shaderIsNull","hijack","isHijacked","getHijacked","setStandardGLUnpack","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","ObjectGL","handle","_gl","_cb","_dsa","_h","TARGET","unbind","target","isValid","isReady","destroy","bind","Buffer","WebGLBuffer","usage","DEFAULT_USAGE","BUFFER_SIZE","BUFFER_USAGE","createBuffer","_size","_usage","setData","setSize","STATIC_DRAW","DEFAULT_SUB_DATA_OFFSET","byteLength","setSubData","VertexBuffer","DEFAULT_ATTRIBUTE_INDEX","DEFAULT_ATTRIBUTE_SIZE","DEFAULT_ATTRIBUTE_TYPE","DEFAULT_ATTRIBUTE_NORMALIZED","DEFAULT_ATTRIBUTE_STRIDE","DEFAULT_ATTRIBUTE_OFFSET","DEFAULT_ATTRIBUTE_ENABLE","index","glType","normalized","stride","offset","enable","enableVertexAttribArray","IndexBuffer","DEFAULT_DRAW_ELEMENTS_MODE","DEFAULT_DRAW_ELEMENTS_COUNT","DEFAULT_DRAW_ELEMENTS_TYPE","DEFAULT_DRAW_ELEMENTS_OFFSET","glMode","count","Framebuffer","WebGLFramebuffer","autoViewport","DEFAULT_AUTO_VIEWPORT","createFramebuffer","_attachments","_autoViewport","_attachmentName","att","FRAMEBUFFER_ATTACHMENT_OBJECT_NAME","FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE","_importRenderbuffer","TEXTURE","FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL","FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE","_importTexture","setAttachments","DEFAULT_ATTACHMENT_TEXTURE_LEVEL","DEFAULT_ATTACHMENT_CUBE_MAP_FACE","DEFAULT_READ_PIXELS_X","DEFAULT_READ_PIXELS_Y","DEFAULT_READ_PIXELS_WIDTH","DEFAULT_READ_PIXELS_HEIGHT","DEFAULT_READ_PIXELS_FORMAT","RGBA","DEFAULT_CLEAR_MASK","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","DEFAULT_READ_PIXELS_TYPE","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","attachment","resource","level","face","Texture2D","TextureCubeMap","width","height","Renderbuffer","_setAttachment","WebGLTexture","WebGLRenderbuffer","Texture","isComplete","FRAMEBUFFER_COMPLETE","color","depthStencil","stencil","getAttachments","detachAll","colorTarget","depthTarget","stencilTarget","depthStencilTarget","format","type","applyViewport","Program","WebGLProgram","autoLink","DEFAULT_AUTO_LINK","LINK_STATUS","createProgram","_shaders","_linked","_log","_autoLink","_attributes","_uniforms","_importShader","_addShaders","shaders","_setAttributes","attributes","link","_postLink","setUniforms","uniforms","_uniformSetFunctions","BOOL","location","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","_shaderHandleIndex","_shaderIndex","SHADER_TYPE","VertexShader","FragmentShader","_updateActiveInfo","ACTIVE_ATTRIBUTES","name","ACTIVE_UNIFORMS","setValue","lastIndexOf","Shader","WebGLShader","_removeShaders","isLinked","addShaders","removeShaders","hasShader","getShaders","validate","VALIDATE_STATUS","setAttributes","getAttributesNames","getAttributesIndices","getAttributesInfo","getUniformsNames","getUniformsValues","getUniformsInfo","RENDERBUFFER_INTERNAL_FORMAT","RENDERBUFFER_WIDTH","RENDERBUFFER_HEIGHT","createRenderbuffer","_width","_height","_format","internalFormat","setStorage","source","autoCompile","DEFAULT_AUTO_COMPILE","COMPILE_STATUS","DELETE_STATUS","createShader","_source","_compiled","_autoCompile","setSource","_postCompile","isCompiled","compile","magFilter","DEFAULT_MAG_FILTER","minFilter","DEFAULT_MIN_FILTER","wrapS","DEFAULT_WRAP_S","wrapT","DEFAULT_WRAP_T","flipYPolicy","premultiplyAlphaPolicy","colorspaceConversionPolicy","autoMipmap","DEFAULT_AUTO_GENERATE_MIPMAP","createTexture","_magFilter","TEXTURE_MAG_FILTER","_minFilter","TEXTURE_MIN_FILTER","_wrapS","TEXTURE_WRAP_S","_wrapT","TEXTURE_WRAP_T","_flipY","_premultiplyAlpha","_colorspaceConversion","_autoMipmap","_missingFaces","_FACE_ALL_BITS","setSampler","DEFAULT_BORDER","DEFAULT_FORMAT","DEFAULT_INTERNAL_FORMAT","DEFAULT_LEVEL","LINEAR","DEFAULT_TYPE","REPEAT","DEFAULT_X_OFFSET","DEFAULT_Y_OFFSET","_FACE_POSITIVE_X_BIT","_FACE_NEGATIVE_X_BIT","_FACE_POSITIVE_Y_BIT","_FACE_NEGATIVE_Y_BIT","_FACE_POSITIVE_Z_BIT","_FACE_NEGATIVE_Z_BIT","_faceBits","_setTexParameter","_setImageData","border","xoffset","yoffset","flipY","premultiplyAlpha","colorspaceConversion","HTMLImageElement","HTMLVideoElement","ImageData","_setImage","_setSubImage","premultuplyAlphaPolicy","_premultuplyAlpha","w","getSampler","setImage","setSubImage","_faceTargets","Model","_createSimpleDescriptor","_descriptor","_fixDescriptor","_renderData","updateGL","updateRenderData","DEFAULT_VERTEX_STREAM_SIZE","DEFAULT_VERTEX_STREAM_TYPE","DEFAULT_VERTEX_STREAM_NORMALIZED","DEFAULT_VERTEX_STREAM_STRIDE","DEFAULT_VERTEX_STREAM_OFFSET","DEFAULT_PRIMITIVE_STREAM_MODE","DEFAULT_PRIMITIVE_STREAM_FIRST","DEFAULT_PRIMITIVE_STREAM_COUNT","DEFAULT_PRIMITIVE_STREAM_TYPE","DEFAULT_PRIMITIVE_STREAM_OFFSET","DEFAULT_SIMPLE_MODEL_VERTEX_MAP","position","semantic","value","normal","texcoord","user","DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP","triangles","mode","triangleStrip","triangleFan","lines","lineStrip","lineLoop","points","version","meta","access","logic","_fixDescriptorMeta","_fixDescriptorData","_fixDescriptorAccess","_fixDescriptorSemantic","_fixDescriptorLogic","author","date","description","vertexBuffers","indexBuffers","_fixDescriptorDataVertexBuffers","_fixDescriptorDataIndexBuffers","_fixDescriptorDataVertexBuffer","_fixDescriptorDataBuffer","_fixDescriptorDataIndexBuffer","untypedArray","typedArray","glBuffer","vertexStreams","primitiveStreams","_fixDescriptorAccessVertexStreams","_fixDescriptorAccessPrimitiveStreams","_fixDescriptorAccessVertexStream","_fixDescriptorAccessPrimitiveStream","first","bindings","chunks","_fixDescriptorSemanticBindings","_fixDescriptorSemanticChunks","_fixDescriptorSemanticBinding","_fixDescriptorSemanticBindingVertexStreams","_fixDescriptorSemanticBindingPrimitiveStreams","_fixDescriptorSemanticBindingVertexStream","_fixDescriptorSemanticBindingPrimitiveStream","_fixDescriptorSemanticChunk","techniques","_fixDescriptorSemanticChunkTechniques","_fixDescriptorSemanticChunkTechnique","binding","parts","_fixDescriptorLogicParts","_fixDescriptorLogicPart","_fixDescriptorLogicPartChunks","vertices","primitives","options","common","mainPart","descriptor","renderData","updateTypedArrays","destroyGL","partMap","buffered","constant","stream","streams","array","Technique","program","globals","_fixSemantic","_fixVertexStreams","_fixGlobals","charAt","substring","parseInt","vertexShader","fragmentShader","attributesMap","globalsMap","ModelRenderer","_vertexAttributesCount","MAX_VERTEX_ATTRIBS","_textureUnitsCount","_internalFramebuffer","_reset","_technique","_model","_partName","_chunkName","_primMode","_framebuffer","_inBegin","_enabledArrays","_boundTextures","_attribValues","_primitiveStreams","_techniqueDirty","_modelDirty","_modelPartDirty","_modelChunkDirty","_primModeDirty","_framebufferDirty","_viewportDirty","_dirty","_resetContext","disableVertexAttribArray","_update","vertexAttrib4fv","end","begin","unit","isInBegin","setTechnique","technique","setModel","setPart","_part","part","setChunk","_chunk","chunk","setPrimitiveMode","primitiveMode","setDefaultGlobals","setGlobals","setFramebuffer","activateOffScreenFramebuffer","activateMainFramebuffer","setFramebufferAttachments","setColorRenderTarget","setDepthRenderTarget","setStencilRenderTarget","setDepthStencilRenderTarget","clearFramebuffer","clearColor","clearDepth","clearStencil","Stencil_BUFFER_BIT","setViewport","setTexture","canRender","render","drawArrays","renderModelPart","renderModel","UserInterface","CanvasHandler","canvas","_canvas","_handler","_ignoreKeyRepeat","ignoreKeyRepeat","DEFAULT_IGNORE_KEY_REPEAT","_keysDown","_mouseButtonsDown","_dragging","_dragStartPos","_dragEndPos","_dragDeltaPos","_cursorPos","_cursorPrevPos","_cursorDeltaPos","_cursorDeltaTime","_cursorIncrPos","_cursorIncrTime","_clickPos","_clickPrevPos","_touches","_touchZoomDelta","_touchPanResolved","_drawEventPending","_drawEventHandler","_onDraw","_postDrawEventFunction","_postDrawEvent","_animateTime","_animatePrevTime","_animateDeltaTime","_animateRate","_animateID","_animateEventHandler","_onAnimate","_animateMS","_animateWithTimeout","_fastAnimate","_fpsUpdateMS","_fpsTime","_fpsCount","_fps","_delegateDraw","_FAST_ANIMATE_MESSAGE_NAME","stopPropagation","_FAST_DRAW_MESSAGE_NAME","tabIndex","_onTerminate","_onKeyDown","_onKeyUp","_onKeyPress","_onMouseButtonDown","_onMouseButtonUp","_onMouseMove","_onMouseOut","_onClick","_onDoubleClick","_onResize","_onMouseWheel","_onBlur","SglBrowser","pointerType","_onTouchStart","_onTouchEnd","_onTouchMove","_onWindowMouseButtonUp","_onWindowMouseMove","_onWindowResize","standardGLUnpack","DEFAULT_STANDARD_GL_UNPACK","animateRate","DEFAULT_ANIMATE_RATE","DEFAULT_PROPERTY_NAME","_firstNotify","_onInitialize","postDrawEvent","_postDrawCount","requestAnimationFrame","_getMouseClientPos","getBoundingClientRect","changedTouches","clientX","left","clientY","timeStamp","keyCode","fromCharCode","focus","targetTouches","id","pointerId","evt","preventDefault","button","_resolveTouchZoom","_resolveTouchPan","event","wheelDelta","detail","setTimeout","postMessage","postDrawCount","animateTime","animatePrevTime","animateDeltaTime","clearInterval","setInterval","framesPerSecond","isKeyDown","isMouseButtonDown","isDragging","dragStartX","dragStartY","dragEndX","dragEndY","dragDeltaX","dragDeltaY","cursorX","cursorY","cursorPrevX","cursorPrevY","cursorDeltaX","cursorDeltaY","draw","handleCanvas","uiName","handleCanvasOnLoad","onLoad","HOP_VERSION","HOP_ALL","HOP_DEBUGMODE","HOP_DEFAULTLIGHT","HOP_DEFAULTPOINTSIZE","SGL_TRACKBALL_NO_ACTION","SGL_TRACKBALL_ROTATE","SGL_TRACKBALL_PAN","SGL_TRACKBALL_DOLLY","SGL_TRACKBALL_SCALE","Presenter","_supportsWebGL","sglHandleCanvas","console","_parseScene","background","_parseBackground","meshes","_parseMeshes","texturedQuads","_parseTexturedQuads","modelInstances","_parseModelInstances","spots","_parseSpots","trackball","_parseTrackball","space","_parseSpace","config","_parseConfig","sglGetDefaultObject","isEnvironment","_parseMesh","transform","_parseTransform","_parseTexturedQuad","_parseModelInstance","mesh","rendermode","useSolidColor","specularColor","backfaceColor","alpha","useTransparency","useLighting","cursor","ID","visible","tags","clippable","_instancesProgressiveID","_parseSpot","useStencil","_spotsProgressiveID","TurnTableTrackball","trackOptions","locked","centerMode","radiusMode","whichInstanceCenter","whichInstanceRadius","explicitCenter","explicitRadius","cameraFOV","cameraNearFar","cameraType","sceneLighting","pickedpointColor","measurementColor","showClippingPlanes","showClippingBorder","clippingBorderSize","clippingBorderColor","pointSize","pointSizeMinMax","SglMat4","rotation","overwrite","matrixT","matrixR","matrixS","mrX","sglDegToRad","mrY","mrZ","_createStandardPointNXSProgram","ui","nxsVertexShader","SglVertexShader","_isDebugging","nxsFragmentShader","SglFragmentShader","SglProgram","aPosition","aNormal","aColor","aPointSize","uWorldViewProjectionMatrix","uViewSpaceNormalMatrix","SglMat3","uWorldViewMatrix","uModelMatrix","uViewSpaceLightDirection","uPointSize","uAlpha","uUseSolidColor","uUseLighting","uSolidColor","uSpecularColor","uClipPoint","uClipAxis","uClipPlane","uClipColor","uClipColorSize","_createStandardFaceNXSProgram","aTextureCoord","uBackFaceColor","uSampler","_createXYZNXSProgram","_createColorCodedIDNXSProgram","uColorID","_createColorShadedNXSProgram","_createStandardPointPLYtechnique","SglTechnique","_createStandardFacePLYtechnique","_createXYZPLYtechnique","_createColorCodedIDPLYtechnique","_createColorShadedPLYtechnique","_createSimpleLinetechnique","uLineColor","uPointA","uPointB","_createMultiLinesPointstechnique","_onMeshReady","_objectLoaded","_onTextureReady","_onBackgroundReady","_objectsToLoad","_testReady","track","_onLoadedEvent","that","_sceneReady","_scenePrepare","repaint","_scene","instances","renderable","inst","renderMode","spt","_isSceneReady","_sceneParsed","_pickingRefresh","pickedPixel","_pickpoint","_onEndPickingPoint","_onEndMeasurement","_onPickedSpot","_onEnterSpot","_onLeaveSpot","_drawScenePickingSpots","_Color2ID","_lastSpotID","_pickedSpot","_onHover","_lastPickedSpot","_isMeasuring","_lastCursor","style","_onPickedInstance","_onEnterInstance","_onLeaveInstance","_drawScenePickingInstances","_lastInstanceID","_pickedInstance","_lastPickedInstance","_measureRefresh","_isMeasuringDistance","ppoint","_drawScenePickingXYZ","_measurementStage","_pointA","_pointB","measurement","SglVec3","_startMeasurement","_stopMeasurement","_isMeasuringPickpoint","_pickpointRefresh","_pickedPoint","_pickValid","_startPickPoint","_stopPickPoint","_setSceneCenterRadius","sceneCenter","sceneRadiusInv","instCenter","datasetCenter","SglVec4","smin","smax","imin","imax","radius","datasetRadius","vector111","scalefactor","scenter","_destroyPickFramebuffer","pickFramebuffer","pickColorTexture","pickDepthRenderbuffer","_createPickFramebuffer","SglTexture2D","SglRenderbuffer","DEPTH_COMPONENT16","SglFramebuffer","_setupDraw","xform","FOV","nearP","farP","cDistance","distance","Nexus","beginFrame","_ID2Color","intID","IDr","IDg","_onPlyLoaded","req","thatmesh","plyData","modelDescriptor","importPly","TMR","SglModel","extra","boundingBox","textureUrl","texUrl","tmpUrl","split","j","concat","texture","hasTexture","_drawScene","renderer","CurrFaceProgram","faceNXSProgram","CurrPointProgram","pointNXSProgram","CurrFaceTechnique","facePLYTechnique","CurrPointTechnique","pointPLYTechnique","CCProgram","colorShadedNXSProgram","CCTechnique","colorShadedPLYTechnique","lineTechnique","simpleLineTechnique","bkg","DEPTH_TEST","instance","thisClipAxis","_clipAxis","thisClipPlane","_clipPlane","thisClipBordersize","_lightDirection","_clipPoint","isNexus","nexus","updateView","depthMask","BLEND","blendFunc","SRC_ALPHA","ONE","disable","depthFunc","LESS","lineUniforms","simpleLineModel","GREATER","spot","colorMask","STENCIL_TEST","stencilFunc","ALWAYS","stencilOp","KEEP","INVERT","EQUAL","planepoint","k","_sceneBboxCenter","rotm","_clipPlaneAH","_clipPlaneAV","psize","_sceneBboxDiag","QuadUniforms","simpleQuadXModel","_sceneBboxMax","_sceneBboxMin","simpleQuadYModel","simpleQuadZModel","endFrame","CurrProgram","colorCodedXYZNXSProgram","CurrTechnique","colorCodedXYZPLYTechnique","pixel","ppointc","rr","gg","bb","colorCodedIDNXSProgram","colorCodedIDPLYTechnique","colorID","_drawNull","_createLineModel","_createQuadModels","onInitialize","SglModelRenderer","SglTransformationStack","_nexusTargetFps","_nexusTargetError","_nexusCacheSize","multiLinesPointsTechnique","_keycombo","_targetInstanceName","_targetHotSpotName","_animating","_movingLight","_resizable","_clickable","onDrag","dxl","dyl","rotateLight","action","diff","testMatrix","_matrix","onMouseMove","onMouseOut","createEvent","initEvent","dispatchEvent","onMouseButtonDown","onClick","xy","clickDeltaPos","clickDeltaTime","clickDeltaDist","recenter","onKeyPress","key","charCode","Debug","nodes","toggleCameraType","getState","onKeyUp","onMouseWheel","altKey","testValue","factor","onAnimate","dt","tick","onDraw","setScene","enableLightTrackball","scene","tex","setup","setTargetError","setTargetFps","setMaxCacheSize","nexus_instance","Renderer","onUpdate","sglRequestBinary","quad","supportsWebGL","toggleDebugMode","setNexusTargetFps","fps","getNexusTargetFps","setNexusTargetError","getNexusTargetError","setNexusCacheSize","getNexusCacheSize","resetTrackball","getTrackballPosition","setTrackballPosition","newposition","setState","animateToTrackballPosition","newtime","animateToState","isAnimate","setCenterModeFirst","setCenterModeScene","setCenterModeSpecific","instancename","setCenterModeExplicit","newcenter","isFinite","setRadiusModeFirst","setRadiusModeScene","setRadiusModeSpecific","setRadiusModeExplicit","newradius","setInstanceSolidColorByName","newState","redraw","newColor","setInstanceSolidColor","tag","tg","toggleInstanceSolidColorByName","toggleInstanceSolidColor","isInstanceSolidColorEnabledByName","solidcolor","isInstanceSolidColorEnabled","setInstanceTransparencyByName","newAlpha","setInstanceTransparency","toggleInstanceTransparencyByName","toggleInstanceTransparency","isInstanceTransparencyEnabledByName","transparency","isInstanceTransparencyEnabled","setInstanceSpecularityByName","hardness","setInstanceSpecularity","setInstanceBackfaceByName","modecode","setInstanceBackface","setInstanceVisibilityByName","setInstanceVisibility","toggleInstanceVisibilityByName","toggleInstanceVisibility","isInstanceVisibilityEnabledByName","visibility","isInstanceVisibilityEnabled","setSpotVisibilityByName","setSpotVisibility","toggleSpotVisibilityByName","toggleSpotVisibility","isSpotVisibilityEnabledByName","isSpotVisibilityEnabled","resetClippingXYZ","_calculateBounding","setClippingXYZ","cx","cy","cz","setClippingX","setClippingY","setClippingZ","getClippingX","getClippingY","getClippingZ","setClippingPointXYZabs","clx","cly","clz","setClippingPointXabs","setClippingPointYabs","setClippingPointZabs","setClippingPointXYZ","nClipPoint","setClippingPointX","setClippingPointY","setClippingPointZ","setClippingRendermode","showPlanes","showBorder","borderSize","borderColor","getClippingRendermode","resetClippingPlane","setClippingPlaneExplicit","axis","setClippingPlane","angleH","angleV","sign","delta","deltaabs","sceneOff","zoomIn","zoomOut","z","on","isLightTrackballEnabled","enableOnHover","isOnHoverEnabled","enableMeasurementTool","isMeasurementToolEnabled","enablePickpointMode","isPickpointModeEnabled","isAnyMeasurementEnabled","setCameraPerspective","setCameraOrthographic","getCameraType","toggleTrackballLock","setTrackballLock","isTrackballLockEnabled","enableSceneLighting","isSceneLightingEnabled","setInstanceLightingByName","setInstanceLighting","toggleInstanceLightingByName","toggleInstanceLighting","isInstanceLightingEnabledByName","Lighting","isInstanceLightingEnabled","parsePly","canonicTypes","char","int8","uchar","uint8","short","int16","ushort","uint16","int","int32","uint","uint32","float","float32","double","float64","trim","extractHeader","u8","header","found","currC","prevC","pos","splitHeader","trimmed","tokens","parseHeader","prop","tn","info","elements","elementMap","comments","others","binary","littleEndian","properties","propertyMap","tabStr","setupLines","tabs","generateReadValue","assignExpr","types","newIdentifiers","nIde","vIde","iIde","generateReadProperty","generateReadElement","props","generateReadElements","elemIndex","generateReadMesh","elems","elementLines","ides","ide","sort","join","getMeshInfo","mainParsePly","handler","emptyFunc","callbacks","onBegin","onHeader","onBeginContent","onBeginElements","onElement","onEndElements","onEndContent","onEnd","dataView","DataView","map","_textureUrl","readMeshStr","readMeshFunc","eval","canonicType","emptyFunction","propertiesTypes","PlyHandler","_buffer","_modelDescriptor","_verticesCount","_vertexAttributes","_vertexStride","_vertexBuffer","_handleVertex","_facesCount","_indexBuffer","_handleFace","_view","_hasPosition","_hasNormal","_hasColor","_hasTexCoord","_renderMode","_boundingBox","mainImportPly","ptypes","verticesCount","vertexLines","vertexAttributes","vertexStride","hasPosition","hasNormal","hasColor","hasTexCoord","facesCount","faceLines","_mesh","vertexFuncStr","faceFuncStr","elementInfo","_handleElement","element","control","modelVertexBuffers","modelIndexBuffers","modelVertexStreams","modelPrimitiveStreams","modelBindings","modelChunks","modelParts","Float64Array","vertexBufferView","indexBufferView","chunksCount","chunkVertexBuffers","chunkVerticesCount","chunkIndexBuffers","chunkIndicesCount","facesLeft","currFaceIndex","indicesBuffer","verticesMap","verticesNew","indicesCount","chunkVertexBuffer","chunkVertexBufferView","chunkIndexBuffer","set","subarray","partChunks","indexBufferName","bindingName","chunkName","vertexBufferName","attr","vertexStreamName","pointStreamName","triStreamName","unshift","PanTiltTrackball","opt","startCenter","startPanX","startPanY","startAngleX","startAngleY","startDistance","minMaxDist","minMaxPanX","minMaxPanY","minMaxAngleX","minMaxAngleY","pathStates","animationLocked","animationTime","_action","_new_action","_pathStates","_animationLocked","_pathPosNum","_center","_startPanX","_startPanY","_startAngleX","_startAngleY","_startDistance","_panX","_panY","_angleX","_angleY","_distance","_targetPanX","_targetPanY","_targetAngleX","_targetAngleY","_targetDistance","_isAnimating","_speedPanX","_speedPanY","_speedAngleX","_speedAngleY","_speedDistance","_isAutoWalking","_animationTime","_minMaxDist","_minMaxPanX","_minMaxPanY","_minMaxAngleX","_minMaxAngleY","_start","_clamp","low","high","_computeMatrix","onTrackballUpdate","sglRadToDeg","newstate","timePanX","timePanY","timeAngleX","timeAngleY","timeDistance","maxtime","animationtime","state","time","newpoint","newpanX","presenter","newpanY","deltaPanX","deltaPanY","deltaAngleX","deltaAngleY","deltaDistance","diffPanX","diffPanY","diffAngleX","diffAngleY","diffDistance","dx","dy","pan","panSpeed","SphereTrackball","_sphereMatrix","_pts","_projectOnSphere","sglSqrt","_transform","_transformOnSphere","_translate","invMat","trMat","newpanZ","dolly","mInv","v0","v1","angle","rotMat","dz","startPhi","startTheta","minMaxPhi","minMaxTheta","_startPhi","_startTheta","_phi","_theta","_targetPhi","_targetTheta","_speedPhi","_speedTheta","_limitPhi","_minMaxPhi","_minMaxTheta","clampedangle","speedphi","timePhi","timeTheta","deltaPhi","deltaTheta","diffPhi","diffTheta","TurntablePanTrackball","startPanZ","minMaxPanZ","_startPanZ","_panZ","_targetPanZ","_speedPanZ","_minMaxPanZ","timePanZ","deltaPanZ","diffPanZ","Xvec","Yvec","Zvec","init3dhop","interval","ismousedown","isIOS","$","append","mouseenter","css","mouseout","mousedown","actionsToolbar","mouseup","isMobile","getSelection","removeAllRanges","selection","createRange","empty","msFullscreenElement","mozFullScreen","webkitIsFullScreen","exitFullscreen","click","enterFullscreen","resizeCanvas","documentElement","clientWidth","innerWidth","clientHeight","innerHeight","scrollX","scrollY","scrollTo","parent","anchorPanels","set3dhlg","html","mouseover","animate","lightSwitch","undefined","lightingSwitch","hotspotSwitch","pickpointSwitch","fadeIn","measureSwitch","colorSwitch","cameraSwitch","sectiontoolSwitch","sectiontoolInit","xplaneSlider","step","defaultValue","oninput","sectionxSwitch","valueAsNumber","onchange","yplaneSlider","sectionySwitch","zplaneSlider","sectionzSwitch","xplaneFlip","defaultChecked","checked","yplaneFlip","zplaneFlip","planesCheck","edgesCheck","sectiontoolReset","fullscreenSwitch","_nativeWidth","_nativeHeight","_nativeResizable","viewer","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","measurementSwitch","moveToolbar","movePickpointbox","moveMeasurementbox","moveSectionsbox","moveMeasurebox","MSStream","vendor"],"mappings":"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","file":"3dviewer.min.js","sourcesContent":["/*\nSpiderGL Computer Graphics Library\nCopyright (c) 2010, Marco Di Benedetto - Visual Computing Lab, ISTI - CNR\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n    * Neither the name of SpiderGL nor the\n      names of its contributors may be used to endorse or promote products\n      derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL PAUL BRUNT BE LIABLE FOR ANY\nDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nvar SpiderGL={TAG:0,openNamespace:function(e){e=SpiderGL.Utility.getDefaultObject({globalObject:SpiderGL.openNamespace.DEFAULT_GLOBAL_OBJECT,constantPrefix:SpiderGL.openNamespace.DEFAULT_CONSTANT_PREFIX,functionPrefix:SpiderGL.openNamespace.DEFAULT_FUNCTION_PREFIX,classPrefix:SpiderGL.openNamespace.DEFAULT_CLASS_PREFIX},e);var t=new RegExp(\"^(([_$0-9A-Z])+)$\");function r(e){return t.test(e)}var i=new RegExp(\"^([A-Z])\");var n=new RegExp(\"^(([a-z])+([_$0-9A-Za-z])*)$\");function a(e){return e.substr(0,1).toUpperCase()+e.substr(1)}var s={},o={},u={};function d(e){var t,a;if(e)for(var d in e)if(\"_\"!=d.substr(0,1)){var p=e[d];a=d,i.test(a)&&!r(a)?s[d]=p:(t=d,n.test(t)?o[d]=p:r(d)&&(u[d]=p))}}var p=[\"Core\",\"DOM\",\"IO\",\"Math\",\"Mesh\",\"Model\",\"Semantic\",\"Space\",\"Type\",\"UserInterface\",\"Utility\",\"Version\",\"WebGL\"];for(var h in p)d(SpiderGL[p[h]]);for(var h in s){var _=e.classPrefix+a(h);e.globalObject[_]=s[h]}for(var h in o){_=e.functionPrefix+a(h);e.globalObject[_]=o[h]}for(var h in u){_=e.constantPrefix+a(h);e.globalObject[_]=u[h]}}};SpiderGL.openNamespace.DEFAULT_GLOBAL_OBJECT=window,SpiderGL.openNamespace.DEFAULT_CONSTANT_PREFIX=\"SGL_\",SpiderGL.openNamespace.DEFAULT_FUNCTION_PREFIX=\"sgl\",SpiderGL.openNamespace.DEFAULT_CLASS_PREFIX=\"Sgl\",SpiderGL.Version={},SpiderGL.Version.VERSION_MAJOR=0,SpiderGL.Version.VERSION_MINOR=2,SpiderGL.Version.VERSION_REVISION=1,SpiderGL.Version.VERSION_STRING=SpiderGL.Version.VERSION_MAJOR+\".\"+SpiderGL.Version.VERSION_MINOR+\".\"+SpiderGL.Version.VERSION_REVISION,SpiderGL.Core={},SpiderGL.Core.DEFAULT={},SpiderGL.Core.DONT_CARE={},SpiderGL.Core.EMPTY_STRING=\"\",SpiderGL.Core.EMPTY_OBJECT={},SpiderGL.Core.EMPTY_ARRAY=[],SpiderGL.Core.EMPTY_FUNCTION=function(){},SpiderGL.Core.generateUID=function(){return SpiderGL.Core.generateUID._lastUID++,SpiderGL.Core.generateUID._lastUID},SpiderGL.Core.generateUID._lastUID=0,SpiderGL.Core.ObjectBase=function(){this._uid=SpiderGL.Core.generateUID()},SpiderGL.Core.ObjectBase.prototype={get uid(){return this._uid}},SpiderGL.Type={},SpiderGL.Type.LITTLE_ENDIAN=function(){var e=new Uint8Array([18,52]);return 13330==new Uint16Array(e.buffer)[0]}(),SpiderGL.Type.BIG_ENDIAN=!SpiderGL.Type.BIG_ENDIAN,SpiderGL.Type.NO_TYPE=0,SpiderGL.Type.INT8=1,SpiderGL.Type.UINT8=2,SpiderGL.Type.INT16=3,SpiderGL.Type.UINT16=4,SpiderGL.Type.INT32=5,SpiderGL.Type.UINT32=6,SpiderGL.Type.FLOAT32=7,SpiderGL.Type.SIZEOF_INT8=Int8Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT8=Uint8Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_INT16=Int16Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT16=Uint16Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_INT32=Int32Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT32=Uint32Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_FLOAT32=Float32Array.BYTES_PER_ELEMENT,SpiderGL.Type.typeSize=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=0,e[SpiderGL.Type.INT8]=SpiderGL.Type.SIZEOF_INT8,e[SpiderGL.Type.UINT8]=SpiderGL.Type.SIZEOF_UINT8,e[SpiderGL.Type.INT16]=SpiderGL.Type.SIZEOF_INT16,e[SpiderGL.Type.UINT16]=SpiderGL.Type.SIZEOF_UINT16,e[SpiderGL.Type.INT32]=SpiderGL.Type.SIZEOF_INT32,e[SpiderGL.Type.UINT32]=SpiderGL.Type.SIZEOF_UINT32,e[SpiderGL.Type.FLOAT32]=SpiderGL.Type.SIZEOF_FLOAT32,function(t){return e[t]}}(),SpiderGL.Type.typeToGL=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=WebGLRenderingContext.prototype.NONE,e[SpiderGL.Type.INT8]=WebGLRenderingContext.prototype.BYTE,e[SpiderGL.Type.UINT8]=WebGLRenderingContext.prototype.UNSIGNED_BYTE,e[SpiderGL.Type.INT16]=WebGLRenderingContext.prototype.SHORT,e[SpiderGL.Type.UINT16]=WebGLRenderingContext.prototype.UNSIGNED_SHORT,e[SpiderGL.Type.INT32]=WebGLRenderingContext.prototype.INT,e[SpiderGL.Type.UINT32]=WebGLRenderingContext.prototype.UNSIGNED_INT,e[SpiderGL.Type.FLOAT32]=WebGLRenderingContext.prototype.FLOAT,function(t){return e[t]}}(),SpiderGL.Type.typeFromGL=function(){var e={};return e[WebGLRenderingContext.prototype.NONE]=SpiderGL.Type.NO_TYPE,e[WebGLRenderingContext.prototype.BYTE]=SpiderGL.Type.INT8,e[WebGLRenderingContext.prototype.UNSIGNED_BYTE]=SpiderGL.Type.UINT8,e[WebGLRenderingContext.prototype.SHORT]=SpiderGL.Type.INT16,e[WebGLRenderingContext.prototype.UNSIGNED_SHORT]=SpiderGL.Type.UINT16,e[WebGLRenderingContext.prototype.INT]=SpiderGL.Type.INT32,e[WebGLRenderingContext.prototype.UNSIGNED_INT]=SpiderGL.Type.UINT32,e[WebGLRenderingContext.prototype.FLOAT]=SpiderGL.Type.FLOAT32,function(t){return e[t]}}(),SpiderGL.Type.typeSizeFromGL=function(e){var t=SpiderGL.Type.typeFromGL(e);return SpiderGL.Type.typeSize(t)},SpiderGL.Type.typeToTypedArrayConstructor=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=ArrayBuffer,e[SpiderGL.Type.INT8]=Int8Array,e[SpiderGL.Type.UINT8]=Uint8Array,e[SpiderGL.Type.INT16]=Int16Array,e[SpiderGL.Type.UINT16]=Uint16Array,e[SpiderGL.Type.INT32]=Int32Array,e[SpiderGL.Type.UINT32]=Uint32Array,e[SpiderGL.Type.FLOAT32]=Float32Array,function(t){return e[t]}}(),SpiderGL.Type.POINTS=0,SpiderGL.Type.LINES=1,SpiderGL.Type.LINE_LOOP=2,SpiderGL.Type.LINE_STRIP=3,SpiderGL.Type.TRIANGLES=4,SpiderGL.Type.TRIANGLE_FAN=5,SpiderGL.Type.TRIANGLE_STRIP=6,SpiderGL.Type.primitiveToGL=function(){var e={};return e[SpiderGL.Type.POINTS]=WebGLRenderingContext.prototype.POINTS,e[SpiderGL.Type.LINES]=WebGLRenderingContext.prototype.LINES,e[SpiderGL.Type.LINE_LOOP]=WebGLRenderingContext.prototype.LINE_LOOP,e[SpiderGL.Type.LINE_STRIP]=WebGLRenderingContext.prototype.LINE_STRIP,e[SpiderGL.Type.TRIANGLES]=WebGLRenderingContext.prototype.TRIANGLES,e[SpiderGL.Type.TRIANGLE_FAN]=WebGLRenderingContext.prototype.TRIANGLE_FAN,e[SpiderGL.Type.TRIANGLE_STRIP]=WebGLRenderingContext.prototype.TRIANGLE_STRIP,function(t){return e[t]}}(),SpiderGL.Type.instanceOf=function(e,t){return e instanceof t},SpiderGL.Type.isNumber=function(e){return\"number\"==typeof e},SpiderGL.Type.isString=function(e){return\"string\"==typeof e},SpiderGL.Type.isFunction=function(e){return\"function\"==typeof e},SpiderGL.Type.isArray=function(e){return e&&e.constructor===Array},SpiderGL.Type.isTypedArray=function(e){return e&&void 0!==e.buffer&&e.buffer instanceof ArrayBuffer},SpiderGL.Type.extend=function(e,t){function r(){}r.prototype=t.prototype;var i=e.prototype,n=new r;n.constructor=e;var a=null,s=null;for(var o in i)(a=i.__lookupGetter__(o))&&n.__defineGetter__(o,a),(s=i.__lookupSetter__(o))&&n.__defineSetter__(o,s),a||s||(n[o]=i[o]);e.prototype=n},SpiderGL.Type.defineClassGetter=function(e,t,r){e.prototype.__defineGetter__(t,r)},SpiderGL.Type.defineClassSetter=function(e,t,r){e.prototype.__defineSetter__(t,r)},SpiderGL.Type.defineObjectGetter=function(e,t,r){e.__defineGetter__(t,r)},SpiderGL.Type.defineObjectSetter=function(e,t,r){e.__defineSetter__(t,r)},SpiderGL.Utility={},SpiderGL.Utility.getDefaultValue=function(e,t){return void 0===e||e===SpiderGL.Core.DEFAULT?t:e},SpiderGL.Utility.getDefaultObject=function(e,t){if(t){var r=SpiderGL.Core.DEFAULT;for(var i in t)t[i]!=r&&(e[i]=t[i])}return e},SpiderGL.Utility.setDefaultValues=function(e,t){if(!t)return e;var r=SpiderGL.Core.DEFAULT;for(var i in t)t[i]==r&&void 0!==e[i]&&(t[i]=e[i]);for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},SpiderGL.Utility.getAttrib4fv=function(e){return SpiderGL.Type.isNumber(e)?[e,0,0,1]:e?[null!=e[0]?e[0]:0,null!=e[1]?e[1]:0,null!=e[2]?e[2]:0,null!=e[3]?e[3]:1]:[0,0,0,1]},SpiderGL.Utility.getTime=function(){return(new Date).getTime()},SpiderGL.Utility.Timer=function(){this._tStart=-1,this._tElapsed=0},SpiderGL.Utility.Timer.prototype={_accumElapsed:function(){this._tElapsed+=this.now-this._tStart},get now(){return Date.now()},start:function(){this.isStarted||this.isPaused||(this._tStart=this.now,this._tElapsed=0)},restart:function(){var e=this.elapsed;return this._tStart=this.now,this._tElapsed=0,e},stop:function(){this.isStarted&&(this.isPaused||(this._accumElapsed(),this._tStart=-1))},get isStarted(){return this._tStart>=0},pause:function(){this.isStarted&&(this.isPaused||(this._accumElapsed(),this._tStart=-2))},resume:function(){this.isStarted&&this.isPaused&&(this._tStart=this.now)},get isPaused(){return-2==this._tStart},get elapsed(){return this.isStarted?this._tElapsed+(this.now-this._tStart):this._tElapsed}},SpiderGL.Utility.Browser=function(){},SpiderGL.Utility.Browser.prototype={get isOpera(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(\" OPR/\")>=0},get isFirefox(){return\"undefined\"!=typeof InstallTrigger||navigator.userAgent.toLowerCase().indexOf(\"fxios\")>-1},get isSafari(){return!!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/)||/constructor/i.test(window.HTMLElement)||\"[object SafariRemoteNotification]\"===(!window.safari||\"undefined\"!=typeof safari&&safari.pushNotification).toString()},get isIE(){return!!document.documentMode},get isEdge(){return!this.isIE&&!!window.StyleMedia},get isChrome(){return!!window.chrome&&!!window.chrome.webstore}},SpiderGL.DOM={},SpiderGL.DOM.getElementById=function(e){return document.getElementById(e)},SpiderGL.DOM.getElementText=function(e){var t=document.getElementById(e);if(!t)return null;var r=\"\";for(t=t.firstChild;t;)3==t.nodeType&&(r+=t.textContent),t=t.nextSibling;return r},SpiderGL.IO={},SpiderGL.IO.Request=function(e,t){SpiderGL.Core.ObjectBase.call(this),t=SpiderGL.Utility.getDefaultObject({async:SpiderGL.IO.Request.DEFAULT_ASYNC,send:SpiderGL.IO.Request.DEFAULT_SEND,onProgress:null,onCancel:null,onError:null,onSuccess:null,onFinish:null},t),this._url=e,this._async=t.async,this._status=SpiderGL.IO.Request.NONE,this._sent=!1,this._aborted=!1,this._data=null,this._loaded=0,this._total=0,this._events={progress:{main:null,listeners:[]},cancel:{main:null,listeners:[]},error:{main:null,listeners:[]},success:{main:null,listeners:[]},finish:{main:null,listeners:[]}},this.onProgress=t.onProgress,this.onCancel=t.onCancel,this.onError=t.onError,this.onSuccess=t.onSuccess,this.onFinish=t.onFinish},SpiderGL.IO.Request.NONE=0,SpiderGL.IO.Request.ONGOING=1,SpiderGL.IO.Request.CANCELLED=2,SpiderGL.IO.Request.FAILED=3,SpiderGL.IO.Request.SUCCEEDED=4,SpiderGL.IO.Request.DEFAULT_ASYNC=!0,SpiderGL.IO.Request.DEFAULT_SEND=!0,SpiderGL.IO.Request.prototype={_indexOf:function(e,t){for(var r=0,i=e.length;r<i;++r)if(e[r]==t)return r;return-1},_setMainListener:function(e,t){var r=this._events[e];r&&r.main!=t&&(t?this.addEventListener(e,t):this.removeEventListener(e,t),r.main=t)},_dispatch:function(){var e=arguments[0],t=this._events[e];if(t){var r=Array.prototype.slice.call(arguments,1);r.push(this);for(var i=t.listeners,n=0,a=i.length;n<a;++n)i[n].apply(null,r)}},_doPostProgress:function(){},_doPostCancel:function(){},_doPostError:function(){},_doPostSuccess:function(){},_doPostFinish:function(){},_doOnProgress:function(e,t){this._aborted||(this._loaded=e,this._total=t,this._doPostProgress(),this._dispatch(\"progress\",this._loaded,this._total))},_doOnCancel:function(){this._aborted||(this._status=SpiderGL.IO.Request.CANCELLED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostCancel(),this._dispatch(\"cancel\"))},_doOnError:function(){this._aborted||(this._status=SpiderGL.IO.Request.FAILED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostError(),this._dispatch(\"error\"))},_doOnSuccess:function(){this._aborted||(this._status=SpiderGL.IO.Request.SUCCEEDED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostSuccess(),this._dispatch(\"success\"))},_doOnFinish:function(){this._doPostFinish(),this._dispatch(\"finish\")},_doSend:function(){return!1},_doCancel:function(){return!1},get canSend(){return this._url&&!this._sent},get url(){return this._url},set url(e){this.cancel(),this._url=e},get status(){return this._status},get data(){return this._data},get bytesLoaded(){return this._loaded},get bytesTotal(){return this._total},get sent(){return this._sent},get ongoing(){return this._status==SpiderGL.IO.Request.ONGOING},get cancelled(){return this._status==SpiderGL.IO.Request.CANCELLED},get failed(){return this._status==SpiderGL.IO.Request.FAILED},get succeeded(){return this._status==SpiderGL.IO.Request.SUCCEEDED},get finished(){return this.succeeded||this.failed||this.cancelled},get startTime(){return this._startTime},get finishTime(){return this._finishTime},get elapsedTime(){return this._startTime<0?0:this._finishTime<0?SpiderGL.Utility.getTime()-this._startTime:this._finishTime-this._startTime},addEventListener:function(e,t){if(t){var r=this._events[e];if(r)this._indexOf(r.listeners,t)>=0||r.listeners.push(t)}},removeEventListener:function(e,t){var r=this._events[e];if(r){var i=this._indexOf(r.listeners,t);i<0||r.listeners.splice(i,1)}},get onProgress(){return this._events.progress.main},set onProgress(e){this._setMainListener(\"progress\",e)},get onCancel(){return this._events.cancel.main},set onCancel(e){this._setMainListener(\"cancel\",e)},get onError(){return this._events.error.main},set onError(e){this._setMainListener(\"error\",e)},get onSuccess(){return this._events.success.main},set onSuccess(e){this._setMainListener(\"success\",e)},get onFinish(){return this._events.finish.main},set onFinish(e){this._setMainListener(\"finish\",e)},cancel:function(){if(!this.ongoing)return!1;this._status=SpiderGL.IO.Request.CANCELLED,this._aborted=!0;var e=this._doCancel();return this._finishTime=SpiderGL.Utility.getTime(),e},send:function(){if(!this.canSend)return!1;this._data=null,this._status=SpiderGL.IO.Request.ONGOING,this._aborted=!1,this._sent=!0,this._finishTime=-1,this._startTime=SpiderGL.Utility.getTime();var e=this._doSend();return e||(this._startTime=-1,this._status=SpiderGL.IO.Request.NONE,this._sent=!1),e}},SpiderGL.Type.extend(SpiderGL.IO.Request,SpiderGL.Core.ObjectBase),SpiderGL.IO.XHRRequestBase=function(e,t){t=t||{},SpiderGL.IO.Request.call(this,e,t);var r=this,i=new XMLHttpRequest;if(this._xhr=i,i.onprogress=function(e){r._xhrOnProgress(e)},i.onabort=function(){r._doOnCancel(),r._doOnFinish()},i.onerror=function(){r._doOnError(),r._doOnFinish()},i.onload=function(){var e=i.status;0===e||200===e||r._range&&206==e?r._doOnSuccess():r._doOnError(),r._doOnFinish()},this._range=null,this._xhr.open(\"GET\",this._url,this._async),\"range\"in t){this._range=[t.range[0],t.range[1]];var n=\"bytes=\"+t.range[0]+\"-\"+t.range[1];i.setRequestHeader(\"Range\",n)}this._prepareXHR(),SpiderGL.Utility.getDefaultValue(t.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.XHRRequestBase.prototype={_prepareXHR:function(){},_doCancel:function(){return this._xhr.abort(),this._xhr=new XMLHttpRequest,this._xhr.open(\"GET\",this._url,this._async),this._prepareXHR(),!0},_doSend:function(){return this._xhr.send(),!0},_xhrOnProgress:function(e){var t=0,r=0;e&&e.lengthComputable&&(t=e.loaded,r=e.total),this._doOnProgress(t,r)}},SpiderGL.Type.extend(SpiderGL.IO.XHRRequestBase,SpiderGL.IO.Request),SpiderGL.IO.XHRRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.XHRRequest.prototype={_doPostSuccess:function(){this._data=this._xhr.responseText},get xhr(){return this._xhr},get response(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.XHRRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.TextRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.TextRequest.prototype={_doPostSuccess:function(){this._data=this._xhr.responseText},get text(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.TextRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readText=function(e){return new SpiderGL.IO.TextRequest(e,{async:!1}).text},SpiderGL.IO.requestText=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.TextRequest(e,t)},SpiderGL.IO.JSONRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.JSONRequest.prototype={_doPostSuccess:function(){this._data=JSON.parse(this._xhr.responseText)},get text(){return this._xhr.responseText},get json(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.JSONRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readJSON=function(e){return new SpiderGL.IO.JSONRequest(e,{async:!1}).json},SpiderGL.IO.requestJSON=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.JSONRequest(e,t)},SpiderGL.IO.BinaryRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.BinaryRequest.prototype={_prepareXHR:function(){var e=this._xhr;e.responseType=\"arraybuffer\"},_setArrayBuffer:function(){var e=this._xhr;if(\"arraybuffer\"==e.responseType)this._data=e.response;else if(null!=e.mozResponseArrayBuffer)this._data=e.mozResponseArrayBuffer;else if(null!=e.responseText){for(var t=new String(e.responseText),r=new Array(t.length),i=0,n=t.length;i<n;++i)r[i]=255&t.charCodeAt(i);this._data=new Uint8Array(r).buffer}else this._data=null},_doPostSuccess:function(){this._setArrayBuffer()},get data(){return this.ongoing&&this._setArrayBuffer(),this._data},get buffer(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.BinaryRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readBinary=function(e){return new SpiderGL.IO.BinaryRequest(e,{async:!1}).buffer},SpiderGL.IO.requestBinary=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.BinaryRequest(e,t)},SpiderGL.IO.ImageRequest=function(e,t){t=t||{},SpiderGL.IO.Request.call(this,e,t);var r=this,i=new Image;this._img=i,this._data=i,i.onabort=function(){r._doOnCancel(),r._doOnFinish()},i.onerror=function(){r._doOnError(),r._doOnFinish()},i.onload=function(){r._doOnSuccess(),r._doOnFinish()},void 0!==i.onprogress&&(i.onprogress=function(e){r._imgOnProgress(e)}),SpiderGL.Utility.getDefaultValue(t.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.ImageRequest.prototype={_doPostSuccess:function(){this._data=this._img},_doCancel:function(){return this._img.src=null,this._img=new Image,!0},_doSend:function(){return this._img.src=this._url,!0},_imgOnProgress:function(e){var t=0,r=0;e&&e.lengthComputable&&(t=e.loaded,r=e.total),this._doOnProgress(t,r)},get image(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.ImageRequest,SpiderGL.IO.Request),SpiderGL.IO.requestImage=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.ImageRequest(e,t)},SpiderGL.IO.AggregateRequest=function(e){e=e||{},SpiderGL.IO.Request.call(this,\"*\",e);var t=this;this._proxyOnProgress=function(e,r,i){t._reqOnProgress(e,r,i)},this._proxyOnCancel=function(e){t._reqOnCancel(e)},this._proxyOnError=function(e){t._reqOnError(e)},this._proxyOnSuccess=function(e){t._reqOnSuccess(e)},this._proxyOnFinish=function(e){t._reqOnFinish(e)},this._aggrStartTime=-1,this._aggrFinishTime=-1,this._eventReq=null,this._cancelledReqs=0,this._failedReqs=0,this._succeededReqs=0,this._requests=[];var r=e.requests;if(r)for(var i=0,n=r.length;i<n;++i){var a=r[i];a&&!a.sent&&(this._installProxies(a),this.addRequest(a))}SpiderGL.Utility.getDefaultValue(e.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.AggregateRequest.prototype={_doPostCancel:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doPostError:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doPostSuccess:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doCancel:function(){for(var e=this._requests,t=0,r=e.length;t<r;++t)e[t].cancel();this._aggrFinishTime=SpiderGL.Utility.getTime()},_doSend:function(){this._aggrStartTime=SpiderGL.Utility.getTime();for(var e=this._requests,t=0,r=e.length;t<r;++t)e[t].send()},get _requestsFinished(){return this._cancelledReqs+this._failedReqs+this._succeededReqs==this._requests.length},_installProxies:function(e){e.addEventListener(\"progress\",this._proxyOnProgress),e.addEventListener(\"cancel\",this._proxyOnCancel),e.addEventListener(\"error\",this._proxyOnError),e.addEventListener(\"success\",this._proxyOnSuccess),e.addEventListener(\"finish\",this._proxyOnFinish)},_uninstallProxies:function(e){e.removeEventListener(\"progress\",this._proxyOnProgress),e.removeEventListener(\"cancel\",this._proxyOnCancel),e.removeEventListener(\"error\",this._proxyOnError),e.removeEventListener(\"success\",this._proxyOnSuccess),e.removeEventListener(\"finish\",this._proxyOnFinish)},_reqOnProgress:function(e,t,r){this._indexOf(this._requests,r)<0||(this._eventReq=r,this._doOnProgress(e,t),this._eventReq=null)},_reqOnCancel:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._cancelledReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._cancelledReqs==this._requests.length&&(this._eventReq=this,this._doOnCancel())),this._eventReq=null)},_reqOnError:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._failedReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._eventReq=this,this._doOnError()),this._eventReq=null)},_reqOnSuccess:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._succeededReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._eventReq=this,this._failedReqs>0?this._doOnError():this._doOnSuccess()),this._eventReq=null)},_reqOnFinish:function(e){this._indexOf(this._requests,e)<0||(this._uninstallProxies(e),this._eventReq=e,this._requestsFinished&&(this._eventReq=this,this._doOnFinish()),this._eventReq=null)},get eventSenderRequest(){return this._eventReq},get requests(){return this._requests.slice()},get requests$(){return this._requests},get startTime(){return this._aggrStartTime},get finishTime(){return this._aggrFinishTime},get elapsedTime(){return this._aggrStartTime<0?0:this._aggrFinishTime<0?SpiderGL.Utility.getTime()-this._aggrStartTime:this._aggrFinishTime-this._aggrStartTime},addRequest:function(e){e&&!this._sent&&(this._indexOf(this._requests,e)>=0||this._requests.push(e))},removeRequest:function(e){if(e&&!this._sent){var t=this._indexOf(this._requests,e);t<0||this._requests.splice(t,1)}}},SpiderGL.Type.extend(SpiderGL.IO.AggregateRequest,SpiderGL.IO.Request),SpiderGL.Math={},SpiderGL.Math.DEG_TO_RAD=Math.PI/180,SpiderGL.Math.E=Math.E,SpiderGL.Math.LN2=Math.LN2,SpiderGL.Math.LN10=Math.LN10,SpiderGL.Math.LOG2E=Math.LOG2E,SpiderGL.Math.LOG10E=Math.LOG10E,SpiderGL.Math.PI=Math.PI,SpiderGL.Math.RAD_TO_DEG=180/Math.PI,SpiderGL.Math.SQRT2=Math.SQRT2,SpiderGL.Math.MAX_VALUE=Number.MAX_VALUE,SpiderGL.Math.MIN_VALUE=Number.MIN_VALUE,SpiderGL.Math.MAX_NUMBER=SpiderGL.Math.MAX_VALUE,SpiderGL.Math.MIN_NUMBER=-SpiderGL.Math.MAX_VALUE,SpiderGL.Math.NAN=Number.NaN,SpiderGL.Math.INFINITY=1/0,SpiderGL.Math.abs=function(e){return Math.abs(e)},SpiderGL.Math.acos=function(e){return Math.acos(e)},SpiderGL.Math.asin=function(e){return Math.asin(e)},SpiderGL.Math.atan=function(e){return Math.atan(e)},SpiderGL.Math.atan2=function(e,t){return Math.atan2(e,t)},SpiderGL.Math.ceil=function(e){return Math.ceil(e)},SpiderGL.Math.clamp=function(e,t,r){return e<=t?t:e>=r?r:e},SpiderGL.Math.cos=function(e){return Math.cos(e)},SpiderGL.Math.degToRad=function(e){return e*SpiderGL.Math.DEG_TO_RAD},SpiderGL.Math.exp=function(e){return Math.exp(e)},SpiderGL.Math.floor=function(e){return Math.floor(e)},SpiderGL.Math.lerp=function(e,t,r){return e+r*(t-e)},SpiderGL.Math.ln=function(e){return Math.log(e)},SpiderGL.Math.log=function(e){return Math.log(e)},SpiderGL.Math.log2=function(e){return SpiderGL.Math.log(e)/SpiderGL.Math.LN2},SpiderGL.Math.log10=function(e){return SpiderGL.Math.log(e)/SpiderGL.Math.LN10},SpiderGL.Math.max=function(e){return Math.max.apply(Math,arguments)},SpiderGL.Math.min=function(e){return Math.min.apply(Math,arguments)},SpiderGL.Math.pow=function(e,t){return Math.pow(e,t)},SpiderGL.Math.radToDeg=function(e){return e*SpiderGL.Math.RAD_TO_DEG},SpiderGL.Math.random=function(){return Math.random()},SpiderGL.Math.random01=function(){return SpiderGL.Math.random()},SpiderGL.Math.random11=function(){return 2*SpiderGL.Math.random()-1},SpiderGL.Math.randomRange=function(e,t){return e+SpiderGL.Math.random()*(t-e)},SpiderGL.Math.round=function(e){return Math.sqrt(e)},SpiderGL.Math.sin=function(e){return Math.sin(e)},SpiderGL.Math.sqrt=function(e){return Math.sqrt(e)},SpiderGL.Math.tan=function(e){return Math.tan(e)},SpiderGL.Math.Vec2={},SpiderGL.Math.Vec2.dup=function(e){return e.slice(0,2)},SpiderGL.Math.Vec2.scalar=function(e){return[e,e]},SpiderGL.Math.Vec2.zero=function(){return[0,0]},SpiderGL.Math.Vec2.one=function(){return[1,1]},SpiderGL.Math.Vec2.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec2.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec2.to3=function(e,t){return[e[0],e[1],null!=t?t:0]},SpiderGL.Math.Vec2.to4=function(e,t,r){return[e[0],e[1],e[2],null!=t?t:0,null!=r?r:1]},SpiderGL.Math.Vec2.neg=function(e){return[-e[0],-e[1]]},SpiderGL.Math.Vec2.add=function(e,t){return[e[0]+t[0],e[1]+t[1]]},SpiderGL.Math.Vec2.adds=function(e,t){return[e[0]+t,e[1]+t]},SpiderGL.Math.Vec2.sub=function(e,t){return[e[0]-t[0],e[1]-t[1]]},SpiderGL.Math.Vec2.subs=function(e,t){return[e[0]-t,e[1]-t]},SpiderGL.Math.Vec2.ssub=function(e,t){return[e-t[0],e-t[1]]},SpiderGL.Math.Vec2.mul=function(e,t){return[e[0]*t[0],e[1]*t[1]]},SpiderGL.Math.Vec2.muls=function(e,t){return[e[0]*t,e[1]*t]},SpiderGL.Math.Vec2.div=function(e,t){return[e[0]/t[0],e[1]/t[1]]},SpiderGL.Math.Vec2.divs=function(e,t){return[e[0]/t,e[1]/t]},SpiderGL.Math.Vec2.sdiv=function(e,t){return[e/t[0],e/t[1]]},SpiderGL.Math.Vec2.rcp=function(e){return[1/e[0],1/e[1]]},SpiderGL.Math.Vec2.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},SpiderGL.Math.Vec2.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},SpiderGL.Math.Vec2.perp=function(e){return[e[1],-e[0]]},SpiderGL.Math.Vec2.sqLength=function(e){return SpiderGL.Math.Vec2.dot(e,e)},SpiderGL.Math.Vec2.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec2.sqLength(e))},SpiderGL.Math.Vec2.normalize=function(e){var t=1/SpiderGL.Math.Vec2.length(e);return SpiderGL.Math.Vec2.muls(e,t)},SpiderGL.Math.Vec2.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1])]},SpiderGL.Math.Vec2.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1])]},SpiderGL.Math.Vec2.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1])]},SpiderGL.Math.Vec2.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1])]},SpiderGL.Math.Vec2.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1])]},SpiderGL.Math.Vec2.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1])]},SpiderGL.Math.Vec2.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1])]},SpiderGL.Math.Vec2.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1])]},SpiderGL.Math.Vec2.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1])]},SpiderGL.Math.Vec2.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1])]},SpiderGL.Math.Vec2.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1])]},SpiderGL.Math.Vec2.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r)]},SpiderGL.Math.Vec2.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1])]},SpiderGL.Math.Vec2.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1])]},SpiderGL.Math.Vec2.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1])]},SpiderGL.Math.Vec2.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1])]},SpiderGL.Math.Vec2.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1])]},SpiderGL.Math.Vec2.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1])]},SpiderGL.Math.Vec2.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1])]},SpiderGL.Math.Vec2.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1])]},SpiderGL.Math.Vec2.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec2.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec2.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec2.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1])]},SpiderGL.Math.Vec2.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1])]},SpiderGL.Math.Vec2.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1])]},SpiderGL.Math.Vec2.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1])]},SpiderGL.Math.Vec2.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1])]},SpiderGL.Math.Vec2.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e},SpiderGL.Math.Vec2.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e},SpiderGL.Math.Vec2.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e},SpiderGL.Math.Vec2.adds$=function(e,t){return e[0]+=t,e[1]+=t,e},SpiderGL.Math.Vec2.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e},SpiderGL.Math.Vec2.subs$=function(e,t){return e[0]-=t,e[1]-=t,e},SpiderGL.Math.Vec2.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t},SpiderGL.Math.Vec2.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e},SpiderGL.Math.Vec2.muls$=function(e,t){return e[0]*=t,e[1]*=t,e},SpiderGL.Math.Vec2.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e},SpiderGL.Math.Vec2.divs$=function(e,t){return e[0]/=t,e[1]/=t,e},SpiderGL.Math.Vec2.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e},SpiderGL.Math.Vec2.perp$=function(e){var t=e[0];return e[0]=e[1],e[1]=-t,e},SpiderGL.Math.Vec2.normalize$=function(e){var t=1/SpiderGL.Math.Vec2.length(e);return SpiderGL.Math.Vec2.muls$(e,t)},SpiderGL.Math.Vec3={},SpiderGL.Math.Vec3.dup=function(e){return e.slice(0,3)},SpiderGL.Math.Vec3.scalar=function(e){return[e,e,e]},SpiderGL.Math.Vec3.zero=function(){return[0,0,0]},SpiderGL.Math.Vec3.one=function(){return[1,1,1]},SpiderGL.Math.Vec3.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec3.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec3.to2=function(e){return[e[0],e[1]]},SpiderGL.Math.Vec3.to4=function(e,t){return[e[0],e[1],e[2],null!=t?t:1]},SpiderGL.Math.Vec3.neg=function(e){return[-e[0],-e[1],-e[2]]},SpiderGL.Math.Vec3.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]},SpiderGL.Math.Vec3.adds=function(e,t){return[e[0]+t,e[1]+t,e[2]+t]},SpiderGL.Math.Vec3.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},SpiderGL.Math.Vec3.subs=function(e,t){return[e[0]-t,e[1]-t,e[2]-t]},SpiderGL.Math.Vec3.ssub=function(e,t){return[e-t[0],e-t[1],e-t[2]]},SpiderGL.Math.Vec3.mul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2]]},SpiderGL.Math.Vec3.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t]},SpiderGL.Math.Vec3.div=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2]]},SpiderGL.Math.Vec3.divs=function(e,t){return[e[0]/t,e[1]/t,e[2]/t]},SpiderGL.Math.Vec3.sdiv=function(e,t){return[e/t[0],e/t[1],e/t[2]]},SpiderGL.Math.Vec3.rcp=function(e){return[1/e[0],1/e[1],1/e[2]]},SpiderGL.Math.Vec3.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},SpiderGL.Math.Vec3.cross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},SpiderGL.Math.Vec3.sqLength=function(e){return SpiderGL.Math.Vec3.dot(e,e)},SpiderGL.Math.Vec3.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec3.sqLength(e))},SpiderGL.Math.Vec3.normalize=function(e){var t=1/SpiderGL.Math.Vec3.length(e);return SpiderGL.Math.Vec3.muls(e,t)},SpiderGL.Math.Vec3.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1]),SpiderGL.Math.abs(e[2])]},SpiderGL.Math.Vec3.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1]),SpiderGL.Math.acos(e[2])]},SpiderGL.Math.Vec3.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1]),SpiderGL.Math.asin(e[2])]},SpiderGL.Math.Vec3.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1]),SpiderGL.Math.atan(e[2])]},SpiderGL.Math.Vec3.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1]),SpiderGL.Math.atan2(e[2],t[2])]},SpiderGL.Math.Vec3.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1]),SpiderGL.Math.ceil(e[2])]},SpiderGL.Math.Vec3.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1]),SpiderGL.Math.clamp(e[2],t[2],r[2])]},SpiderGL.Math.Vec3.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1]),SpiderGL.Math.cos(e[2])]},SpiderGL.Math.Vec3.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1]),SpiderGL.Math.degToRad(e[2])]},SpiderGL.Math.Vec3.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1]),SpiderGL.Math.exp(e[2])]},SpiderGL.Math.Vec3.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1]),SpiderGL.Math.floor(e[2])]},SpiderGL.Math.Vec3.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r),SpiderGL.Math.lerp(e[2],t[2],r)]},SpiderGL.Math.Vec3.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1]),SpiderGL.Math.ln(e[2])]},SpiderGL.Math.Vec3.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1]),SpiderGL.Math.log(e[2])]},SpiderGL.Math.Vec3.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1]),SpiderGL.Math.log2(e[2])]},SpiderGL.Math.Vec3.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1]),SpiderGL.Math.log10(e[2])]},SpiderGL.Math.Vec3.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1]),SpiderGL.Math.max(e[2],t[2])]},SpiderGL.Math.Vec3.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1]),SpiderGL.Math.min(e[2],t[2])]},SpiderGL.Math.Vec3.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1]),SpiderGL.Math.pow(e[2],t[2])]},SpiderGL.Math.Vec3.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1]),SpiderGL.Math.radToDeg(e[2])]},SpiderGL.Math.Vec3.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec3.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec3.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec3.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1]),SpiderGL.Math.randomRange(e[2],t[2])]},SpiderGL.Math.Vec3.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1]),SpiderGL.Math.round(e[2])]},SpiderGL.Math.Vec3.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1]),SpiderGL.Math.sin(e[2])]},SpiderGL.Math.Vec3.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1]),SpiderGL.Math.sqrt(e[2])]},SpiderGL.Math.Vec3.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1]),SpiderGL.Math.tan(e[2])]},SpiderGL.Math.Vec3.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},SpiderGL.Math.Vec3.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e},SpiderGL.Math.Vec3.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e},SpiderGL.Math.Vec3.adds$=function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,e},SpiderGL.Math.Vec3.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e},SpiderGL.Math.Vec3.subs$=function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,e},SpiderGL.Math.Vec3.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t[2]=e-t[2],t},SpiderGL.Math.Vec3.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],e},SpiderGL.Math.Vec3.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e},SpiderGL.Math.Vec3.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],e},SpiderGL.Math.Vec3.divs$=function(e,t){return e[0]/=t,e[1]/=t,e[2]/=t,e},SpiderGL.Math.Vec3.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e[2]=t/e[2],e},SpiderGL.Math.Vec3.normalize$=function(e){var t=1/SpiderGL.Math.Vec3.length(e);return SpiderGL.Math.Vec3.muls$(e,t)},SpiderGL.Math.Vec4={},SpiderGL.Math.Vec4.dup=function(e){return e.slice(0,4)},SpiderGL.Math.Vec4.scalar=function(e){return[e,e,e,e]},SpiderGL.Math.Vec4.zero=function(){return[0,0,0,0]},SpiderGL.Math.Vec4.one=function(){return[1,1,1,1]},SpiderGL.Math.Vec4.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec4.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec4.to2=function(e){return[e[0],e[1]]},SpiderGL.Math.Vec4.to3=function(e){return[e[0],e[1],e[2]]},SpiderGL.Math.Vec4.neg=function(e){return[-e[0],-e[1],-e[2],-e[3]]},SpiderGL.Math.Vec4.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]},SpiderGL.Math.Vec4.adds=function(e,t){return[e[0]+t,e[1]+t,e[2]+t,e[3]+t]},SpiderGL.Math.Vec4.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3]]},SpiderGL.Math.Vec4.subs=function(e,t){return[e[0]-t,e[1]-t,e[2]-t,e[3]-t]},SpiderGL.Math.Vec4.ssub=function(e,t){return[e-t[0],e-t[1],e-t[2],e-t[3]]},SpiderGL.Math.Vec4.mul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3]]},SpiderGL.Math.Vec4.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]},SpiderGL.Math.Vec4.div=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2],e[3]/t[3]]},SpiderGL.Math.Vec4.divs=function(e,t){return[e[0]/t,e[1]/t,e[2]/t,e[3]/t]},SpiderGL.Math.Vec4.sdiv=function(e,t){return[e/t[0],e/t[1],e/t[2],e/t[3]]},SpiderGL.Math.Vec4.rcp=function(e){return[1/e[0],1/e[1],1/e[2],1/e[3]]},SpiderGL.Math.Vec4.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},SpiderGL.Math.Vec4.cross=function(e,t,r){var i=t[0]*r[1]-t[1]*r[0],n=t[0]*r[2]-t[2]*r[0],a=t[0]*r[3]-t[3]*r[0],s=t[1]*r[2]-t[2]*r[1],o=t[1]*r[3]-t[3]*r[1],u=t[2]*r[3]-t[3]*r[2];return[e[1]*u-e[2]*o+e[3]*s,e[0]*u+e[2]*a-e[3]*n,e[0]*o-e[1]*a+e[3]*i,e[0]*s+e[1]*n-e[2]*i]},SpiderGL.Math.Vec4.sqLength=function(e){return SpiderGL.Math.Vec4.dot(e,e)},SpiderGL.Math.Vec4.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec4.sqLength(e))},SpiderGL.Math.Vec4.normalize=function(e){var t=1/SpiderGL.Math.Vec4.length(e);return SpiderGL.Math.Vec4.muls(e,t)},SpiderGL.Math.Vec4.project=function(e){var t=1/e[3];return[e[0]*t,e[1]*t,e[2]*t,1]},SpiderGL.Math.Vec4.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1]),SpiderGL.Math.abs(e[2]),SpiderGL.Math.abs(e[3])]},SpiderGL.Math.Vec4.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1]),SpiderGL.Math.acos(e[2]),SpiderGL.Math.acos(e[3])]},SpiderGL.Math.Vec4.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1]),SpiderGL.Math.asin(e[2]),SpiderGL.Math.asin(e[3])]},SpiderGL.Math.Vec4.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1]),SpiderGL.Math.atan(e[2]),SpiderGL.Math.atan(e[3])]},SpiderGL.Math.Vec4.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1]),SpiderGL.Math.atan2(e[2],t[2]),SpiderGL.Math.atan2(e[3],t[3])]},SpiderGL.Math.Vec4.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1]),SpiderGL.Math.ceil(e[2]),SpiderGL.Math.ceil(e[3])]},SpiderGL.Math.Vec4.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1]),SpiderGL.Math.clamp(e[2],t[2],r[2]),SpiderGL.Math.clamp(e[3],t[3],r[3])]},SpiderGL.Math.Vec4.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1]),SpiderGL.Math.cos(e[2]),SpiderGL.Math.cos(e[3])]},SpiderGL.Math.Vec4.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1]),SpiderGL.Math.degToRad(e[2]),SpiderGL.Math.degToRad(e[3])]},SpiderGL.Math.Vec4.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1]),SpiderGL.Math.exp(e[2]),SpiderGL.Math.exp(e[3])]},SpiderGL.Math.Vec4.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1]),SpiderGL.Math.floor(e[2]),SpiderGL.Math.floor(e[3])]},SpiderGL.Math.Vec4.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r),SpiderGL.Math.lerp(e[2],t[2],r),SpiderGL.Math.lerp(e[3],t[3],r)]},SpiderGL.Math.Vec4.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1]),SpiderGL.Math.ln(e[2]),SpiderGL.Math.ln(e[3])]},SpiderGL.Math.Vec4.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1]),SpiderGL.Math.log(e[2]),SpiderGL.Math.log(e[3])]},SpiderGL.Math.Vec4.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1]),SpiderGL.Math.log2(e[2]),SpiderGL.Math.log2(e[3])]},SpiderGL.Math.Vec4.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1]),SpiderGL.Math.log10(e[2]),SpiderGL.Math.log10(e[3])]},SpiderGL.Math.Vec4.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1]),SpiderGL.Math.max(e[2],t[2]),SpiderGL.Math.max(e[3],t[3])]},SpiderGL.Math.Vec4.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1]),SpiderGL.Math.min(e[2],t[2]),SpiderGL.Math.min(e[3],t[3])]},SpiderGL.Math.Vec4.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1]),SpiderGL.Math.pow(e[2],t[2]),SpiderGL.Math.pow(e[3],t[3])]},SpiderGL.Math.Vec4.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1]),SpiderGL.Math.radToDeg(e[2]),SpiderGL.Math.radToDeg(e[3])]},SpiderGL.Math.Vec4.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec4.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec4.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec4.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1]),SpiderGL.Math.randomRange(e[2],t[2]),SpiderGL.Math.randomRange(e[3],t[3])]},SpiderGL.Math.Vec4.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1]),SpiderGL.Math.round(e[2]),SpiderGL.Math.round(e[3])]},SpiderGL.Math.Vec4.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1]),SpiderGL.Math.sin(e[2]),SpiderGL.Math.sin(e[3])]},SpiderGL.Math.Vec4.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1]),SpiderGL.Math.sqrt(e[2]),SpiderGL.Math.sqrt(e[3])]},SpiderGL.Math.Vec4.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1]),SpiderGL.Math.tan(e[2]),SpiderGL.Math.tan(e[3])]},SpiderGL.Math.Vec4.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},SpiderGL.Math.Vec4.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e[3]=-e[3],e},SpiderGL.Math.Vec4.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e},SpiderGL.Math.Vec4.adds$=function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,e[3]+=t,e},SpiderGL.Math.Vec4.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e[3]-=t[3],e},SpiderGL.Math.Vec4.subs$=function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,e[3]-=t,e},SpiderGL.Math.Vec4.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t[2]=e-t[2],t[3]=e-t[3],t},SpiderGL.Math.Vec4.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],e[3]*=t[3],e},SpiderGL.Math.Vec4.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e},SpiderGL.Math.Vec4.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],e[3]/=t[3],e},SpiderGL.Math.Vec4.divs$=function(e,t){return e[0]/=t,e[1]/=t,e[2]/=t,e[3]/=t,e},SpiderGL.Math.Vec4.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e[2]=t/e[2],e[3]=t/e[3],e},SpiderGL.Math.Vec4.normalize$=function(e){var t=1/SpiderGL.Math.Vec4.length(e);return SpiderGL.Math.Vec4.muls$(e,t)},SpiderGL.Math.Mat3={},SpiderGL.Math.Mat3.dup=function(e){return e.slice(0,9)},SpiderGL.Math.Mat3.scalar=function(e){return[e,e,e,e,e,e,e,e,e]},SpiderGL.Math.Mat3.zero=function(){return[0,0,0,0,0,0,0,0,0]},SpiderGL.Math.Mat3.one=function(){return[1,1,1,1,1,1,1,1,1]},SpiderGL.Math.Mat3.diag=function(e){return[e[0],0,0,0,e[0],0,0,0,e[0]]},SpiderGL.Math.Mat3.identity=function(){return[1,0,0,0,1,0,0,0,1]},SpiderGL.Math.Mat3.to44=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]},SpiderGL.Math.Mat3.mul2=function(e,t,r){return r=null==r?0:r,[e[0]*t[0]+e[3]*t[1]+e[6]*r,e[1]*t[0]+e[4]*t[1]+e[7]*r]},SpiderGL.Math.Mat3.mul3=function(e,t){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]},SpiderGL.Math.Mat3.transpose=function(e){return[e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]]},SpiderGL.Math.Mat4={},SpiderGL.Math.Mat4.dup=function(e){return e.slice(0,16)},SpiderGL.Math.Mat4.scalar=function(e){return[e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]},SpiderGL.Math.Mat4.zero=function(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},SpiderGL.Math.Mat4.one=function(){return[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},SpiderGL.Math.Mat4.diag=function(e){return[e[0],0,0,0,0,e[0],0,0,0,0,e[0],0,0,0,0,e[0]]},SpiderGL.Math.Mat4.identity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},SpiderGL.Math.Mat4.to33=function(e){return[e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]]},SpiderGL.Math.Mat4.elem=function(e,t,r){return e[t+4*r]},SpiderGL.Math.Mat4.elem$=function(e,t,r,i){e[t+4*r]=i},SpiderGL.Math.Mat4.row=function(e,t){return[e[t+0],e[t+4],e[t+8],e[t+12]]},SpiderGL.Math.Mat4.row$=function(e,t,r){e[t+0]=r[0],e[t+4]=r[1],e[t+8]=r[2],e[t+12]=r[3]},SpiderGL.Math.Mat4.col=function(e,t){var r=4*t;return[e[r+0],e[r+1],e[r+2],e[r+3]]},SpiderGL.Math.Mat4.col$=function(e,t,r){var i=4*t;e[i+0]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3]},SpiderGL.Math.Mat4.isIdentity=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]},SpiderGL.Math.Mat4.neg=function(e){return[-e[0],-e[1],-e[2],-e[3],-e[4],-e[5],-e[6],-e[7],-e[8],-e[9],-e[10],-e[11],-e[12],-e[13],-e[14],-e[15]]},SpiderGL.Math.Mat4.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7],e[8]+t[8],e[9]+t[9],e[10]+t[10],e[11]+t[11],e[12]+t[12],e[13]+t[13],e[14]+t[14],e[15]+t[15]]},SpiderGL.Math.Mat4.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7],e[8]-t[8],e[9]-t[9],e[10]-t[10],e[11]-t[11],e[12]-t[12],e[13]-t[13],e[14]-t[14],e[15]-t[15]]},SpiderGL.Math.Mat4.mul=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=e[9],_=e[10],f=e[11],l=e[12],c=e[13],L=e[14],S=e[15],g=t[0],G=t[1],m=t[2],T=t[3],M=t[4],E=t[5],b=t[6],v=t[7],x=t[8],y=t[9],A=t[10],R=t[11],P=t[12],I=t[13],D=t[14],F=t[15];return[r*g+s*G+p*m+l*T,i*g+o*G+h*m+c*T,n*g+u*G+_*m+L*T,a*g+d*G+f*m+S*T,r*M+s*E+p*b+l*v,i*M+o*E+h*b+c*v,n*M+u*E+_*b+L*v,a*M+d*E+f*b+S*v,r*x+s*y+p*A+l*R,i*x+o*y+h*A+c*R,n*x+u*y+_*A+L*R,a*x+d*y+f*A+S*R,r*P+s*I+p*D+l*F,i*P+o*I+h*D+c*F,n*P+u*I+_*D+L*F,a*P+d*I+f*D+S*F]},SpiderGL.Math.Mat4.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t,e[8]*t,e[9]*t,e[10]*t,e[11]*t,e[12]*t,e[13]*t,e[14]*t,e[15]*t]},SpiderGL.Math.Mat4.mul3=function(e,t,r){return r=null==r?1:r,[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*r,e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*r,e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*r]},SpiderGL.Math.Mat4.mul4=function(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3]]},SpiderGL.Math.Mat4.rcp=function(e){return[1/e[0],1/e[1],1/e[2],1/e[3],1/e[4],1/e[5],1/e[6],1/e[7],1/e[8],1/e[9],1/e[10],1/e[11],1/e[12],1/e[13],1/e[14],1/e[15]]},SpiderGL.Math.Mat4.compMul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3],e[4]*t[4],e[5]*t[5],e[6]*t[6],e[7]*t[7],e[8]*t[8],e[9]*t[9],e[10]*t[10],e[11]*t[11],e[12]*t[12],e[13]*t[13],e[14]*t[14],e[15]*t[15]]},SpiderGL.Math.Mat4.compDiv=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2],e[3]/t[3],e[4]/t[4],e[5]/t[5],e[6]/t[6],e[7]/t[7],e[8]/t[8],e[9]/t[9],e[10]/t[10],e[11]/t[11],e[12]/t[12],e[13]/t[13],e[14]/t[14],e[15]/t[15]]},SpiderGL.Math.Mat4.transpose=function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]},SpiderGL.Math.Mat4.determinant=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15];return f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L},SpiderGL.Math.Mat4.inverse=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15],S=1/(f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L);return[S*(p*c*u-l*h*u+l*o*_-s*c*_-p*o*L+s*h*L),S*(l*h*n-p*c*n-l*i*_+r*c*_+p*i*L-r*h*L),S*(s*c*n-l*o*n+l*i*u-r*c*u-s*i*L+r*o*L),S*(p*o*n-s*h*n-p*i*u+r*h*u+s*i*_-r*o*_),S*(f*h*u-d*c*u-f*o*_+a*c*_+d*o*L-a*h*L),S*(d*c*n-f*h*n+f*i*_-t*c*_-d*i*L+t*h*L),S*(f*o*n-a*c*n-f*i*u+t*c*u+a*i*L-t*o*L),S*(a*h*n-d*o*n+d*i*u-t*h*u-a*i*_+t*o*_),S*(d*l*u-f*p*u+f*s*_-a*l*_-d*s*L+a*p*L),S*(f*p*n-d*l*n-f*r*_+t*l*_+d*r*L-t*p*L),S*(a*l*n-f*s*n+f*r*u-t*l*u-a*r*L+t*s*L),S*(d*s*n-a*p*n-d*r*u+t*p*u+a*r*_-t*s*_),S*(f*p*o-d*l*o-f*s*h+a*l*h+d*s*c-a*p*c),S*(d*l*i-f*p*i+f*r*h-t*l*h-d*r*c+t*p*c),S*(f*s*i-a*l*i-f*r*o+t*l*o+a*r*c-t*s*c),S*(a*p*i-d*s*i+d*r*o-t*p*o-a*r*h+t*s*h)]},SpiderGL.Math.Mat4.inverseTranspose33=function(e){var t=e[0],r=e[1],i=e[2],n=e[4],a=e[5],s=e[6],o=e[8],u=e[9],d=e[10],p=1/(t*(d*a-s*u)-r*(d*n-s*o)+i*(u*n-a*o));return[p*(d*a-s*u),p*(s*o-d*n),p*(u*n-a*o),p*(i*u-d*r),p*(d*t-i*o),p*(r*o-u*t),p*(s*r-i*a),p*(i*n-s*t),p*(a*t-r*n)]},SpiderGL.Math.Mat4.trace=function(e){return e[0]+e[5]+e[10]+e[15]},SpiderGL.Math.Mat4.translation=function(e){return[1,0,0,0,0,1,0,0,0,0,1,0,e[0],e[1],e[2],1]},SpiderGL.Math.Mat4.rotationAngleAxis=function(e,t){var r,i,n,a,s,o,u=SpiderGL.Math.Vec3.normalize(t),d=SpiderGL.Math.sin(e),p=SpiderGL.Math.cos(e),h=1-p,_=u[0],f=u[1],l=u[2];return[h*(_*_)+p,h*(r=_*f)+(o=l*d),h*(n=l*_)-(s=f*d),0,h*r-o,h*(f*f)+p,h*(i=f*l)+(a=_*d),0,h*n+s,h*i-a,h*(l*l)+p,0,0,0,0,1]},SpiderGL.Math.Mat4.scaling=function(e){return[e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,1]},SpiderGL.Math.Mat4.lookAt=function(e,t,r){var i=SpiderGL.Math.Vec3.normalize(SpiderGL.Math.Vec3.sub(t,e)),n=SpiderGL.Math.Vec3.normalize(r),a=SpiderGL.Math.Vec3.normalize(SpiderGL.Math.Vec3.cross(i,n));n=SpiderGL.Math.Vec3.cross(a,i);var s=[a[0],n[0],-i[0],0,a[1],n[1],-i[1],0,a[2],n[2],-i[2],0,0,0,0,1];return SpiderGL.Math.Mat4.translate$(s,SpiderGL.Math.Vec3.neg(e))},SpiderGL.Math.Mat4.ortho=function(e,t){var r=SpiderGL.Math.Vec3.add(t,e),i=SpiderGL.Math.Vec3.sub(t,e);return[2/i[0],0,0,0,0,2/i[1],0,0,0,0,-2/i[2],0,-r[0]/i[0],-r[1]/i[1],-r[2]/i[2],1]},SpiderGL.Math.Mat4.frustum=function(e,t){var r=SpiderGL.Math.Vec3.add(t,e),i=SpiderGL.Math.Vec3.sub(t,e),n=2*e[2];return[n/i[0],0,0,0,0,n/i[1],0,0,r[0]/i[0],r[1]/i[1],-r[2]/i[2],-1,0,0,-n*t[2]/i[2],0]},SpiderGL.Math.Mat4.perspective=function(e,t,r,i){var n=r*SpiderGL.Math.tan(e/2),a=n*t;return SpiderGL.Math.Mat4.frustum([-a,-n,r],[a,n,i])},SpiderGL.Math.Mat4.copy$=function(e,t){for(var r=0;r<16;++r)e[r]=t[r];return e},SpiderGL.Math.Mat4.identity$=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},SpiderGL.Math.Mat4.neg$=function(e){for(var t=0;t<16;++t)e[t]=-e[t];return e},SpiderGL.Math.Mat4.add$=function(e,t){for(var r=0;r<16;++r)e[r]+=t[r];return e},SpiderGL.Math.Mat4.sub$=function(e,t){for(var r=0;r<16;++r)e[r]-=t[r];return e},SpiderGL.Math.Mat4.mul$=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=e[9],_=e[10],f=e[11],l=e[12],c=e[13],L=e[14],S=e[15],g=t[0],G=t[1],m=t[2],T=t[3],M=t[4],E=t[5],b=t[6],v=t[7],x=t[8],y=t[9],A=t[10],R=t[11],P=t[12],I=t[13],D=t[14],F=t[15];return e[0]=r*g+s*G+p*m+l*T,e[1]=i*g+o*G+h*m+c*T,e[2]=n*g+u*G+_*m+L*T,e[3]=a*g+d*G+f*m+S*T,e[4]=r*M+s*E+p*b+l*v,e[5]=i*M+o*E+h*b+c*v,e[6]=n*M+u*E+_*b+L*v,e[7]=a*M+d*E+f*b+S*v,e[8]=r*x+s*y+p*A+l*R,e[9]=i*x+o*y+h*A+c*R,e[10]=n*x+u*y+_*A+L*R,e[11]=a*x+d*y+f*A+S*R,e[12]=r*P+s*I+p*D+l*F,e[13]=i*P+o*I+h*D+c*F,e[14]=n*P+u*I+_*D+L*F,e[15]=a*P+d*I+f*D+S*F,e},SpiderGL.Math.Mat4.muls$=function(e,t){for(var r=0;r<16;++r)e[r]*=t;return e},SpiderGL.Math.Mat4.compMul$=function(e,t){for(var r=0;r<16;++r)e[r]*=t[r];return e},SpiderGL.Math.Mat4.compDiv$=function(e,t){for(var r=0;r<16;++r)e[r]/=t[r];return e},SpiderGL.Math.Mat4.transpose$=function(e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,e},SpiderGL.Math.Mat4.invert$=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15],S=1/(f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L);return e[0]=S*(p*c*u-l*h*u+l*o*_-s*c*_-p*o*L+s*h*L),e[1]=S*(l*h*n-p*c*n-l*i*_+r*c*_+p*i*L-r*h*L),e[2]=S*(s*c*n-l*o*n+l*i*u-r*c*u-s*i*L+r*o*L),e[3]=S*(p*o*n-s*h*n-p*i*u+r*h*u+s*i*_-r*o*_),e[4]=S*(f*h*u-d*c*u-f*o*_+a*c*_+d*o*L-a*h*L),e[5]=S*(d*c*n-f*h*n+f*i*_-t*c*_-d*i*L+t*h*L),e[6]=S*(f*o*n-a*c*n-f*i*u+t*c*u+a*i*L-t*o*L),e[7]=S*(a*h*n-d*o*n+d*i*u-t*h*u-a*i*_+t*o*_),e[8]=S*(d*l*u-f*p*u+f*s*_-a*l*_-d*s*L+a*p*L),e[9]=S*(f*p*n-d*l*n-f*r*_+t*l*_+d*r*L-t*p*L),e[10]=S*(a*l*n-f*s*n+f*r*u-t*l*u-a*r*L+t*s*L),e[11]=S*(d*s*n-a*p*n-d*r*u+t*p*u+a*r*_-t*s*_),e[12]=S*(f*p*o-d*l*o-f*s*h+a*l*h+d*s*c-a*p*c),e[13]=S*(d*l*i-f*p*i+f*r*h-t*l*h-d*r*c+t*p*c),e[14]=S*(f*s*i-a*l*i-f*r*o+t*l*o+a*r*c-t*s*c),e[15]=S*(a*p*i-d*s*i+d*r*o-t*p*o-a*r*h+t*s*h),e},SpiderGL.Math.Mat4.translate$=function(e,t){var r=t[0],i=t[1],n=t[2];return e[12]=e[0]*r+e[4]*i+e[8]*n+e[12],e[13]=e[1]*r+e[5]*i+e[9]*n+e[13],e[14]=e[2]*r+e[6]*i+e[10]*n+e[14],e[15]=e[3]*r+e[7]*i+e[11]*n+e[15],e},SpiderGL.Math.Mat4.rotateAngleAxis$=function(e,t,r){var i=SpiderGL.Math.Mat4.rotationAngleAxis(t,r);return SpiderGL.Math.Mat4.mul$(e,i)},SpiderGL.Math.Mat4.scale$=function(e,t){var r=t[0],i=t[1],n=t[2];return e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,e[4]*=i,e[5]*=i,e[6]*=i,e[7]*=i,e[8]*=n,e[9]*=n,e[10]*=n,e[11]*=n,e},SpiderGL.Math.Quat={},SpiderGL.Math.Quat.dup=function(e){return e.slice(0,4)},SpiderGL.Math.Quat.identity=function(){return[0,0,0,1]},SpiderGL.Math.Quat.inverse=function(e){return[-e[0],-e[1],-e[2],e[3]]},SpiderGL.Math.Quat.mul=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=t[0],o=t[1],u=t[2],d=t[3];return[r*d+a*s+n*o-i*u,i*d+a*o+r*u-n*s,n*d+a*u+i*s-r*o,a*d-r*s-i*o-n*u]},SpiderGL.Math.Quat.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]},SpiderGL.Math.Quat.normalize=function(e){var t=1/SpiderGL.Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]);return SpiderGL.Math.Quat.muls(e,t)},SpiderGL.Math.Quat.from33=function(e){var t,r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=r+s+p;return h>0?(h+=1,[(o-d)*(t=.5/SpiderGL.Math.sqrt(h)),(u-n)*t,(i-a)*t,h*t]):r>s&&r>p?[(h=r-s-p+1)*(t=.5/SpiderGL.Math.sqrt(h)),(i+a)*t,(u+n)*t,(o-d)*t]:s>p?(h=-r+s-p+1,[(i+a)*(t=.5/SpiderGL.Math.sqrt(h)),h*t,(o+d)*t,(u-n)*t]):(h=-r-s+p+1,[(u+n)*(t=.5/SpiderGL.Math.sqrt(h)),(o+d)*t,h*t,(i-a)*t])},SpiderGL.Math.Quat.to33=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=t*t,s=t*r,o=t*i,u=t*n,d=r*r,p=r*i,h=r*n,_=i*i,f=i*n;return[1-2*(d+_),2*(s+f),2*(o-h),2*(s-f),1-2*(a+_),2*(p+u),2*(o+h),2*(p-u),1-2*(a+d)]},SpiderGL.Math.Quat.from44=function(e){return SpiderGL.Math.Quat.from33(SpiderGL.Math.Mat4.to33(e))},SpiderGL.Math.Quat.to44=function(e){return SpiderGL.Math.Mat3.to44(SpiderGL.Math.Quat.to33(e))},SpiderGL.Math.Quat.fromAngleAxis=function(e,t){return[0,0,0,1]},SpiderGL.Math.Quat.toAngleAxis=function(e){return[0,0,0,1]},SpiderGL.Math.Quat.fromEulerAngles=function(e,t,r){return[0,0,0,1]},SpiderGL.Math.Quat.toEulerAngles=function(e){return[0,0,0,1]},SpiderGL.Math.Quat.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},SpiderGL.Math.Quat.identity$=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},SpiderGL.Math.Quat.invert$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e},SpiderGL.Math.Quat.mul$=function(e){var t=p[0],r=p[1],i=p[2],n=p[3],a=e[0],s=e[1],o=e[2],u=e[3];return e[0]=t*u+n*a+i*s-r*o,e[1]=r*u+n*s+t*o-i*a,e[2]=i*u+n*o+r*a-t*s,e[3]=n*u-t*a-r*s-i*o,e},SpiderGL.Math.Quat.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e},SpiderGL.Math.Quat.normalize$=function(e){var t=1/SpiderGL.Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]);return SpiderGL.Math.Quat.muls$(e,t)},SpiderGL.Math.project=function(e,t,r,i){var n=SpiderGL.Math.Vec3,a=SpiderGL.Math.Mat4.mul4(t,e),s=1/a[3];return a[3]=s,n.muls$(a,s/2),n.adds$(a,.5),n.mul$(a,[r[2],r[3],i[1]-i[0]]),n.add$(a,[r[0],r[1],i[0]]),a},SpiderGL.Math.unproject=function(e,t,r,i){var n=SpiderGL.Math.Vec3,a=SpiderGL.Math.Mat4,s=n.to4(e,1);n.sub$(s,[r[0],r[1],i[0]]),n.div$(s,[r[2],r[3],i[1]-i[0]]),n.muls$(s,2),n.subs$(s,1);var o=1/(s=a.mul4(t,s))[3];return s[3]=o,n.muls$(s,o),s},SpiderGL.Space={},SpiderGL.Space.MatrixStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.MatrixStack.prototype={_invalidate:function(){this._i=null,this._t=null,this._it=null,this._onChange&&this._onChange(this)},reset:function(){var e=SpiderGL.Math.Mat4.identity();this._s=[e],this._l=1,this._m=e,this._i=e,this._t=e,this._it=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get matrix$(){return this._m},get matrix(){return SpiderGL.Math.Mat4.dup(this.matrix$)},get top$(){return this.matrix$},get top(){return this.matrix},get inverse$(){return this._i||(this._i=SpiderGL.Math.Mat4.inverse(this._m))},get inverse(){return SpiderGL.Math.Mat4.dup(this.inverse$)},get transpose$(){return this._t||(this._t=SpiderGL.Math.Mat4.transpose(this._m))},get transpose(){return SpiderGL.Math.Mat4.dup(this.transpose$)},get inverseTranspose$(){return this._it||(this._it=SpiderGL.Math.Mat4.transpose(this.inverse$))},get inverseTranspose(){return SpiderGL.Math.Mat4.dup(this.inverseTranspose$)},push:function(){var e=SpiderGL.Math.Mat4.dup(this._m);this._s.push(e),this._l++,this._m=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._m=this._s[this._l-1],this._invalidate())},load:function(e){e=SpiderGL.Math.Mat4.dup(e),this._s[this._l-1]=e,this._m=e,this._invalidate()},loadIdentity:function(){var e=SpiderGL.Math.Mat4.identity$(this._m);this._i=e,this._t=e,this._it=e},multiply:function(e){SpiderGL.Math.Mat4.mul$(this._m,e),this._invalidate()},ortho:function(e,t){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.ortho(e,t)),this._invalidate()},frustum:function(e,t){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.frustum(e,t)),this._invalidate()},perspective:function(e,t,r,i){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.perspective(e,t,r,i)),this._invalidate()},lookAt:function(e,t,r){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.lookAt(e,t,r)),this._invalidate()},translate:function(e){SpiderGL.Math.Mat4.translate$(this._m,e),this._invalidate()},rotate:function(e,t){SpiderGL.Math.Mat4.rotateAngleAxis$(this._m,e,t),this._invalidate()},scale:function(e){SpiderGL.Math.Mat4.scale$(this._m,e),this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.MatrixStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.ViewportStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.ViewportStack.prototype={_invalidate:function(){this._onChange&&this._onChange(this)},reset:function(){var e=[0,0,1,1];this._s=[e],this._l=1,this._r=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get rect$(){return this._r},get rect(){return this.rect$.slice(0,4)},get top$(){return this.rect$},get top(){return this.rect},push:function(){var e=this._r.slice(0,4);this._s.push(e),this._l++,this._r=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._r=this._s[this._l-1],this._invalidate())},load:function(e){e=e.slice(0,4),this._s[this._l-1]=e,this._r=e,this._invalidate()},loadIdentity:function(){this._r=[0,0,1,1]},inner:function(e){this._r[0]+=e[0],this._r[1]+=e[1],this._r[2]=e[2],this._r[3]=e[3],this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.ViewportStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.DepthRangeStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.DepthRangeStack.prototype={_invalidate:function(){this._onChange&&this._onChange(this)},reset:function(){var e=[0,1];this._s=[e],this._l=1,this._r=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get range$(){return this._r},get range(){return this.range$.slice(0,2)},get top$(){return this.range$},get top(){return this.range},push:function(){var e=this._r.slice(0,2);this._s.push(e),this._l++,this._r=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._r=this._s[this._l-1],this._invalidate())},load:function(e){e=e.slice(0,2),this._s[this._l-1]=e,this._r=e,this._invalidate()},loadIdentity:function(){this._r=[0,1]},inner:function(e){this._r[0]+=e[0],this._r[1]=e[1],this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.DepthRangeStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.TransformationStack=function(){SpiderGL.Core.ObjectBase.call(this);var e=this;this._mv={},this._vp={},this._mvp={},this._n={},this._c={},this._m=new SpiderGL.Space.MatrixStack(function(){e._mv={},e._mvp={},e._n={},e._c={}}),this._v=new SpiderGL.Space.MatrixStack(function(){e._mv={},e._vp={},e._mvp={},e._n={},e._c={}}),this._p=new SpiderGL.Space.MatrixStack(function(){e._vp={},e._mvp={}}),this._viewport=new SpiderGL.Space.ViewportStack(function(){}),this._depth=new SpiderGL.Space.DepthRangeStack(function(){})},SpiderGL.Space.TransformationStack.prototype={reset:function(){this._m.reset(),this._v.reset(),this._p.reset()},get viewport(){return this._viewport},get viewportRect$(){return this._viewport.rect$},get viewportRect(){return this._viewport.rect},get depth(){return this._depth},get depthRange$(){return this._depth.range$},get depthRange(){return this._depth.range},get model(){return this._m},get modelMatrix$(){return this._m.matrix$},get modelMatrix(){return this._m.matrix},get modelMatrixInverse$(){return this._m.inverse$},get modelMatrixInverse(){return this._m.inverse},get modelMatrixTranspose$(){return this._m.transpose$},get modelMatrixTranspose(){return this._m.transpose},get modelMatrixInverseTranspose$(){return this._m.inverseTranspose$},get modelMatrixInverseTranspose(){return this._m.inverseTranspose},get view(){return this._v},get viewMatrix$(){return this._v.matrix$},get viewMatrix(){return this._v.matrix},get viewMatrixInverse$(){return this._v.inverse$},get viewMatrixInverse(){return this._v.inverse},get viewMatrixTranspose$(){return this._v.transpose$},get viewMatrixTranspose(){return this._v.transpose},get viewMatrixInverseTranspose$(){return this._v.inverseTranspose$},get viewMatrixInverseTranspose(){return this._v.inverseTranspose},get projection(){return this._p},get projectionMatrix$(){return this._p.matrix$},get projectionMatrix(){return this._p.matrix},get projectionMatrixInverse$(){return this._p.inverse$},get projectionMatrixInverse(){return this._p.inverse},get projectionMatrixTranspose$(){return this._p.transpose$},get projectionMatrixTranspose(){return this._p.transpose},get projectionMatrixInverseTranspose$(){return this._p.inverseTranspose$},get projectionMatrixInverseTranspose(){return this._p.inverseTranspose},get modelViewMatrix$(){return this._mv.m||(this._mv.m=SpiderGL.Math.Mat4.mul(this.viewMatrix$,this.modelMatrix$))},get modelViewMatrix(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrix$)},get modelViewMatrixInverse$(){return this._mv.i||(this._mv.i=SpiderGL.Math.Mat4.mul(this.modelMatrixInverse$,this.viewMatrixInverse$))},get modelViewMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixInverse$)},get modelViewMatrixTranspose$(){return this._mv.t||(this._mv.t=SpiderGL.Math.Mat4.transpose(this.modelViewMatrix$))},get modelViewMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixTranspose$)},get modelViewMatrixInverseTranspose$(){return this._mv.it||(this._mv.it=SpiderGL.Math.Mat4.transpose(this.modelViewMatrixInverse$))},get modelViewMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixInverseTranspose$)},get viewProjectionMatrix$(){return this._vp.m||(this._vp.m=SpiderGL.Math.Mat4.mul(this.projectionMatrix$,this.viewMatrix$))},get viewProjectionMatrix(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrix$)},get viewProjectionMatrixInverse$(){return this._vp.i||(this._vp.i=SpiderGL.Math.Mat4.mul(this.viewMatrixInverse$,this.projectionMatrixInverse$))},get viewProjectionMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixInverse$)},get viewProjectionMatrixTranspose$(){return this._vp.t||(this._vp.t=SpiderGL.Math.Mat4.transpose(this.viewProjectionMatrix$))},get viewProjectionMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixTranspose$)},get viewProjectionMatrixInverseTranspose$(){return this._vp.it||(this._vp.it=SpiderGL.Math.Mat4.transpose(this.viewProjectionMatrixInverse$))},get viewProjectionMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixInverseTranspose$)},get modelViewProjectionMatrix$(){return this._mvp.m||(this._mvp.m=SpiderGL.Math.Mat4.mul(this.viewProjectionMatrix$,this.modelMatrix$))},get modelViewProjectionMatrix(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrix$)},get modelViewProjectionMatrixInverse$(){return this._mvp.i||(this._mvp.i=SpiderGL.Math.Mat4.inverse(this.modelViewProjectionMatrix$))},get modelViewProjectionMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixInverse$)},get modelViewProjectionMatrixTranspose$(){return this._mvp.t||(this._mvp.t=SpiderGL.Math.Mat4.transpose(this.modelViewProjectionMatrix$))},get modelViewProjectionMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixTranspose$)},get modelViewProjectionMatrixInverseTranspose$(){return this._mvp.it||(this._mvp.it=SpiderGL.Math.Mat4.transpose(this.modelViewProjectionMatrixInverse$))},get modelViewProjectionMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixInverseTranspose$)},get worldSpaceNormalMatrix$(){return this._n.m||(this._n.m=SpiderGL.Math.Mat4.inverseTranspose33(this.modelMatrix$))},get worldSpaceNormalMatrix(){return SpiderGL.Math.Mat4.dup(this.worldSpaceNormalMatrix$)},get viewSpaceNormalMatrix$(){return this._n.v||(this._n.v=SpiderGL.Math.Mat4.inverseTranspose33(this.modelViewMatrix$))},get viewSpaceNormalMatrix(){return SpiderGL.Math.Mat4.dup(this.viewSpaceNormalMatrix$)},get modelSpaceViewerPosition$(){return this._c.mp||(this._c.mp=SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.col(this.modelViewMatrixInverse$,3)))},get modelSpaceViewerPosition(){return SpiderGL.Math.Vec3.dup(this.modelSpaceViewerPosition$)},get worldSpaceViewerPosition$(){return this._c.wp||(this._c.wp=SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.col(this.viewMatrixInverse$,3)))},get worldSpaceViewerPosition(){return SpiderGL.Math.Vec3.dup(this.worldSpaceViewerPosition$)},get modelSpaceViewDirection$(){return this._c.md||(this._c.md=SpiderGL.Math.Vec3.normalize$(SpiderGL.Math.Vec3.neg$(SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.row(this.modelViewMatrixInverse$,2)))))},get modelSpaceViewDirection(){return SpiderGL.Math.Vec3.dup(this.modelSpaceViewDirection$)},get worldSpaceViewDirection$(){return this._c.wd||(this._c.wd=SpiderGL.Math.Vec3.normalize$(SpiderGL.Math.Vec3.neg$(SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.row(this.viewMatrixInverse$,2)))))},get worldSpaceViewDirection(){return SpiderGL.Math.Vec3.dup(this.worldSpaceViewDirection$)},project:function(e){return SpiderGL.Math.project(e,this.modelViewProjectionMatrix$,this.viewportRect$,this.depthRange$)},unproject:function(e){return SpiderGL.Math.unproject(e,this.modelViewProjectionMatrixInverse$,this.viewportRect$,this.depthRange$)}},SpiderGL.Type.extend(SpiderGL.Space.TransformationStack,SpiderGL.Core.ObjectBase),SpiderGL.WebGL={},SpiderGL.WebGL.Context={},SpiderGL.WebGL.Context.WEBGL_STRING=\"experimental-webgl\",SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y=!0,SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA=!1,SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Context.get=function(e,t){var r=e;return SpiderGL.Type.isString(r)&&(r=SpiderGL.DOM.getElementById(r)),SpiderGL.Type.instanceOf(r,HTMLCanvasElement)?r.getContext(SpiderGL.WebGL.Context.WEBGL_STRING,t):null},SpiderGL.WebGL.Context._prepareContex=function(e){if(e){var t=e._spidergl;if(!t){t={},e._spidergl=t,t.TAG=0,t.gl=e;var r={};for(var i in t.glFunctions=r,e){var n=e[n];\"function\"==typeof n&&(r[i]=n)}}}},SpiderGL.WebGL.Context._addExtension=function(e,t,r,i){if(e){var n=e.getExtension;e.getExtension=function(a){if(a==t){var s=this._spidergl;if(!s)return null;var o=s[r];if(!o){(o={}).TAG=0;var u={};o._ext=u,u[r]=o,u.sgl=s,u.gl=e;if(u.glFunctions={},!i(e,o))return null;s[r]=o}return o}return n.call(this,a)}}},SpiderGL.WebGL.Context._setup_SGL_current_binding=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.cb)return!1;var r=t,i=r._ext,n=i.glFunctions;i.currentBuffer={},i.currentBuffer[e.ARRAY_BUFFER]=e.getParameter(e.ARRAY_BUFFER_BINDING),i.currentBuffer[e.ELEMENT_ARRAY_BUFFER]=e.getParameter(e.ELEMENT_ARRAY_BUFFER_BINDING),i.bufferStack={},i.bufferStack[e.ARRAY_BUFFER]=[],i.bufferStack[e.ELEMENT_ARRAY_BUFFER]=[],n.bindBuffer=e.bindBuffer,e.bindBuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentBuffer[e]!=t&&(r.currentBuffer[e]=t,r.glFunctions.bindBuffer.call(this,e,t))},r.getCurrentBuffer=function(e){return this._ext.currentBuffer[e]},r.pushBuffer=function(e){var t=this._ext,r=t.bufferStack[e],i=t.currentBuffer[e];r.push(i)},r.popBuffer=function(e){var t=this._ext,r=t.bufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindBuffer(e,i)}},i.currentFramebuffer={},i.currentFramebuffer[e.FRAMEBUFFER]=e.getParameter(e.FRAMEBUFFER_BINDING),i.framebufferStack={},i.framebufferStack[e.FRAMEBUFFER]=[],n.bindFramebuffer=e.bindFramebuffer,e.bindFramebuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentFramebuffer[e]!=t&&(r.currentFramebuffer[e]=t,r.glFunctions.bindFramebuffer.call(this,e,t))},r.getCurrentFramebuffer=function(e){return this._ext.currentFramebuffer[e]},r.pushFramebuffer=function(e){var t=this._ext,r=t.framebufferStack[e],i=t.currentFramebuffer[e];r.push(i)},r.popFramebuffer=function(e){var t=this._ext,r=t.framebufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindFramebuffer(e,i)}},i.currentProgram=e.getParameter(e.CURRENT_PROGRAM),i.programStack=[],n.useProgram=e.useProgram,e.useProgram=function(e){var t=this._spidergl.cb._ext;t.currentProgram!=e&&(t.currentProgram=e,t.glFunctions.useProgram.call(this,e))},r.getCurrentProgram=function(){return this._ext.currentProgram},r.pushProgram=function(){var e=this._ext,t=e.programStack,r=e.currentProgram;t.push(r)},r.popProgram=function(){var e=this._ext,t=e.programStack;if(!(t.length<=0)){var r=t.pop();e.gl.useProgram(r)}},i.currentRenderbuffer={},i.currentRenderbuffer[e.RENDERBUFFER]=e.getParameter(e.RENDERBUFFER_BINDING),i.renderbufferStack={},i.renderbufferStack[e.RENDERBUFFER]=[],n.bindRenderbuffer=e.bindRenderbuffer,e.bindRenderbuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentRenderbuffer[e]!=t&&(r.currentRenderbuffer[e]=t,r.glFunctions.bindRenderbuffer.call(this,e,t))},r.getCurrentRenderbuffer=function(e){return this._ext.currentRenderbuffer[e]},r.pushRenderbuffer=function(e){var t=this._ext,r=t.renderbufferStack[e],i=t.currentRenderbuffer[e];r.push(i)},r.popRenderbuffer=function(e){var t=this._ext,r=t.renderbufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindRenderbuffer(e,i)}},i.currentShader={},i.currentShader[e.VERTEX_SHADER]=null,i.currentShader[e.FRAGMENT_SHADER]=null,i.shaderStack={},i.shaderStack[e.VERTEX_SHADER]=[],i.shaderStack[e.FRAGMENT_SHADER]=[],i.glFunctions.bindShader=function(e,t){},r.bindShader=function(e,t){var r=this._ext;r.currentShader[e]!=t&&(r.currentShader[e]=t,r.glFunctions.bindShader.call(r.gl,e,t))},r.getCurrentShader=function(e){return this._ext.currentShader[e]},r.pushShader=function(e){var t=this._ext,r=t.shaderStack[e],i=t.currentShader[e];r.push(i)},r.popShader=function(e){var t=this._ext,r=t.shaderStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindShader(e,i)}},i.currentTexture={};var a=e.getParameter(e.ACTIVE_TEXTURE),s=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);i.currentTexture={},i.textureStack={},i.textureUnitStack=[];for(var o=0;o<s;++o){var u=e.TEXTURE0+o;e.activeTexture(u);var d={};d[e.TEXTURE_2D]=e.getParameter(e.TEXTURE_BINDING_2D),d[e.TEXTURE_CUBE_MAP]=e.getParameter(e.TEXTURE_BINDING_CUBE_MAP),i.currentTexture[u]=d;var p={};p[e.TEXTURE_2D]=[],p[e.TEXTURE_CUBE_MAP]=[],i.textureStack[u]=p}return e.activeTexture(a),i.currentTextureUnit=a,n.activeTexture=e.activeTexture,e.activeTexture=function(e){var t=this._spidergl.cb._ext;t.currentTextureUnit!=e&&(t.currentTextureUnit=e,t.glFunctions.activeTexture.call(this,e))},r.getCurrentTextureUnit=function(){return this._ext.currentTextureUnit},r.pushTextureUnit=function(){var e=this._ext,t=e.textureUnitStack,r=e.currentTextureUnit;t.push(r)},r.popTextureUnit=function(){var e=this._ext,t=e.textureUnitStack;if(!(t.length<=0)){var r=t.pop();e.gl.activeTexture(r)}},n.bindTexture=e.bindTexture,e.bindTexture=function(e,t){var r=this._spidergl.cb._ext,i=r.currentTextureUnit;r.currentTexture[i][e]!=t&&(r.currentTexture[i][e]=t,r.glFunctions.bindTexture.call(this,e,t))},r.getCurrentTexture=function(e){var t=this._ext,r=t.currentTextureUnit;return t.currentTexture[r][e]},r.pushTexture=function(e){var t=this._ext,r=t.currentTextureUnit,i=t.textureStack[r][e],n=t.currentTexture[r][e];i.push(n)},r.popTexture=function(e){var t=this._ext,r=t.currentTextureUnit,i=t.textureStack[r][e];if(!(i.length<=0)){var n=i.pop();t.gl.bindTexture(e,n)}},!0},SpiderGL.WebGL.Context._setup_SGL_wrapper_notify=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.wn)return!1;var r=t._ext,i=r.glFunctions;return r.cb=e.getExtension(\"SGL_current_binding\"),!!r.cb&&(i.deleteBuffer=e.deleteBuffer,e.deleteBuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteBuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteBuffer.apply(t._spidergl,arguments)},i.isBuffer=e.isBuffer,e.isBuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isBuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isBuffer.apply(r._spidergl,arguments),t},i.bindBuffer=e.bindBuffer,e.bindBuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindBuffer.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bindBuffer.apply(r._spidergl,arguments)},i.getBufferParameter=e.getBufferParameter,e.getBufferParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getBufferParameter.apply(this,arguments),i=t.cb.getCurrentBuffer(e);return i&&i._spidergl&&i._spidergl._gl_getBufferParameter.apply(i._spidergl,arguments),r},i.bufferData=e.bufferData,e.bufferData=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bufferData.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bufferData.apply(r._spidergl,arguments)},i.bufferSubData=e.bufferSubData,e.bufferSubData=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bufferSubData.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bufferSubData.apply(r._spidergl,arguments)},i.vertexAttribPointer=e.vertexAttribPointer,e.vertexAttribPointer=function(){var e=this._spidergl.wn._ext;e.glFunctions.vertexAttribPointer.apply(this,arguments);var t=this.ARRAY_BUFFER,r=e.cb.getCurrentBuffer(t);r&&r._spidergl&&r._spidergl._gl_vertexAttribPointer.apply(r._spidergl,arguments)},i.drawElements=e.drawElements,e.drawElements=function(e,t,r,i,n){var a=this._spidergl.wn._ext;a.glFunctions.drawElements.apply(this,arguments);var s=this.ELEMENT_ARRAY_BUFFER,o=a.cb.getCurrentBuffer(s);o&&o._spidergl&&o._spidergl._gl_drawElements.apply(o._spidergl,arguments)},i.deleteFramebuffer=e.deleteFramebuffer,e.deleteFramebuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteFramebuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteFramebuffer.apply(t._spidergl,arguments)},i.isFramebuffer=e.isFramebuffer,e.isFramebuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isFramebuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isFramebuffer.apply(r._spidergl,arguments),t},i.bindFramebuffer=e.bindFramebuffer,e.bindFramebuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindFramebuffer.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_bindFramebuffer.apply(r._spidergl,arguments)},i.checkFramebufferStatus=e.checkFramebufferStatus,e.checkFramebufferStatus=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.checkFramebufferStatus.apply(this,arguments),i=t.cb.getCurrentFramebuffer(e);return i&&i._spidergl&&i._spidergl._gl_checkFramebufferStatus.apply(i._spidergl,arguments),r},i.getFramebufferAttachmentParameter=e.getFramebufferAttachmentParameter,e.getFramebufferAttachmentParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getFramebufferAttachmentParameter.apply(this,arguments),i=t.cb.getCurrentFramebuffer(e);return i&&i._spidergl&&i._spidergl._gl_getFramebufferAttachmentParameter.apply(i._spidergl,arguments),r},i.framebufferRenderbuffer=e.framebufferRenderbuffer,e.framebufferRenderbuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.framebufferRenderbuffer.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_framebufferRenderbuffer.apply(r._spidergl,arguments)},i.framebufferTexture2D=e.framebufferTexture2D,e.framebufferTexture2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.framebufferTexture2D.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_framebufferTexture2D.apply(r._spidergl,arguments)},i.clear=e.clear,e.clear=function(){var e=this._spidergl.wn._ext;e.glFunctions.clear.apply(this,arguments);var t=this.FRAMEBUFFER,r=e.cb.getCurrentFramebuffer(t);r&&r._spidergl&&r._spidergl._gl_clear.apply(r._spidergl,arguments)},i.readPixels=e.readPixels,e.readPixels=function(){var e=this._spidergl.wn._ext;e.glFunctions.readPixels.apply(this,arguments);var t=this.FRAMEBUFFER,r=e.cb.getCurrentFramebuffer(t);r&&r._spidergl&&r._spidergl._gl_readPixels.apply(r._spidergl,arguments)},i.deleteProgram=e.deleteProgram,e.deleteProgram=function(e){this._spidergl.wn._ext.glFunctions.deleteProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteProgram.apply(t._spidergl,arguments)},i.isProgram=e.isProgram,e.isProgram=function(e){var t=this._spidergl.wn._ext.glFunctions.isProgram.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isProgram.apply(r._spidergl,arguments),t},i.useProgram=e.useProgram,e.useProgram=function(){var e=this._spidergl.wn._ext;e.glFunctions.useProgram.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_useProgram.apply(t._spidergl,arguments)},i.getActiveAttrib=e.getActiveAttrib,e.getActiveAttrib=function(e){var t=this._spidergl.wn._ext.glFunctions.getActiveAttrib.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getActiveAttrib.apply(r._spidergl,arguments),t},i.getActiveUniform=e.getActiveUniform,e.getActiveUniform=function(e){var t=this._spidergl.wn._ext.glFunctions.getActiveUniform.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getActiveUniform.apply(r._spidergl,arguments),t},i.getAttachedShaders=e.getAttachedShaders,e.getAttachedShaders=function(e){var t=this._spidergl.wn._ext.glFunctions.getAttachedShaders.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getAttachedShaders.apply(r._spidergl,arguments),t},i.getAttribLocation=e.getAttribLocation,e.getAttribLocation=function(e){var t=this._spidergl.wn._ext.glFunctions.getAttribLocation.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getAttribLocation.apply(r._spidergl,arguments),t},i.getProgramParameter=e.getProgramParameter,e.getProgramParameter=function(e){var t=this._spidergl.wn._ext.glFunctions.getProgramParameter.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getProgramParameter.apply(r._spidergl,arguments),t},i.getProgramInfoLog=e.getProgramInfoLog,e.getProgramInfoLog=function(e){var t=this._spidergl.wn._ext.glFunctions.getProgramInfoLog.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getProgramInfoLog.apply(r._spidergl,arguments),t},i.getUniform=e.getUniform,e.getUniform=function(e){var t=this._spidergl.wn._ext.glFunctions.getUniform.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getUniform.apply(r._spidergl,arguments),t},i.getUniformLocation=e.getUniformLocation,e.getUniformLocation=function(e){var t=this._spidergl.wn._ext.glFunctions.getUniformLocation.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getUniformLocation.apply(r._spidergl,arguments),t},i.attachShader=e.attachShader,e.attachShader=function(e){this._spidergl.wn._ext.glFunctions.attachShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_attachShader.apply(t._spidergl,arguments)},i.bindAttribLocation=e.bindAttribLocation,e.bindAttribLocation=function(e){this._spidergl.wn._ext.glFunctions.bindAttribLocation.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_bindAttribLocation.apply(t._spidergl,arguments)},i.detachShader=e.detachShader,e.detachShader=function(e){this._spidergl.wn._ext.glFunctions.detachShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_detachShader.apply(t._spidergl,arguments)},i.linkProgram=e.linkProgram,e.linkProgram=function(e){this._spidergl.wn._ext.glFunctions.linkProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_linkProgram.apply(t._spidergl,arguments)},i.uniform1f=e.uniform1f,e.uniform1f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1f.apply(t._spidergl,arguments)},i.uniform1fv=e.uniform1fv,e.uniform1fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1fv.apply(t._spidergl,arguments)},i.uniform1i=e.uniform1i,e.uniform1i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1i.apply(t._spidergl,arguments)},i.uniform1iv=e.uniform1iv,e.uniform1iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1iv.apply(t._spidergl,arguments)},i.uniform2f=e.uniform2f,e.uniform2f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2f.apply(t._spidergl,arguments)},i.uniform2fv=e.uniform2fv,e.uniform2fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2fv.apply(t._spidergl,arguments)},i.uniform2i=e.uniform2i,e.uniform2i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2i.apply(t._spidergl,arguments)},i.uniform2iv=e.uniform2iv,e.uniform2iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2iv.apply(t._spidergl,arguments)},i.uniform3f=e.uniform3f,e.uniform3f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3f.apply(t._spidergl,arguments)},i.uniform3fv=e.uniform3fv,e.uniform3fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3fv.apply(t._spidergl,arguments)},i.uniform3i=e.uniform3i,e.uniform3i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3i.apply(t._spidergl,arguments)},i.uniform3iv=e.uniform3iv,e.uniform3iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3iv.apply(t._spidergl,arguments)},i.uniform4f=e.uniform4f,e.uniform4f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4f.apply(t._spidergl,arguments)},i.uniform4fv=e.uniform4fv,e.uniform4fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4fv.apply(t._spidergl,arguments)},i.uniform4i=e.uniform4i,e.uniform4i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4i.apply(t._spidergl,arguments)},i.uniform4iv=e.uniform4iv,e.uniform4iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4iv.apply(t._spidergl,arguments)},i.uniformMatrix2fv=e.uniformMatrix2fv,e.uniformMatrix2fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix2fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix2fv.apply(t._spidergl,arguments)},i.uniformMatrix3fv=e.uniformMatrix3fv,e.uniformMatrix3fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix3fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix3fv.apply(t._spidergl,arguments)},i.uniformMatrix4fv=e.uniformMatrix4fv,e.uniformMatrix4fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix4fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix4fv.apply(t._spidergl,arguments)},i.validateProgram=e.validateProgram,e.validateProgram=function(e){this._spidergl.wn._ext.glFunctions.validateProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_validateProgram.apply(t._spidergl,arguments)},i.deleteRenderbuffer=e.deleteRenderbuffer,e.deleteRenderbuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteRenderbuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteRenderbuffer.apply(t._spidergl,arguments)},i.isRenderbuffer=e.isRenderbuffer,e.isRenderbuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isRenderbuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isRenderbuffer.apply(r._spidergl,arguments),t},i.bindRenderbuffer=e.bindRenderbuffer,e.bindRenderbuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindRenderbuffer.apply(this,arguments);var r=t.cb.getCurrentRenderbuffer(e);r&&r._spidergl&&r._spidergl._gl_bindRenderbuffer.apply(r._spidergl,arguments)},i.getRenderbufferParameter=e.getRenderbufferParameter,e.getRenderbufferParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getRenderbufferParameter.apply(this,arguments),i=t.cb.getCurrentRenderbuffer(e);return i&&i._spidergl&&i._spidergl._gl_getRenderbufferParameter.apply(i._spidergl,arguments),r},i.renderbufferStorage=e.renderbufferStorage,e.renderbufferStorage=function(e){var t=this._spidergl.wn._ext;t.glFunctions.renderbufferStorage.apply(this,arguments);var r=t.cb.getCurrentRenderbuffer(e);r&&r._spidergl&&r._spidergl._gl_renderbufferStorage.apply(r._spidergl,arguments)},i.deleteShader=e.deleteShader,e.deleteShader=function(e){this._spidergl.wn._ext.glFunctions.deleteShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteShader.apply(t._spidergl,arguments)},i.isShader=e.isShader,e.isShader=function(e){var t=this._spidergl.wn._ext.glFunctions.isShader.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isShader.apply(r._spidergl,arguments),t},i.getShaderParameter=e.getShaderParameter,e.getShaderParameter=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderParameter.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderParameter.apply(r._spidergl,arguments),t},i.getShaderInfoLog=e.getShaderInfoLog,e.getShaderInfoLog=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderInfoLog.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderInfoLog.apply(r._spidergl,arguments),t},i.getShaderSource=e.getShaderSource,e.getShaderSource=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderSource.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderSource.apply(r._spidergl,arguments),t},i.compileShader=e.compileShader,e.compileShader=function(e){this._spidergl.wn._ext.glFunctions.compileShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_compileShader.apply(t._spidergl,arguments)},i.shaderSource=e.shaderSource,e.shaderSource=function(e){this._spidergl.wn._ext.glFunctions.shaderSource.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_shaderSource.apply(t._spidergl,arguments)},r.textureTargetMap={},r.textureTargetMap[e.TEXTURE_2D]=e.TEXTURE_2D,r.textureTargetMap[e.TEXTURE_CUBE_MAP]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_X]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_X]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Y]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Y]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Z]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Z]=e.TEXTURE_CUBE_MAP,i.deleteTexture=e.deleteTexture,e.deleteTexture=function(e){this._spidergl.wn._ext.glFunctions.deleteTexture.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteTexture.apply(t._spidergl,arguments)},i.isTexture=e.isTexture,e.isTexture=function(e){var t=this._spidergl.wn._ext.glFunctions.isTexture.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isTexture.apply(r._spidergl,arguments),t},i.bindTexture=e.bindTexture,e.bindTexture=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindTexture.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_bindTexture.apply(r._spidergl,arguments)},i.getTexParameter=e.getTexParameter,e.getTexParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getTexParameter.apply(this,arguments),i=t.cb.getCurrentTexture(e);return i&&i._spidergl&&i._spidergl._gl_getTexParameter.apply(i._spidergl,arguments),r},i.copyTexImage2D=e.copyTexImage2D,e.copyTexImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.copyTexImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_copyTexImage2D.apply(i._spidergl,arguments)},i.copyTexSubImage2D=e.copyTexSubImage2D,e.copyTexSubImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.copyTexSubImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_copyTexSubImage2D.apply(i._spidergl,arguments)},i.generateMipmap=e.generateMipmap,e.generateMipmap=function(e){var t=this._spidergl.wn._ext;t.glFunctions.generateMipmap.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_generateMipmap.apply(r._spidergl,arguments)},i.texImage2D=e.texImage2D,e.texImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_texImage2D.apply(i._spidergl,arguments)},i.texParameterf=e.texParameterf,e.texParameterf=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texParameterf.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_texParameterf.apply(r._spidergl,arguments)},i.texParameteri=e.texParameteri,e.texParameteri=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texParameteri.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_texParameteri.apply(r._spidergl,arguments)},i.texSubImage2D=e.texSubImage2D,e.texSubImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texSubImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_texSubImage2D.apply(i._spidergl,arguments)},!0)},SpiderGL.WebGL.Context._setup_SGL_direct_state_access=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.dsa)return!1;var r=t,i=r._ext;i.glFunctions;return i.cb=e.getExtension(\"SGL_current_binding\"),!!i.cb&&(r.getBufferParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentBuffer(t);a!=e&&n.bindBuffer(t,e);var s=n.getBufferParameter(t,r);return a!=e&&n.bindBuffer(t,a),s},r.bufferData=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentBuffer(t);s!=e&&a.bindBuffer(t,e),a.bufferData(t,r,i),s!=e&&a.bindBuffer(t,s)},r.bufferSubData=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentBuffer(t);s!=e&&a.bindBuffer(t,e),a.bufferSubData(t,r,i),s!=e&&a.bindBuffer(t,s)},r.vertexAttribPointer=function(e,t,r,i,n,a,s){var o=this._ext,u=o.gl,d=u.ARRAY_BUFFER,p=o.cb.getCurrentBuffer(d);p!=e&&u.bindBuffer(d,e),u.vertexAttribPointer(t,r,i,n,a,s),p!=e&&u.bindBuffer(d,p)},r.drawElements=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=s.ELEMENT_ARRAY_BUFFER,u=a.cb.getCurrentBuffer(o);u!=e&&s.bindBuffer(o,e),s.drawElements(t,r,i,n),u!=e&&s.bindBuffer(o,u)},r.checkFramebufferStatus=function(e,t){var r=this._ext,i=r.gl,n=r.cb.getCurrentFramebuffer(t);n!=e&&i.bindFramebuffer(t,e);var a=i.checkFramebufferStatus(t);return n!=e&&i.bindFramebuffer(t,n),a},r.getFramebufferAttachmentParameter=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentFramebuffer(t);s!=e&&a.bindFramebuffer(t,e);var o=a.getFramebufferAttachmentParameter(t,r,i);return s!=e&&a.bindFramebuffer(t,s),o},r.framebufferRenderbuffer=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentFramebuffer(t);o!=e&&s.bindFramebuffer(t,e),s.framebufferRenderbuffer(t,r,i,n),o!=e&&s.bindFramebuffer(t,o)},r.framebufferTexture2D=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentFramebuffer(t);u!=e&&o.bindFramebuffer(t,e),o.framebufferTexture2D(t,r,i,n,a),u!=e&&o.bindFramebuffer(t,u)},r.clear=function(e,t){var r=this._ext,i=r.gl,n=i.FRAMEBUFFER,a=r.cb.getCurrentFramebuffer(n);a!=e&&i.bindFramebuffer(n,e),i.clear(t),a!=e&&i.bindFramebuffer(n,a)},r.readPixels=function(e,t,r,i,n,a,s,o){var u=this._ext,d=u.gl,p=d.FRAMEBUFFER,h=u.cb.getCurrentFramebuffer(p);h!=e&&d.bindFramebuffer(p,e),d.readPixels(t,r,i,n,a,s,o),h!=e&&d.bindFramebuffer(p,h)},r.uniform1f=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1f(t,r),a!=e&&n.useProgram(a)},r.uniform1fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1fv(t,r),a!=e&&n.useProgram(a)},r.uniform1i=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1i(t,r),a!=e&&n.useProgram(a)},r.uniform1iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1iv(t,r),a!=e&&n.useProgram(a)},r.uniform2f=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniform2f(t,r,i),s!=e&&a.useProgram(s)},r.uniform2fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform2fv(t,r),a!=e&&n.useProgram(a)},r.uniform2i=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniform2i(t,r,i),s!=e&&a.useProgram(s)},r.uniform2iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform2iv(t,r),a!=e&&n.useProgram(a)},r.uniform3f=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentProgram();o!=e&&s.useProgram(e),s.uniform3f(t,r,i,n),o!=e&&s.useProgram(o)},r.uniform3fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform3fv(t,r),a!=e&&n.useProgram(a)},r.uniform3i=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentProgram();o!=e&&s.useProgram(e),s.uniform3i(t,r,i,n),o!=e&&s.useProgram(o)},r.uniform3iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform3iv(t,r),a!=e&&n.useProgram(a)},r.uniform4f=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentProgram();u!=e&&o.useProgram(e),o.uniform4f(t,r,i,n,a),u!=e&&o.useProgram(u)},r.uniform4fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform4fv(t,r),a!=e&&n.useProgram(a)},r.uniform4i=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentProgram();u!=e&&o.useProgram(e),o.uniform4i(t,r,i,n,a),u!=e&&o.useProgram(u)},r.uniform4iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform4iv(t,r),a!=e&&n.useProgram(a)},r.uniformMatrix2fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix2fv(t,r,i),s!=e&&a.useProgram(s)},r.uniformMatrix3fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix3fv(t,r,i),s!=e&&a.useProgram(s)},r.uniformMatrix4fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix4fv(t,r,i),s!=e&&a.useProgram(s)},r.getRenderbufferParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentRenderbuffer(t);a!=e&&n.bindRenderbuffer(t,e);var s=n.getRenderbufferParameter.call(n,t,r);return a!=e&&n.bindRenderbuffer(t,a),s},r.renderbufferStorage=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentRenderbuffer(t);o!=e&&s.bindRenderbuffer(t,e),s.renderbufferStorage(t,r,i,n),o!=e&&s.bindRenderbuffer(t,o)},r.shaderIsNull=function(e){return null==e},i.textureTargetMap={},i.textureTargetMap[e.TEXTURE_2D]=e.TEXTURE_2D,i.textureTargetMap[e.TEXTURE_CUBE_MAP]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_X]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_X]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Y]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Y]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Z]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Z]=e.TEXTURE_CUBE_MAP,r.getTexParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentTexture(t);a!=e&&n.bindTexture(t,e);var s=n.getTexParameter(t,r);return a!=e&&n.bindTexture(t,a),s},r.copyTexImage2D=function(e,t,r,i,n,a,s,o,u){var d=this._ext,p=d.gl,h=d.textureTargetMap[t],_=d.cb.getCurrentTexture(h);_!=e&&p.bindTexture(h,e),p.copyTexImage2D(t,r,i,n,a,s,o,u),_!=e&&p.bindTexture(h,_)},r.copyTexSubImage2D=function(e,t,r,i,n,a,s,o,u,d){var p=this._ext,h=p.gl,_=p.textureTargetMap[t],f=p.cb.getCurrentTexture(_);f!=e&&h.bindTexture(_,e),h.copyTexSubImage2D(t,r,i,n,a,s,o,u,d),f!=e&&h.bindTexture(_,f)},r.generateMipmap=function(e,t){var r=this._ext,i=r.gl,n=r.cb.getCurrentTexture(t);n!=e&&i.bindTexture(t,e),i.generateMipmap(t),n!=e&&i.bindTexture(t,n)},r.texImage2D=function(e,t){var r=this._ext,i=r.gl,n=r.textureTargetMap[t],a=r.cb.getCurrentTexture(n);a!=e&&i.bindTexture(n,e);var s=Array.prototype.slice.call(arguments,1);i.texImage2D.apply(i,s),a!=e&&i.bindTexture(n,a)},r.texParameterf=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentTexture(t);s!=e&&a.bindTexture(t,e),a.texParameterf(t,r,i),s!=e&&a.bindTexture(t,s)},r.texParameteri=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentTexture(t);s!=e&&a.bindTexture(t,e),a.texParameteri(t,r,i),s!=e&&a.bindTexture(t,s)},r.texSubImage2D=function(e,t){var r=this._ext,i=r.gl,n=r.textureTargetMap[t],a=r.cb.getCurrentTexture(n);a!=e&&i.bindTexture(n,e);var s=Array.prototype.slice.call(arguments,1);i.texSubImage2D.apply(i,s),a!=e&&i.bindTexture(n,a)},r.bindTexture=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentTextureUnit();a!=e&&n.activeTexture(e),n.bindTexture(t,r),a!=e&&n.activeTexture(a)},!0)},SpiderGL.WebGL.Context.hijack=function(e){if(e._spidergl)return!1;SpiderGL.WebGL.Context._prepareContex(e),SpiderGL.WebGL.Context._addExtension(e,\"SGL_current_binding\",\"cb\",SpiderGL.WebGL.Context._setup_SGL_current_binding),SpiderGL.WebGL.Context._addExtension(e,\"SGL_wrapper_notify\",\"wn\",SpiderGL.WebGL.Context._setup_SGL_wrapper_notify),SpiderGL.WebGL.Context._addExtension(e,\"SGL_direct_state_access\",\"dsa\",SpiderGL.WebGL.Context._setup_SGL_direct_state_access);var t=e.getExtension(\"SGL_current_binding\"),r=e.getExtension(\"SGL_wrapper_notify\"),i=e.getExtension(\"SGL_direct_state_access\");return!!t&&!!r&&!!i},SpiderGL.WebGL.Context.isHijacked=function(e){return!!e&&!!e._spidergl},SpiderGL.WebGL.Context.getHijacked=function(e,t){var r=SpiderGL.WebGL.Context.get(e,t);return SpiderGL.WebGL.Context.hijack(r),r},SpiderGL.WebGL.Context.setStandardGLUnpack=function(e){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,WebGLRenderingContext.prototype.NONE)},SpiderGL.WebGL.ObjectGL=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;r=SpiderGL.Utility.getDefaultObject({handle:null},r),SpiderGL.Core.ObjectBase.call(this);e.getExtension(\"SGL_wrapper_notify\");this._gl=e,this._cb=e.getExtension(\"SGL_current_binding\"),this._dsa=e.getExtension(\"SGL_direct_state_access\"),this._h=r.handle,this._t=t},SpiderGL.WebGL.ObjectGL.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.ObjectGL.unbind=function(e){},SpiderGL.WebGL.ObjectGL.prototype={get gl(){return this._gl},get handle(){return this._h},get target(){return this._t},get isValid(){return null!=this._h},get isReady(){return!1},destroy:function(){},bind:function(){},unbind:function(){}},SpiderGL.Type.extend(SpiderGL.WebGL.ObjectGL,SpiderGL.Core.ObjectBase),SpiderGL.WebGL.Buffer=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(r,WebGLBuffer)?r={handle:r}:SpiderGL.Type.instanceOf(r,ArrayBuffer)||SpiderGL.Type.isTypedArray(r)?r={data:r}:SpiderGL.Type.isNumber(r)&&(r={size:r}),r=SpiderGL.Utility.getDefaultObject({handle:null,data:null,size:0,usage:SpiderGL.WebGL.Buffer.DEFAULT_USAGE},r),SpiderGL.WebGL.ObjectGL.call(this,e,t,r),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var i=this._cb,n=(this._dsa,this._t),a=this._h;i.pushBuffer(n),a?(e.bindBuffer(n,a),r.size=e.getBufferParameter(n,e.BUFFER_SIZE),r.usage=e.getBufferParameter(n,e.BUFFER_USAGE)):(a=e.createBuffer(),e.bindBuffer(n,a),this._h=a),i.popBuffer(n),a._spidergl=this,this._size=r.size,this._usage=r.usage,r.data?this.setData(r.data,r.usage):r.size&&this.setSize(r.size,r.usage)},SpiderGL.WebGL.Buffer.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Buffer.DEFAULT_USAGE=WebGLRenderingContext.prototype.STATIC_DRAW,SpiderGL.WebGL.Buffer.DEFAULT_SUB_DATA_OFFSET=0,SpiderGL.WebGL.Buffer.unbind=function(e){},SpiderGL.WebGL.Buffer.prototype={_gl_deleteBuffer:function(){this._h=null},_gl_isBuffer:function(){},_gl_bindBuffer:function(){},_gl_getBufferParameter:function(){},_gl_bufferData:function(){var e=arguments[1],t=arguments[2];this._size=SpiderGL.Type.isNumber(e)?e:e.byteLength,this._usage=t},_gl_bufferSubData:function(){},_gl_vertexAttribPointer:function(){},_gl_drawElements:function(){},get isReady(){return this._size>0},get size(){return this._size},get usage(){return this._usage},setSize:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_USAGE),this._dsa.bufferData(this._h,this._t,e,t)},setData:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_USAGE),this._dsa.bufferData(this._h,this._t,e,t)},setSubData:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_SUB_DATA_OFFSET),this._dsa.bufferSubData(this._h,this._t,t,e)},destroy:function(){this._gl.deleteBuffer(this._h)},bind:function(){this._gl.bindBuffer(this._t,this._h)},unbind:function(){this._gl.bindBuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Buffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.VertexBuffer=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Buffer.call(this,e,SpiderGL.WebGL.VertexBuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.VertexBuffer.TARGET=WebGLRenderingContext.prototype.ARRAY_BUFFER,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_INDEX=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_SIZE=3,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_TYPE=WebGLRenderingContext.prototype.FLOAT,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_NORMALIZED=!1,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_STRIDE=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_OFFSET=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_ENABLE=!0,SpiderGL.WebGL.VertexBuffer.unbind=function(e){e.bindBuffer(SpiderGL.WebGL.VertexBuffer.TARGET,null)},SpiderGL.WebGL.VertexBuffer.prototype={vertexAttribPointer:function(e){e=SpiderGL.Utility.getDefaultObject({index:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_INDEX,size:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_SIZE,glType:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_TYPE,normalized:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_NORMALIZED,stride:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_STRIDE,offset:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_OFFSET,enable:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_ENABLE},e),this._dsa.vertexAttribPointer(this._h,e.index,e.size,e.glType,e.normalized,e.stride,e.offset),e.enable&&this._gl.enableVertexAttribArray(e.index)}},SpiderGL.Type.extend(SpiderGL.WebGL.VertexBuffer,SpiderGL.WebGL.Buffer),SpiderGL.WebGL.IndexBuffer=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Buffer.call(this,e,SpiderGL.WebGL.IndexBuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.IndexBuffer.TARGET=WebGLRenderingContext.prototype.ELEMENT_ARRAY_BUFFER,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_MODE=WebGLRenderingContext.prototype.TRIANGLES,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_COUNT=-1,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_TYPE=WebGLRenderingContext.prototype.UNSIGNED_SHORT,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_OFFSET=0,SpiderGL.WebGL.IndexBuffer.unbind=function(e){e.bindBuffer(SpiderGL.WebGL.IndexBuffer.TARGET,null)},SpiderGL.WebGL.IndexBuffer.prototype={drawElements:function(e){if((e=SpiderGL.Utility.getDefaultObject({glMode:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_MODE,count:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_COUNT,glType:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_TYPE,offset:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_OFFSET},e)).count<1){var t=SpiderGL.Type.typeSizeFromGL(e.glType);e.count=(this._size-e.offset)/t}this._dsa.drawElements(this._h,e.glMode,e.count,e.glType,e.offset)}},SpiderGL.Type.extend(SpiderGL.WebGL.IndexBuffer,SpiderGL.WebGL.Buffer),SpiderGL.WebGL.Framebuffer=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;SpiderGL.Type.instanceOf(t,WebGLFramebuffer)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null,autoViewport:SpiderGL.WebGL.Framebuffer.DEFAULT_AUTO_VIEWPORT},t);SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Framebuffer.TARGET,t);if(this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var r=this._cb,i=(this._dsa,this._t),n=this._h,a=!1;if(n?a=!0:(n=e.createFramebuffer(),this._h=n),n._spidergl=this,this._attachments={},this._status=0,this._autoViewport=t.autoViewport,this._viewport=[0,0,1,1],r.pushFramebuffer(i),e.bindFramebuffer(i,n),a){var s=null,o=0,u=0;for(var d in SpiderGL.WebGL.Framebuffer._attachmentName)switch(s=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME),e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE)){case e.RENDERBUFFER:u=e.RENDERBUFFER,this._importRenderbuffer(i,d,u,s);break;case e.TEXTURE:o=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL),0==(u=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE))&&(u=e.TEXTURE_2D),this._importTexture(i,d,u,s,o)}}this._status=e.checkFramebufferStatus(i),r.popFramebuffer(i),this.setAttachments(t)},SpiderGL.WebGL.Framebuffer.TARGET=WebGLRenderingContext.prototype.FRAMEBUFFER,SpiderGL.WebGL.Framebuffer.DEFAULT_AUTO_VIEWPORT=!0,SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_TEXTURE_LEVEL=0,SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_CUBE_MAP_FACE=WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_X=0,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_Y=0,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_WIDTH=-1,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_HEIGHT=-1,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Framebuffer.DEFAULT_CLEAR_MASK=WebGLRenderingContext.prototype.COLOR_BUFFER_BIT|WebGLRenderingContext.prototype.DEPTH_BUFFER_BIT|WebGLRenderingContext.prototype.STENCIL_BUFFER_BIT,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_TYPE=WebGLRenderingContext.UNSIGNED_BYTE,SpiderGL.WebGL.Framebuffer.unbind=function(e){e.bindFramebuffer(SpiderGL.WebGL.Framebuffer.TARGET,null)},SpiderGL.WebGL.Framebuffer._attachmentName={},SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.COLOR_ATTACHMENT0]=\"color\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.DEPTH_ATTACHMENT]=\"depth\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.STENCIL_ATTACHMENT]=\"stencil\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.DEPTH_STENCIL_ATTACHMENT]=\"depthStencil\",SpiderGL.WebGL.Framebuffer.prototype={_gl_deleteFramebuffer:function(e){this._h=null},_gl_isFramebuffer:function(e){},_gl_bindFramebuffer:function(e,t){},_gl_checkFramebufferStatus:function(e){},_gl_getFramebufferAttachmentParameter:function(e,t,r){},_gl_framebufferRenderbuffer:function(e,t,r,i){this._importRenderbuffer.apply(this,arguments),this._status=this._gl.checkFramebufferStatus(this._t)},_gl_framebufferTexture2D:function(e,t,r,i,n){this._importTexture.apply(this,arguments),this._status=this._gl.checkFramebufferStatus(this._t)},_gl_clear:function(e){},_gl_readPixels:function(e,t,r,i,n,a,s){},_importTexture:function(e,t,r,i,n){var a=SpiderGL.WebGL.Framebuffer._attachmentName[t];if(a)if(i){var s=this._gl,o={attachment:t,resource:null,target:r,level:n,face:s.NONE};this._attachments[a]=o,r==s.TEXTURE_2D?o.resource=new SpiderGL.WebGL.Texture2D(s,{handle:i}):(o.resource=new SpiderGL.WebGL.TextureCubeMap(s,{handle:i}),o.face=r),this._viewport=[0,0,SpiderGL.Math.max(o.resource.width,1),SpiderGL.Math.max(o.resource.height,1)]}else delete this._attachments[a]},_importRenderbuffer:function(e,t,r,i){var n=SpiderGL.WebGL.Framebuffer._attachmentName[t];if(n)if(i){var a=this._gl,s={attachment:t,resource:null,target:r,level:0,face:a.NONE};this._attachments[n]=s,s.resource=new SpiderGL.WebGL.Renderbuffer(a,{handle:i}),this._viewport=[0,0,SpiderGL.Math.max(s.resource.width,1),SpiderGL.Math.max(s.resource.height,1)]}else delete this._attachments[n]},_setAttachment:function(e,t){var r=SpiderGL.WebGL.Framebuffer._attachmentName[e];if(!r)return!1;var i=this._gl;if(!(!t||\"resource\"in t&&!t.resource)){var n=i.NONE;SpiderGL.Type.instanceOf(t,WebGLTexture)?(t={resource:t},n=i.TEXTURE):SpiderGL.Type.instanceOf(t,WebGLRenderbuffer)?(t={resource:t},n=i.RENDERBUFFER):SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.Texture)?(t={resource:t.handle},n=i.TEXTURE):SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.Renderbuffer)&&(t={resource:t.handle},n=i.RENDERBUFFER);var a=!!t&&void 0!==t.face;t=SpiderGL.Utility.getDefaultObject({resource:null,level:SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_TEXTURE_LEVEL,face:SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_CUBE_MAP_FACE},t);var s=this._t;switch(n){case i.TEXTURE:var o=SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.TextureCubeMap)||a?t.face:i.TEXTURE_2D;i.framebufferTexture2D(s,e,o,t.resource,t.level);break;case i.RENDERBUFFER:i.framebufferRenderbuffer(s,e,i.RENDERBUFFER,t.resource)}return!0}var u=this._attachments[r];u&&(u.target===i.RENDERBUFFER?i.framebufferRenderbuffer(s,u.attachment,i.RENDERBUFFER,null):i.framebufferTexture2D(s,u.attachment,i.TEXTURE_2D,null,0))},get isReady(){return this.isComplete},get status(){return this._status},get isComplete(){return this._status===this._gl.FRAMEBUFFER_COMPLETE},get viewport(){return this._viewport.slice()},get width(){return this._viewport[2]},get height(){return this._viewport[3]},get autoViewport(){return this._autoViewport},set autoViewport(e){this._autoViewport=!!e},setAttachments:function(e){e=e||{};var t=this._gl,r=this._cb,i=this._t,n=this._h;return r.pushFramebuffer(i),t.bindFramebuffer(i,n),\"color\"in e&&this._setAttachment(t.COLOR_ATTACHMENT0,e.color),\"depthStencil\"in e?(this._setAttachment(t.DEPTH_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,e.depthStencil)):\"depth\"in e?(this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_ATTACHMENT,e.depth)):\"stencil\"in e&&(this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,e.stencil)),this._status=t.checkFramebufferStatus(i),r.popFramebuffer(i),this.isComplete},getAttachments:function(){var e={},t=null;for(var r in this._attachments)t=this._attachments[r],e[r]={attachment:t.attachment,resource:t.resource,target:t.target,level:t.level};return e},detachAll:function(){this.setAttachments({color:null,depthStencil:null})},get colorTarget(){var e=this._attachments.color;return e?e.resource:null},set colorTarget(e){this.setAttachments({color:e})},get depthTarget(){var e=this._attachments.depth;return e?e.resource:null},set depthTarget(e){this.setAttachments({depth:e})},get stencilTarget(){var e=this._attachments.stencil;return e?e.resource:null},set stencilTarget(e){this.setAttachments({stencil:e})},get depthStencilTarget(){var e=this._attachments.depthStencil;return e?e.resource:null},set depthStencilTarget(e){this.setAttachments({depthStencil:e})},clear:function(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Framebuffer.DEFAULT_CLEAR_MASK),this._dsa.clear(this._h,e)},readPixels:function(e,t){(t=SpiderGL.Utility.getDefaultObject({x:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_X,y:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_Y,width:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_WIDTH,height:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_HEIGHT,format:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_FORMAT,type:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_TYPE},t)).width<0&&(t.width=this._viewport[2]),t.height<0&&(t.height=this._viewport[3]),this._dsa.readPixels(this._h,t.x,t.y,t.width,t.height,t.format,t.type,e)},applyViewport:function(){var e=this._gl,t=this._viewport;e.viewport(t[0],t[1],t[2],t[3])},destroy:function(){this._gl.deleteFramebuffer(this._h)},bind:function(e){var t=this._gl;if(t.bindFramebuffer(this._t,this._h),SpiderGL.Utility.getDefaultValue(e,this._autoViewport)){var r=this._viewport;t.viewport(r[0],r[1],r[2],r[3])}},unbind:function(){this._gl.bindFramebuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Framebuffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Program=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(t,WebGLProgram)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null,autoLink:SpiderGL.WebGL.Program.DEFAULT_AUTO_LINK},t),SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Program.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl,this._cb,this._dsa;var r=this._h,i=!1,n=\"\",a=!1;if(r?(a=!0,i=!!e.getProgramParameter(r,e.LINK_STATUS),(n=e.getProgramInfoLog(r))||(n=\"\")):(r=e.createProgram(),this._h=r),r._spidergl=this,this._shaders=[],this._linked=i,this._log=n,this._autoLink=t.autoLink,this._attributes={},this._uniforms={},a)for(var s=e.getAttachedShaders(r),o=0,u=s.length;o<u;++o)this._importShader(s[o]);var d=!1;this._addShaders(t.shaders)&&(d=!0),this._setAttributes(t.attributes)&&(d=!0),d&&this._autoLink?this.link():a&&this._postLink(),this.setUniforms(t.uniforms)},SpiderGL.WebGL.Program.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Program.DEFAULT_AUTO_LINK=!0,SpiderGL.WebGL.Program.unbind=function(e){e.useProgram(null)},SpiderGL.WebGL.Program._uniformSetFunctions={},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC2]=function(e,t,r){e.uniform2iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC3]=function(e,t,r){e.uniform3iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC4]=function(e,t,r){e.uniform4iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC2]=function(e,t,r){e.uniform2iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC3]=function(e,t,r){e.uniform3iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC4]=function(e,t,r){e.uniform4iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT]=function(e,t,r){e.uniform1f(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC2]=function(e,t,r){e.uniform2fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC3]=function(e,t,r){e.uniform3fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC4]=function(e,t,r){e.uniform4fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT2]=function(e,t,r){e.uniformMatrix2fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT3]=function(e,t,r){e.uniformMatrix3fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT4]=function(e,t,r){e.uniformMatrix4fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.SAMPLER_2D]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.SAMPLER_CUBE]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program.prototype={_gl_deleteProgram:function(e){this._h=null},_gl_isProgram:function(e){},_gl_useProgram:function(e){},_gl_getActiveAttrib:function(e,t){},_gl_getActiveUniform:function(e,t){},_gl_getAttachedShaders:function(e){},_gl_getAttribLocation:function(e,t){},_gl_getProgramParameter:function(e,t){},_gl_getProgramInfoLog:function(e){},_gl_getUniform:function(e,t){},_gl_getUniformLocation:function(e,t){},_gl_attachShader:function(e,t){this._importShader(t)},_gl_bindAttribLocation:function(e,t,r){},_gl_detachShader:function(e,t){if(t){var r=this._shaderHandleIndex(t);r<0||this._shaders.splice(r,1)}},_gl_linkProgram:function(e){this._postLink()},_gl_uniform1f:function(e,t){},_gl_uniform1fv:function(e,t){},_gl_uniform1i:function(e,t){},_gl_uniform1iv:function(e,t){},_gl_uniform2f:function(e,t,r){},_gl_uniform2fv:function(e,t){},_gl_uniform2i:function(e,t,r){},_gl_uniform2iv:function(e,t){},_gl_uniform3f:function(e,t,r,i){},_gl_uniform3fv:function(e,t){},_gl_uniform3i:function(e,t,r,i){},_gl_uniform3iv:function(e,t){},_gl_uniform4f:function(e,t,r,i,n){},_gl_uniform4fv:function(e,t){},_gl_uniform4i:function(e,t,r,i,n){},_gl_uniform4iv:function(e,t){},_gl_uniformMatrix2fv:function(e,t,r){},_gl_uniformMatrix3fv:function(e,t,r){},_gl_uniformMatrix4fv:function(e,t,r){},_gl_validateProgram:function(e){},_shaderHandleIndex:function(e){for(var t=0,r=this._shaders.length;t<r;++t)if(this._shaders[t].handle===e)return t;return-1},_shaderIndex:function(e){if(this._shaders.indexOf)return this._shaders.indexOf(e);for(var t=0,r=this._shaders.length;t<r;++t)if(this._shaders[t]===e)return t;return-1},_importShader:function(e){if(e&&!(this._shaderHandleIndex(e)>=0)){var t=this._gl,r=e._spidergl;if(!r)switch(t.getShaderParameter(e,t.SHADER_TYPE)){case t.VERTEX_SHADER:r=new SpiderGL.WebGL.VertexShader(t,{handle:e});break;case t.FRAGMENT_SHADER:r=new SpiderGL.WebGL.FragmentShader(t,{handle:e});break;default:return}this._shaders.push(r)}},_updateActiveInfo:function(){var e=this._gl,t=this._h,r=0,i=null,n=null,a=null,s={};r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var o=0;o<r;++o)n=(i=e.getActiveAttrib(t,o)).name,a=e.getAttribLocation(t,n),s[n]={index:o,name:n,size:i.size,type:i.type,location:a};var u={};r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(o=0;o<r;++o)if(n=(i=e.getActiveUniform(t,o)).name,a=e.getUniformLocation(t,n),u[n]={index:o,name:n,size:i.size,type:i.type,location:a,setValue:SpiderGL.WebGL.Program._uniformSetFunctions[i.type]},i.size>1){var d=n.lastIndexOf(\"[0]\");if(d==n.length-3)for(var p=n.slice(0,d),h=1;h<i.size;++h){var _=p+\"[\"+h+\"]\";a=e.getUniformLocation(t,_),u[_]={index:o,name:_,size:i.size,type:i.type,location:a,setValue:SpiderGL.WebGL.Program._uniformSetFunctions[i.type]}}}this._attributes=s,this._uniforms=u},_postLink:function(){var e=this._gl,t=this._h;this._linked=!!e.getProgramParameter(t,e.LINK_STATUS),this._log=e.getProgramInfoLog(t),this._log||(this._log=\"\"),this._updateActiveInfo()},_addShaders:function(e){if(!e)return!1;for(var t=this._gl,r=this._h,i=null,n=null,a=0,s=e.length;a<s;++a)i=e[a],n=null,SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i.handle),SpiderGL.Type.instanceOf(i,WebGLShader)&&(n=i),n&&t.attachShader(r,n);return!0},_removeShaders:function(e){if(!e)return!1;for(var t=this._gl,r=this._h,i=null,n=null,a=0,s=e.length;a<s;++a)i=e[a],n=null,SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i.handle),SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i),n&&t.detachShader(r,n);return!0},_setAttributes:function(e){if(!e)return!1;var t=this._gl,r=this._h;for(var i in e)t.bindAttribLocation(r,e[i],i);return!0},get isReady(){return this.isLinked},get isLinked(){return this._linked},get log(){return this._log},get autoLink(){return this._autoLink},set autoLink(e){this._autoLink=!!e},addShaders:function(e,t){var r=this._addShaders(e);return!r||(!(r=SpiderGL.Utility.getDefaultValue(t,this._autoLink))||this.link())},removeShaders:function(e,t){var r=this._removeShaders(e);return!r||(!(r=SpiderGL.Utility.getDefaultValue(t,this._autoLink))||this.link())},hasShader:function(e){return this._shaderIndex(e)>=0},getShaders:function(){return this._shaders.slice()},link:function(){return this._gl.linkProgram(this._h),this._linked},validate:function(){var e=this._gl,t=this._h;return e.validateProgram(t),!!e.getProgramParameter(t,e.VALIDATE_STATUS)},setAttributes:function(e){return!!this._setAttributes(e)&&(!this._autoLink||this.link())},getAttributesNames:function(){var e=this._attributes,t=[];for(var r in e)t.push(e[r].name);return t},getAttributesIndices:function(){var e=this._attributes,t={};for(var r in e)t[r]=e[r].location;return t},getAttributesInfo:function(){var e=this._attributes,t=null,r={};for(var i in e)t=e[i],r[i]={index:t.index,name:t.name,size:t.size,type:t.type,location:t.location};return r},setUniforms:function(e){if(!e)return!1;var t=this._gl,r=this._cb,i=this._dsa,n=this._h;r.pushProgram(),t.useProgram(n);var a=this._uniforms,s=null;for(var o in e)(s=a[o])&&s.setValue(i,n,e[o]);return r.popProgram(),!0},getUniformsNames:function(){var e=this._uniforms,t=[];for(var r in e)t.push(e[r].name);return t},getUniformsValues:function(){var e=this._gl,t=this._h,r=this._uniforms,i={};for(var n in r)i[n]=e.getUniform(t,r[n].location);return i},getUniformsInfo:function(){var e=this._uniforms,t=null,r={};for(var i in e)t=e[i],r[i]={index:t.index,name:t.name,size:t.size,type:t.type,location:t.location};return r},destroy:function(){this._gl.deleteProgram(this._h)},bind:function(){this._gl.useProgram(this._h)},unbind:function(){this._gl.useProgram(null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Program,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Renderbuffer=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(n,WebGLRenderbuffer)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null},t),SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Renderbuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var r=this._cb,i=(this._dsa,this._t),n=this._h,a=e.NONE,s=0,o=0;n?(r.pushRenderbuffer(i),e.bindRenderbuffer(i,n),a=e.getRenderbufferParameter(i,e.RENDERBUFFER_INTERNAL_FORMAT),s=e.getRenderbufferParameter(i,e.RENDERBUFFER_WIDTH),o=e.getRenderbufferParameter(i,e.RENDERBUFFER_HEIGHT),r.popRenderbuffer(i)):(n=e.createRenderbuffer(),this._h=n),n._spidergl=this,this._width=s,this._height=o,this._format=a,SpiderGL.Type.isNumber(t.internalFormat)&&SpiderGL.Type.isNumber(t.width)&&SpiderGL.Type.isNumber(t.height)&&this.setStorage(t.internalFormat,t.width,t.height,t.format)},SpiderGL.WebGL.Renderbuffer.TARGET=WebGLRenderingContext.prototype.RENDERBUFFER,SpiderGL.WebGL.Renderbuffer.unbind=function(e){e.bindRenderbuffer(SpiderGL.WebGL.Renderbuffer.TARGET,null)},SpiderGL.WebGL.Renderbuffer.prototype={_gl_deleteRenderbuffer:function(e){this._h=null},_gl_isRenderbuffer:function(e){},_gl_bindRenderbuffer:function(e,t){},_gl_getRenderbufferParameter:function(e,t){},_gl_renderbufferStorage:function(e,t,r,i){this._format=t,this._width=r,this._height=i},get isReady(){return this._width>0&&this._height>0},get format(){return this._format},get width(){return this._width},get height(){return this._height},setStorage:function(e,t,r){this._dsa.renderbufferStorage(this._h,this._t,e,t,r)},destroy:function(){this._gl.deleteRenderbuffer(this._h)},bind:function(){this._gl.bindRenderbuffer(this._t,this._h)},unbind:function(){this._gl.bindRenderbuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Renderbuffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Shader=function(e,t,r,i){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(i,WebGLShader)?i={handle:i}:SpiderGL.Type.isString(i)&&(i={source:i}),i=SpiderGL.Utility.getDefaultObject({handle:null,source:null,autoCompile:SpiderGL.WebGL.Shader.DEFAULT_AUTO_COMPILE},i),SpiderGL.WebGL.ObjectGL.call(this,e,t,i),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl,this._cb,this._dsa;var n=\"\",a=!1,s=\"\",o=this._h;o?((n=e.getShaderSource(o))||(n=\"\"),a=!!e.getShaderParameter(o,e.COMPILE_STATUS),!!e.getShaderParameter(o,e.DELETE_STATUS),(s=e.getShaderInfoLog(o))||(s=\"\")):(o=e.createShader(r),this._h=o),o._spidergl=this,this._source=n,this._compiled=a,this._log=s,this._autoCompile=i.autoCompile,i.source&&this.setSource(i.source)},SpiderGL.WebGL.Shader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Shader.DEFAULT_AUTO_COMPILE=!0,SpiderGL.WebGL.Shader.unbind=function(e){},SpiderGL.WebGL.Shader.prototype={_gl_deleteShader:function(e){this._h=null},_gl_isShader:function(e){},_gl_getShaderParameter:function(e,t){},_gl_getShaderInfoLog:function(e){},_gl_getShaderSource:function(e){},_gl_compileShader:function(e){this._postCompile()},_gl_shaderSource:function(e,t){this._source=t,this._source||(this._source=\"\")},_postCompile:function(){var e=this._gl,t=this._h;this._compiled=!!e.getShaderParameter(t,e.COMPILE_STATUS),this._log=e.getShaderInfoLog(t),this._log||(this._log=\"\")},get isReady(){return this.isCompiled},get isCompiled(){return this._compiled},get log(){return this._log},get autoCompile(){return this._autoCompile},set autoCompile(e){this._autoCompile=!!e},setSource:function(e,t){var r=this._gl,i=this._h;r.shaderSource(i,e);SpiderGL.Utility.getDefaultValue(t,this._autoCompile);return this.compile()},get source(){return this._source},set source(e){this.setSource(e)},compile:function(){return this._gl.compileShader(this._h),this._compiled},destroy:function(){this._gl.deleteShader(this._h)},bind:function(){},unbind:function(){}},SpiderGL.Type.extend(SpiderGL.WebGL.Shader,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.VertexShader=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Shader.call(this,e,SpiderGL.WebGL.VertexShader.TARGET,e.VERTEX_SHADER,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.VertexShader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.VertexShader.unbind=function(e){},SpiderGL.WebGL.VertexShader.prototype={},SpiderGL.Type.extend(SpiderGL.WebGL.VertexShader,SpiderGL.WebGL.Shader),SpiderGL.WebGL.FragmentShader=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Shader.call(this,e,SpiderGL.WebGL.FragmentShader.TARGET,e.FRAGMENT_SHADER,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.FragmentShader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.FragmentShader.unbind=function(e){},SpiderGL.WebGL.FragmentShader.prototype={},SpiderGL.Type.extend(SpiderGL.WebGL.FragmentShader,SpiderGL.WebGL.Shader),SpiderGL.WebGL.Texture=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(r,WebGLTexture)?r={handle:r}:SpiderGL.Type.isString(r)&&(r={url:r}),r=SpiderGL.Utility.getDefaultObject({handle:null,magFilter:SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER,minFilter:SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER,wrapS:SpiderGL.WebGL.Texture.DEFAULT_WRAP_S,wrapT:SpiderGL.WebGL.Texture.DEFAULT_WRAP_T,flipYPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y,premultiplyAlphaPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA,colorspaceConversionPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION,autoMipmap:SpiderGL.WebGL.Texture.DEFAULT_AUTO_GENERATE_MIPMAP,format:e.NONE,width:0,height:0},r),SpiderGL.WebGL.ObjectGL.call(this,e,t,r),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var i=this._cb,n=(this._dsa,this._t),a=this._h;a||(a=e.createTexture(),this._h=a),i.pushTexture(n),e.bindTexture(n,a),this._magFilter=e.getTexParameter(n,e.TEXTURE_MAG_FILTER),this._minFilter=e.getTexParameter(n,e.TEXTURE_MIN_FILTER),this._wrapS=e.getTexParameter(n,e.TEXTURE_WRAP_S),this._wrapT=e.getTexParameter(n,e.TEXTURE_WRAP_T),i.popTexture(n),a._spidergl=this,this._format=r.format,this._width=r.width,this._height=r.height,this._flipY=r.flipYPolicy,this._premultiplyAlpha=r.premultiplyAlphaPolicy,this._colorspaceConversion=r.colorspaceConversionPolicy,this._autoMipmap=r.autoMipmap,this._missingFaces=SpiderGL.WebGL.Texture._FACE_ALL_BITS,this.setSampler(r)},SpiderGL.WebGL.Texture.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Texture.DEFAULT_BORDER=0,SpiderGL.WebGL.Texture.DEFAULT_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Texture.DEFAULT_AUTO_GENERATE_MIPMAP=!1,SpiderGL.WebGL.Texture.DEFAULT_INTERNAL_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Texture.DEFAULT_LEVEL=0,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER=WebGLRenderingContext.prototype.LINEAR,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER=WebGLRenderingContext.prototype.LINEAR,SpiderGL.WebGL.Texture.DEFAULT_TYPE=WebGLRenderingContext.prototype.UNSIGNED_BYTE,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S=WebGLRenderingContext.prototype.REPEAT,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T=WebGLRenderingContext.prototype.REPEAT,SpiderGL.WebGL.Texture.DEFAULT_X_OFFSET=0,SpiderGL.WebGL.Texture.DEFAULT_Y_OFFSET=0,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_FLIP_Y=!0,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_PREMULTIPLY_ALPHA=!1,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_COLORSPACE_CONVERSION=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Texture.unbind=function(e){},SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT=1,SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT=2,SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT=4,SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT=8,SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT=16,SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT=32,SpiderGL.WebGL.Texture._FACE_ALL_BITS=SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT|SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT|SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT,SpiderGL.WebGL.Texture._faceBits={},SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_2D]=SpiderGL.WebGL.Texture._FACE_ALL_BITS,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP]=SpiderGL.WebGL.Texture._FACE_ALL_BITS,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X]=SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y]=SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z]=SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT,SpiderGL.WebGL.Texture.prototype={_gl_deleteTexture:function(e){this._h=null},_gl_isTexture:function(e){},_gl_bindTexture:function(e,t){},_gl_getTexParameter:function(e,t){},_gl_copyTexImage2D:function(e,t,r,i,n,a,s,o){0==t&&(this._format=r,this._width=a,this._height=s)},_gl_copyTexSubImage2D:function(e,t,r,i,n,a,s,o,u){},_gl_generateMipmap:function(e){},_gl_texImage2D:function(e){var t=arguments.length;6===t?0===arguments[1]&&(this._format=arguments[2],this._width=arguments[5].width,this._height=arguments[5].height):9===t&&0===arguments[1]&&(this._format=arguments[2],this._width=arguments[3],this._height=arguments[4])},_gl_texParameterf:function(e,t,r){this._setTexParameter(t,r)},_gl_texParameteri:function(e,t,r){this._setTexParameter(t,r)},_gl_texSubImage2D:function(e){},_setTexParameter:function(e,t){var r=this._gl;switch(e){case r.TEXTURE_MAG_FILTER:this._magFilter=t;break;case r.TEXTURE_MIN_FILTER:this._minFilter=t;break;case r.TEXTURE_WRAP_S:this._wrapS=t;break;case r.TEXTURE_WRAP_T:this._wrapT=t}},_setImageData:function(e,t,r){var i=!!(r=SpiderGL.Utility.getDefaultObject({internalFormat:SpiderGL.WebGL.Texture.DEFAULT_INTERNAL_FORMAT,border:SpiderGL.WebGL.Texture.DEFAULT_BORDER,xoffset:SpiderGL.WebGL.Texture.DEFAULT_X_OFFSET,yoffset:SpiderGL.WebGL.Texture.DEFAULT_Y_OFFSET,level:SpiderGL.WebGL.Texture.DEFAULT_LEVEL,format:SpiderGL.WebGL.Texture.DEFAULT_FORMAT,type:SpiderGL.WebGL.Texture.DEFAULT_TYPE,width:0,height:0,generateMipmap:this._autoMipmap,flipY:this._flipY,premultiplyAlpha:this._premultiplyAlpha,colorspaceConversion:this._colorspaceConversion,data:null,url:null,onCancel:null,onError:null,onProgress:null,onSuccess:null},r)).url,n=!1;i||(n=!r.data||SpiderGL.Type.isTypedArray(r.data));var a=!1;i||n||(a=SpiderGL.Type.instanceOf(r.data,HTMLImageElement)||SpiderGL.Type.instanceOf(r.data,HTMLCanvasElement)||SpiderGL.Type.instanceOf(r.data,HTMLVideoElement))||\"undefined\"!=typeof ImageData&&(a=SpiderGL.Type.instanceOf(r.data,ImageData));var s=this._gl,o=(this._cb,this._dsa),u=t,d=this._h,p=-1,h=-1,_=-1,f=-1,l=-1,c=-1;(n||a)&&((p=r.flipY)!=SpiderGL.Core.DONT_CARE&&(p==(h=s.getParameter(s.UNPACK_FLIP_Y_WEBGL))?h=-1:s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,p)),(_=r.premultiplyAlpha)!=SpiderGL.Core.DONT_CARE&&(_==(f=s.getParameter(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL))?f=-1:s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_)),(l=r.colorspaceConversion)!=SpiderGL.Core.DONT_CARE&&(l==(c=s.getParameter(s.UNPACK_COLORSPACE_CONVERSION_WEBGL))?c=-1:s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,l)));var L=!1;if(i){var S={internalFormat:r.internalFormat,border:r.border,xoffset:r.xoffset,yoffset:r.yoffset,level:r.level,format:r.format,type:r.type,generateMipmap:r.generateMipmap,flipY:r.flipY,premultiplyAlpha:r.premultiplyAlpha,colorspaceConversion:r.colorspaceConversion,data:null},g=this,G=r.onSuccess,m=new SpiderGL.IO.ImageRequest(r.url,{onCancel:r.onCancel,onError:r.onError,onProgress:r.onProgress,onSuccess:function(){S.data=m.image,e?g._setImage(t,S):g._setSubImage(t,S),G&&G()},send:!0});return!0}if(n){if(r.width<=0||r.height<=0)return!1;e?(o.texImage2D(d,u,r.level,r.internalFormat,r.width,r.height,r.border,r.format,r.type,r.data),L=!0):o.texSubImage2D(d,u,r.level,r.xoffset,r.yoffset,r.width,r.height,r.format,r.type,r.data)}else{if(!a)return!1;e?(o.texImage2D(d,u,r.level,r.internalFormat,r.format,r.type,r.data),L=!0):o.texSubImage2D(d,u,r.level,r.xoffset,r.yoffset,r.format,r.type,r.data)}return L&&(this._missingFaces&=~SpiderGL.WebGL.Texture._faceBits[u]),(n||a)&&(-1!=h&&s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,h),-1!=f&&s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),-1!=c&&s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,c)),r.generateMipmap&&this.generateMipmap(),!0},_setImage:function(e,t){return this._setImageData(!0,e,t)},_setSubImage:function(e,t){return this._setImageData(!1,e,t)},get isReady(){return 0==this._missingFaces&&this._width>0&&this._height>0},get flipYPolicy(){return this._flipY},set flipYPolicy(e){this._flipY=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y)},get premultuplyAlphaPolicy(){return this._premultuplyAlpha},set premultuplyAlphaPolicy(e){this._premultuplyAlpha=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA)},get colorspaceConversionPolicy(){return this._colorspaceConversion},set colorspaceConversionPolicy(e){this._colorspaceConversion=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION)},get autoMipmap(){return this._autoMipmap},set autoMipmap(e){this._autoMipmap=e},get format(){return this._format},get width(){return this._width},get height(){return this._height},get magFilter(){return this._magFilter},set magFilter(e){e=SpiderGL.Utility.getDefaultValue(w,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_MAG_FILTER,e)},get minFilter(){return this._minFilter},set minFilter(e){e=SpiderGL.Utility.getDefaultValue(w,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_MIN_FILTER,e)},get wrapS(){return this._wrapS},set wrapS(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_WRAP_S,e)},get wrapT(){return this._wrapT},set wrapT(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_WRAP_T,e)},setSampler:function(e){if(!e)return!1;var t=this._gl,r=this._cb,i=(this._dsa,this._t),n=this._h;r.pushTexture(i),t.bindTexture(i,n);var a=0;return\"magFilter\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.magFilter,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a)),\"minFilter\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.minFilter,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a)),\"wrapS\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.wrapS,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S),t.texParameteri(i,t.TEXTURE_WRAP_S,a)),\"wrapT\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.wrapT,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T),t.texParameteri(i,t.TEXTURE_WRAP_T,a)),r.popTexture(i),!0},getSampler:function(){return{magFilter:this._magFilter,minFilter:this._minFilter,wrapS:this._wrapS,wrapT:this._wrapT}},generateMipmap:function(){0==this._missingFaces&&this._dsa.generateMipmap(this._h,this._t)},destroy:function(){this._gl.deleteTexture(this._h)},bind:function(e){var t=this._gl,r=(this._cb,this._dsa);void 0===e?t.bindTexture(this._t,this._h):r.bindTexture(t.TEXTURE0+e,this._t,this._h)},unbind:function(e){var t=this._gl,r=(this._cb,this._dsa);void 0===e?t.bindTexture(this._t,null):r.bindTexture(t.TEXTURE0+e,this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Texture,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Texture2D=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Texture.call(this,e,SpiderGL.WebGL.Texture2D.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:(t=t||{},SpiderGL.Type.instanceOf(t,WebGLTexture)?t={handle:t}:SpiderGL.Type.isString(t)&&(t={url:t}),void((\"url\"in t||\"data\"in t||\"width\"in t&&\"height\"in t)&&this.setImage(t)))):null},SpiderGL.WebGL.Texture2D.TARGET=WebGLRenderingContext.prototype.TEXTURE_2D,SpiderGL.WebGL.Texture2D.unbind=function(e,t){e.getExtension(\"SGL_current_binding\");var r=e.getExtension(\"SGL_direct_state_access\");void 0===t?e.bindTexture(SpiderGL.WebGL.Texture2D.TARGET,null):r.bindTexture(e.TEXTURE0+t,SpiderGL.WebGL.Texture2D.TARGET,null)},SpiderGL.WebGL.Texture2D.prototype={setImage:function(e){return this._setImage(this._t,e)},setSubImage:function(e){return this._setSubImage(this._t,e)}},SpiderGL.Type.extend(SpiderGL.WebGL.Texture2D,SpiderGL.WebGL.Texture),SpiderGL.WebGL.TextureCubeMap=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.WebGL.Texture.call(this,e,SpiderGL.WebGL.TextureCubeMap.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;t=t||{},SpiderGL.Type.instanceOf(t,WebGLTexture)?t={handle:t}:SpiderGL.Type.isString(t)&&(t={url:t});var r,i=SpiderGL.WebGL.TextureCubeMap._faceTargets;if(t.url){var n=t.url,a=t.onSuccess;a&&(t.onSuccess=(r=6,function(){0==--r&&a.apply(t,null)}));for(var s=0;s<6;++s)t.url=n[s],this.setImage(i[s],t);t.onSuccess=a}else if(t.data){var o=t.data;for(s=0;s<6;++s)t.data=o[s],this.setImage(i[s],t)}else if(t.width>0&&t.height>0)for(s=0;s<6;++s)this.setImage(i[s],t)},SpiderGL.WebGL.TextureCubeMap.TARGET=WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP,SpiderGL.WebGL.TextureCubeMap.unbind=function(e,t){e.getExtension(\"SGL_current_binding\");var r=e.getExtension(\"SGL_direct_state_access\");void 0===t?e.bindTexture(SpiderGL.WebGL.TextureCubeMap.TARGET,null):r.bindTexture(e.TEXTURE0+t,SpiderGL.WebGL.TextureCubeMap.TARGET,null)},SpiderGL.WebGL.TextureCubeMap._faceTargets=[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z],SpiderGL.WebGL.TextureCubeMap.prototype={setImage:function(e,t){return this._setImage(e,t)},setSubImage:function(e,t){return this._setSubImage(e,t)}},SpiderGL.Type.extend(SpiderGL.WebGL.TextureCubeMap,SpiderGL.WebGL.Texture),SpiderGL.Model={},SpiderGL.Model.Model=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=SpiderGL.Utility.getDefaultObject({},r),t&&\"vertices\"in t&&(t=SpiderGL.Model.Model._createSimpleDescriptor(t)),this._descriptor=SpiderGL.Model.Model._fixDescriptor(t),this._gl=null,this._renderData={},e&&(this.updateGL(e,r),this.updateRenderData())},SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_SIZE=3,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE=SpiderGL.Type.FLOAT32,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_NORMALIZED=!1,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_STRIDE=0,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_OFFSET=0,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_MODE=SpiderGL.Type.TRIANGLES,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_FIRST=0,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_COUNT=-1,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE=SpiderGL.Type.UINT16,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_OFFSET=0,SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP={},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.position={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"POSITION\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.normal={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"NORMAL\",index:0,value:[0,0,1,0]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.color={size:4,type:SpiderGL.Type.UINT8,normalized:!0,semantic:\"COLOR\",index:0,value:[0,0,0,255]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.texcoord={size:2,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"TEXCOORD\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.user={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"USER\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP={},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangles={mode:SpiderGL.Type.TRIANGLES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangleStrip={mode:SpiderGL.Type.TRIANGLE_STRIP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangleFan={mode:SpiderGL.Type.TRIANGLE_FAN,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lines={mode:SpiderGL.Type.LINES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lineStrip={mode:SpiderGL.Type.LINE_STRIP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lineLoop={mode:SpiderGL.Type.LINE_LOOP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.points={mode:SpiderGL.Type.POINTS,type:SpiderGL.Type.UINT16,count:-1,semantic:\"POINT\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.user={mode:SpiderGL.Type.TRIANGLES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model._fixDescriptor=function(e){return(e=SpiderGL.Utility.getDefaultObject({version:\"0.0.0.1 EXP\",meta:null,data:null,access:null,semantic:null,logic:null},e)).meta=SpiderGL.Model.Model._fixDescriptorMeta(e.meta),e.data=SpiderGL.Model.Model._fixDescriptorData(e.data),e.access=SpiderGL.Model.Model._fixDescriptorAccess(e.access),e.semantic=SpiderGL.Model.Model._fixDescriptorSemantic(e.semantic),e.logic=SpiderGL.Model.Model._fixDescriptorLogic(e.logic),e},SpiderGL.Model.Model._fixDescriptorMeta=function(e){return e=SpiderGL.Utility.getDefaultObject({author:null,date:null,description:null},e)},SpiderGL.Model.Model._fixDescriptorData=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexBuffers:null,indexBuffers:null},e)).vertexBuffers=SpiderGL.Model.Model._fixDescriptorDataVertexBuffers(e.vertexBuffers),e.indexBuffers=SpiderGL.Model.Model._fixDescriptorDataIndexBuffers(e.indexBuffers),e},SpiderGL.Model.Model._fixDescriptorDataVertexBuffers=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorDataVertexBuffer(e[t]);return e},SpiderGL.Model.Model._fixDescriptorDataVertexBuffer=function(e){return SpiderGL.Model.Model._fixDescriptorDataBuffer(e)},SpiderGL.Model.Model._fixDescriptorDataIndexBuffers=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorDataIndexBuffer(e[t]);return e},SpiderGL.Model.Model._fixDescriptorDataIndexBuffer=function(e){return SpiderGL.Model.Model._fixDescriptorDataBuffer(e)},SpiderGL.Model.Model._fixDescriptorDataBuffer=function(e){return e=SpiderGL.Utility.getDefaultObject({type:SpiderGL.Type.NO_TYPE,glType:WebGLRenderingContext.prototype.NONE,untypedArray:null,typedArray:null,glBuffer:null},e)},SpiderGL.Model.Model._fixDescriptorAccess=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexStreams:null,primitiveStreams:null},e)).vertexStreams=SpiderGL.Model.Model._fixDescriptorAccessVertexStreams(e.vertexStreams),e.primitiveStreams=SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStreams(e.primitiveStreams),e},SpiderGL.Model.Model._fixDescriptorAccessVertexStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorAccessVertexStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorAccessVertexStream=function(e){return e=SpiderGL.Utility.getDefaultObject({buffer:null,size:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_SIZE,type:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE,glType:SpiderGL.Type.typeToGL(SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE),normalized:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_NORMALIZED,stride:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_STRIDE,offset:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_OFFSET},e)},SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStream=function(e){return e=SpiderGL.Utility.getDefaultObject({buffer:null,mode:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_MODE,first:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_FIRST,count:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_COUNT,type:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE,glType:SpiderGL.Type.typeToGL(SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE),offset:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_OFFSET},e)},SpiderGL.Model.Model._fixDescriptorSemantic=function(e){return(e=SpiderGL.Utility.getDefaultObject({bindings:null,chunks:null},e)).bindings=SpiderGL.Model.Model._fixDescriptorSemanticBindings(e.bindings),e.chunks=SpiderGL.Model.Model._fixDescriptorSemanticChunks(e.chunks),e},SpiderGL.Model.Model._fixDescriptorSemanticBindings=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBinding(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBinding=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexStreams:null,primitiveStreams:null},e)).vertexStreams=SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStreams(e.vertexStreams),e.primitiveStreams=SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStreams(e.primitiveStreams),e},SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStream=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStream=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._fixDescriptorSemanticChunks=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticChunk(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticChunk=function(e){return(e=SpiderGL.Utility.getDefaultObject({techniques:null},e)).techniques=SpiderGL.Model.Model._fixDescriptorSemanticChunkTechniques(e.techniques),e},SpiderGL.Model.Model._fixDescriptorSemanticChunkTechniques=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticChunkTechnique(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticChunkTechnique=function(e){return e=SpiderGL.Utility.getDefaultObject({binding:null},e)},SpiderGL.Model.Model._fixDescriptorLogic=function(e){return(e=SpiderGL.Utility.getDefaultObject({parts:null},e)).parts=SpiderGL.Model.Model._fixDescriptorLogicParts(e.parts),e},SpiderGL.Model.Model._fixDescriptorLogicParts=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorLogicPart(e[t]);return e},SpiderGL.Model.Model._fixDescriptorLogicPart=function(e){return(e=SpiderGL.Utility.getDefaultObject({chunks:null},e)).chunks=SpiderGL.Model.Model._fixDescriptorLogicPartChunks(e.chunks),e},SpiderGL.Model.Model._fixDescriptorLogicPartChunks=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._createSimpleDescriptor=function(e){e=SpiderGL.Utility.getDefaultObject({vertices:null,primitives:null,options:null},e);var t=\"mainBinding\",r=\"mainChunk\",i={data:{vertexBuffers:{},indexBuffers:{}},access:{vertexStreams:{},primitiveStreams:{}},semantic:{bindings:{},chunks:{}},logic:{parts:{}}},n={vertexStreams:{},primitiveStreams:{}};i.semantic.bindings[t]=n;var a={techniques:{common:{binding:t}}};i.semantic.chunks[r]=a;var s={chunks:[r]};i.logic.parts.mainPart=s;var o=-1,u=!1,d=!1;for(var p in e.vertices){if(E=e.vertices[p]){(SpiderGL.Type.isArray(E)||SpiderGL.Type.isTypedArray(E)||SpiderGL.Type.instanceOf(E,ArrayBuffer))&&(E={data:E});var h=null;(b=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP[p])?h=b.semantic:(b=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.user,h=p.toUpperCase());var _={buffer:null,size:(v=SpiderGL.Utility.getDefaultObject({size:b.size,type:b.type,normalized:b.normalized,semantic:h,index:b.index,data:null,value:b.value.slice()},E)).size,type:v.type,normalized:v.normalized,stride:0,offset:0,value:v.value.slice()};if(v.data){var f={type:v.type},l=0;if(SpiderGL.Type.isArray(v.data))f.untypedArray=v.data,l=f.untypedArray.length/_.size;else{if(!SpiderGL.Type.isTypedArray(E)&&!SpiderGL.Type.instanceOf(E,ArrayBuffer))continue;f.typedArray=v.data,l=(f.typedArray.byteLength-_.offset)/(_.size*SpiderGL.Type.typeSize(_.type))}l=SpiderGL.Math.floor(l),u=!0,o=o>=0?SpiderGL.Math.min(o,l):l;var c=p+\"VertexBuffer\";i.data.vertexBuffers[c]=f,_.buffer=c}else d=!0;var L=p;i.access.vertexStreams[L]=_,(x=new Array(v.index+1))[v.index]=L,n.vertexStreams[v.semantic]=x}}var S=0;u?S=o:d&&(S=1);var g=e.primitives;if(SpiderGL.Type.isString(g)&&(g=[g]),SpiderGL.Type.isArray(g)){var G=g;g={};for(var m=0,T=G.length;m<T;++m){var M=G[m];SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP[M]&&(g[M]={})}}for(var p in g){var E;if(E=g[p]){var b;(SpiderGL.Type.isArray(E)||SpiderGL.Type.isTypedArray(E)||SpiderGL.Type.instanceOf(E,ArrayBuffer))&&(E={data:E}),(b=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP[p])||(b=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.user);var v;_={buffer:null,mode:(v=SpiderGL.Utility.getDefaultObject({mode:b.mode,type:b.type,count:b.count>=0?b.count:S,semantic:b.semantic},E)).mode,first:0,count:v.count,type:v.type,offset:0};if(v.data){f={type:v.type},l=0;if(SpiderGL.Type.isArray(v.data))f.untypedArray=v.data,l=f.untypedArray.length;else{if(!SpiderGL.Type.isTypedArray(E)&&!SpiderGL.Type.instanceOf(E,ArrayBuffer))continue;f.typedArray=v.data,l=(f.typedArray.byteLength-_.offset)/SpiderGL.Type.typeSize(_.type)}l=SpiderGL.Math.floor(l);c=p+\"IndexBuffer\";i.data.indexBuffers[c]=f,_.buffer=c,_.count=l}var x;L=p;i.access.primitiveStreams[L]=_,(x=new Array(1))[0]=L,n.primitiveStreams[v.semantic]=x}}return i},SpiderGL.Model.Model.prototype={get descriptor(){return this._descriptor},get isReady(){return!!this._descriptor},get gl(){return this._gl},get renderData(){return this._renderData},updateTypedArrays:function(){var e=this._descriptor;if(!e)return!1;var t=null,r=null,i=e.data.vertexBuffers;for(var n in i)(t=i[n]).untypedArray&&(r=SpiderGL.Type.typeToTypedArrayConstructor(t.type),t.typedArray=new r(t.untypedArray));var a=e.data.indexBuffers;for(var n in a)(t=a[n]).untypedArray&&(r=SpiderGL.Type.typeToTypedArrayConstructor(t.type),t.typedArray=new r(t.untypedArray));return!0},updateGL:function(e,t){if(!e)return!1;var r=this._descriptor;if(!r)return!1;this._gl=e;var i=null,n=null,a=SpiderGL.Utility.getDefaultObject({data:null,usage:SpiderGL.Core.DEFAULT},t);for(var s in a.data=null,r.data.vertexBuffers)i=r.data.vertexBuffers[s],a.data=i.typedArray,a.data||(n=SpiderGL.Type.typeToTypedArrayConstructor(i.type),a.data=new n(i.untypedArray)),i.glBuffer&&(i.glBuffer.destroy(),i.glBuffer=null),i.glBuffer=new SpiderGL.WebGL.VertexBuffer(e,a);for(var s in r.data.indexBuffers)i=r.data.indexBuffers[s],a.data=i.typedArray,a.data||(n=SpiderGL.Type.typeToTypedArrayConstructor(i.type),a.data=new n(i.untypedArray)),i.glBuffer&&(i.glBuffer.destroy(),i.glBuffer=null),i.glBuffer=new SpiderGL.WebGL.IndexBuffer(e,a);var o=null;for(var s in r.access.vertexStreams)(o=r.access.vertexStreams[s]).glType=SpiderGL.Type.typeToGL(o.type);for(var s in r.access.primitiveStreams)(o=r.access.primitiveStreams[s]).glMode=SpiderGL.Type.primitiveToGL(o.mode),o.glType=SpiderGL.Type.typeToGL(o.type);return!0},destroyGL:function(){var e=this._descriptor;if(!e)return!1;var t=null;for(var r in e.data.vertexBuffers)(t=e.data.vertexBuffers[r]).glBuffer&&(t.glBuffer.destroy(),t.glBuffer=null);for(var r in e.data.indexBuffers)(t=e.data.indexBuffers[r]).glBuffer&&(t.glBuffer.destroy(),t.glBuffer=null)},updateRenderData:function(){var e=this._descriptor;if(!e)return!1;var t={partMap:{}};for(var r in e.logic.parts){var i=e.logic.parts[r].chunks,n={};t.partMap[r]=n;for(var a=0,s=i.length;a<s;++a){var o=i[a],u=e.semantic.chunks[o],d={};n[o]=d;var p=u.techniques;for(var h in p){var _=p[h],f={vertexStreams:{buffered:[],constant:[]},primitiveStreams:{}};d[h]=f;var l=e.semantic.bindings[_.binding],c=l.vertexStreams,L={};for(var S in c)for(var g=0,G=(v=c[S]).length;g<G;++g){var m=v[g],T={semantic:S,index:g,stream:x=e.access.vertexStreams[m]};(M=x.buffer)?(L[M]=L[M]||[],L[M].push(T)):f.vertexStreams.constant.push(T)}for(var M in L){var E={buffer:e.data.vertexBuffers[M],streams:L[M].slice()};f.vertexStreams.buffered.push(E)}c=l.primitiveStreams;for(var S in c){L={};var b={buffered:[],array:[]};f.primitiveStreams[S]=b;var v;for(g=0,G=(v=c[S]).length;g<G;++g){var x;m=v[g];(M=(x=e.access.primitiveStreams[m]).buffer)?(L[M]=L[M]||[],L[M].push(x)):b.array.push(x)}for(var M in L){E={buffer:e.data.indexBuffers[M],streams:L[M].slice()};b.buffered.push(E)}}}}}this._renderData=t}},SpiderGL.Type.extend(SpiderGL.Model.Model,SpiderGL.Core.ObjectBase),SpiderGL.Model.Technique=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=SpiderGL.Utility.getDefaultObject({},r),t&&\"vertexShader\"in t&&\"fragmentShader\"in t&&(t=SpiderGL.Model.Technique._createSimpleDescriptor(e,t)),this._descriptor=SpiderGL.Model.Technique._fixDescriptor(t),this._gl=this._descriptor.program.gl,this._renderData={},e&&this.updateRenderData()},SpiderGL.Model.Technique._fixDescriptor=function(e){return(e=SpiderGL.Utility.getDefaultObject({name:\"common\",program:null,semantic:{}},e)).vertexStreams&&(e.semantic.vertexStreams=e.vertexStreams,delete e.vertexStreams),e.globals&&(e.semantic.globals=e.globals,delete e.globals),e.semantic=SpiderGL.Model.Technique._fixSemantic(e.program,e.semantic),e},SpiderGL.Model.Technique._fixSemantic=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({vertexStreams:null,globals:null},t)).vertexStreams=SpiderGL.Model.Technique._fixVertexStreams(e,t.vertexStreams),t.globals=SpiderGL.Model.Technique._fixGlobals(e,t.globals),t},SpiderGL.Model.Technique._fixVertexStreams=function(e,t){for(var r=e.getAttributesNames(),i={},n=0,a=r.length;n<a;++n){for(var s=r[n],o=\"\",u=\"\",d=s.length-1;d>=0;--d){var p=s.charAt(d);if(-1==\"0123456789\".indexOf(p,0)){o=s.substring(0,d+1);break}u=p+u}var h=u.length>0?parseInt(u):0,_=o.length;if(_>=2)if(\"a\"==o.charAt(0))\"_\"==(p=o.charAt(1))&&_>2?o=o.substring(2):p==o.charAt(1).toUpperCase()&&(o=o.substring(1));var f=o.toUpperCase();i[s]={semantic:f,index:h,value:[0,0,0,1]}}var l={};for(var c in t){var L=i[c];if(L){var S=t[c];SpiderGL.Type.isString(S)?S={semantic:S}:SpiderGL.Type.isArray(S)||SpiderGL.Type.isTypedArray(S)?S={value:S}:SpiderGL.Type.isNumber(S)&&(S={value:[S,S,S,S]}),l[c]=SpiderGL.Utility.getDefaultObject({semantic:L.semantic,index:L.index,value:L.value},S)}}return t=SpiderGL.Utility.getDefaultObject(i,l)},SpiderGL.Model.Technique._fixGlobals=function(e,t){var r=e.getUniformsValues(),i={};for(var n in r){var a=n,s=a.length;if(s>=2&&\"u\"==a.charAt(0)){var o=a.charAt(1);\"_\"==o&&s>2?a=a.substring(2):o==a.charAt(1).toUpperCase()&&(a=a.substring(1))}var u=a.toUpperCase();i[n]={semantic:u,value:r[n]}}return t=SpiderGL.Utility.getDefaultObject(i,t)},SpiderGL.Model.Technique._createSimpleDescriptor=function(e,t){(t=SpiderGL.Utility.getDefaultObject({name:\"common\",vertexShader:null,fragmentShader:null,attributes:null,uniforms:null,semantic:{},vertexStreams:null,globals:null,options:null},t)).vertexStreams&&(t.semantic.vertexStreams=t.vertexStreams,delete t.vertexStreams),t.globals&&(t.semantic.globals=t.globals,delete t.globals);var r={name:t.name,program:null,semantic:t.semantic};if(!e)return r;var i=t.vertexShader,n=t.fragmentShader;if(!i||!n)return r;if(SpiderGL.Type.isString(i))i=new SpiderGL.WebGL.VertexShader(e,i);else if(!SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.VertexShader))return r;if(SpiderGL.Type.isString(n))n=new SpiderGL.WebGL.FragmentShader(e,n);else if(!SpiderGL.Type.instanceOf(n,SpiderGL.WebGL.FragmentShader))return r;var a=new SpiderGL.WebGL.Program(e,{shaders:[i,n],attributes:t.attributes,uniforms:t.uniforms});return r.program=a,r},SpiderGL.Model.Technique.prototype={get descriptor(){return this._descriptor},get isReady(){return!!this._descriptor},get gl(){return this._gl},get name(){return this._descriptor.name},get renderData(){return this._renderData},get program(){return this._descriptor.program},setUniforms:function(e){this._descriptor.program.setUniforms(e)},updateRenderData:function(){var e=this._descriptor,t={};this._renderData=t;var r={};t.attributesMap=r;var i=e.program.getAttributesIndices();for(var n in e.semantic.vertexStreams){var a=(d=e.semantic.vertexStreams[n]).semantic,s=r[a];s||(s=[],r[a]=s),s[d.index]={index:i[n],value:d.value}}var o={};for(var u in t.globalsMap=o,e.semantic.globals){var d;o[(d=e.semantic.globals[u]).semantic]={name:u,value:d.value}}}},SpiderGL.Model.ModelRenderer=function(e){this._gl=e,this._vertexAttributesCount=e.getParameter(e.MAX_VERTEX_ATTRIBS),this._textureUnitsCount=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this._internalFramebuffer=new SpiderGL.WebGL.Framebuffer(e),this._reset()},SpiderGL.Model.ModelRenderer.prototype={_reset:function(){this._technique=null,this._model=null,this._partName=null,this._chunkName=null,this._primMode=null,this._framebuffer=null,this._inBegin=!1,this._enabledArrays=[],this._boundTextures=[],this._attribValues=[],this._primitiveStreams=[],this._techniqueDirty=!0,this._modelDirty=!0,this._modelPartDirty=!0,this._modelChunkDirty=!0,this._primModeDirty=!0,this._framebufferDirty=!0,this._viewportDirty=!0,this._dirty=!0},_resetContext:function(){for(var e=this._gl,t=0,r=this._vertexAttributesCount;t<r;++t)e.disableVertexAttribArray(t);for(t=this._textureUnitsCount-1;t>=0;--t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);SpiderGL.WebGL.VertexBuffer.unbind(e),SpiderGL.WebGL.IndexBuffer.unbind(e),SpiderGL.WebGL.Program.unbind(e),SpiderGL.WebGL.Framebuffer.unbind(e)},_update:function(){if(!this._dirty)return!0;var e=this._gl;if(this._techniqueDirty){if(!(p=this._technique))return!1;var t=(h=p.renderData).attributesMap,r=[];for(var i in t){var n=t[i];for(var a in n){var s=n[a],o=null;s&&(o={index:s.index,value:s.value}),r.push(o)}}this._attribValues=r,p.program.bind(),this._techniqueDirty=!1}if(this._modelDirty){var u=this._model;if(!u)return!1;a=0;for(var d=(r=this._attribValues).length;a<d;++a){(o=r[a])&&e.vertexAttrib4fv(o.index,o.value)}var p,h,_=u.renderData;if(!(p=this._technique))return!1;if(!(h=p.renderData))return!1;t=h.attributesMap;if(this._modelPartDirty){if(!this._partName)return!1;this._modelPartDirty=!1}if(this._modelChunkDirty){var f=this._chunkName;if(!f)return!1;if(!(b=_.partMap[this._partName]))return!1;if(!(v=b[f]))return!1;if((x=v[p.name])||(x=v.common),!x)return!1;var l=this._enabledArrays;for(a=0,d=l.length;a<d;++a)e.disableVertexAttribArray(l[a]);l=[];var c=x.vertexStreams.buffered;for(a=0,d=c.length;a<d;++a){var L=c[a],S=L.buffer.glBuffer;S.bind();for(var g=0,G=(T=L.streams).length;g<G;++g){if(t[(M=T[g]).semantic]&&t[M.semantic][M.index]){var m=t[M.semantic][M.index].index;(E=M.stream).index=m,l.push(m),S.vertexAttribPointer(E)}}}this._enabledArrays=l;var T;for(g=0,d=(T=x.vertexStreams.constant).length;g<d;++g){var M;if(t[(M=T[g]).semantic]&&t[M.semantic][M.index]){m=t[M.semantic][M.index].index;var E=M.stream;e.vertexAttrib4fv(m,E.value)}}this._modelChunkDirty=!1}if(this._primModeDirty){var b,v,x,y=this._primMode;if(!y)return!1;if(!(b=_.partMap[this._partName]))return!1;if(!(v=b[this._chunkName]))return!1;if((x=v[p.name])||(x=v.common),!x)return!1;var A=x.primitiveStreams[y];if(!A)return!1;this._primitiveStreams=A,this._primModeDirty=!1}this._modelDirty=!1}return this._framebufferDirty&&(this._framebuffer?this._framebuffer.bind():SpiderGL.WebGL.Framebuffer.unbind(e),this._framebufferDirty=!1),this._viewportDirty&&(this._framebuffer&&this._framebuffer.autoViewport&&this._framebuffer.applyViewport(),this._viewportDirty=!1),this._dirty=!1,!0},get gl(){return this._gl},get isValid(){return!!this._gl},destroy:function(){this.end(),this._internalFramebuffer.destroy(),this._internalFramebuffer=null,this._gl=null},begin:function(){this._inBegin||(this._resetContext(),this._inBegin=!0)},end:function(){if(this._inBegin){this._inBegin=!1;for(var e=this._gl,t=this._enabledArrays,r=0,i=t.length;r<i;++r)e.disableVertexAttribArray(t[r]);var n=this._boundTextures;for(r=0,i=n.length;r<i;++r){var a=n[r];a&&(a.target==e.TEXTURE_2D?SpiderGL.WebGL.Texture2D.unbind(e,a.unit):a.target==e.TEXTURE_CUBE_MAP&&SpiderGL.WebGL.TextureCubeMap.unbind(e,a.unit))}this._framebuffer&&SpiderGL.WebGL.Framebuffer.unbind(this._gl),this._internalFramebuffer.detachAll(),this._reset(),this._resetContext()}},get isInBegin(){return this._inBegin},setTechnique:function(e){this._inBegin&&this._technique!=e&&(this._technique=e,this._techniqueDirty=!0,this._dirty=!0,e||SpiderGL.WebGL.Program.unbind(this._gl))},get technique(){return this._technique},setModel:function(e){this._inBegin&&this._model!=e&&(this._model=e,this._modelDirty=!0,this._modelPartDirty=!0,this._modelChunkDirty=!0,this._dirty=!0)},get model(){return this._model},setPart:function(e){this._inBegin&&this._part!=e&&(this._partName=e,this._modelPartDirty=!0,this._modelDirty=!0,this._dirty=!0)},get part(){return this._partName},setChunk:function(e){this._inBegin&&this._chunk!=e&&(this._chunkName=e,this._modelDirty=!0,this._modelChunkDirty=!0,this._primModeDirty=!0,this._dirty=!0)},get chunk(){return this._chunkName},setPrimitiveMode:function(e){this._inBegin&&this._primMode!=e&&(this._primMode=e,this._primModeDirty=!0,this._modelDirty=!0,this._dirty=!0)},get primitiveMode(){return this._primMode},setUniforms:function(e){this._inBegin&&this._technique&&this._technique.program.setUniforms(e)},setDefaultGlobals:function(){if(this._inBegin){var e=this._technique;if(e){var t=e.renderData.globalsMap,r={};for(var i in t){var n=t[i].name,a=t[i].value;r[n]=a}e.program.setUniforms(r)}}},setGlobals:function(e){if(this._inBegin&&e){var t=this._technique;if(t){var r=t.renderData.globalsMap,i={};for(var n in e)if(r[n]){var a=r[n].name,s=e[n];i[a]=s}t.program.setUniforms(i)}}},setFramebuffer:function(e){this._inBegin&&this._framebuffer!=e&&(this._framebuffer=e,this._framebufferDirty=!0,this._viewportDirty=!0,this._dirty=!0,e?e.bind():SpiderGL.WebGL.Framebuffer.unbind(this._gl))},activateOffScreenFramebuffer:function(){this.setFramebuffer(this._internalFramebuffer)},activateMainFramebuffer:function(){return this.setFramebuffer(null)},setFramebufferAttachments:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.setAttachments(e),this._framebufferDirty=!0,this._viewportDirty=!0)},setColorRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.colorTarget=e,this._viewportDirty=!0,this._dirty=!0)},setDepthRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.depthTarget=e,this._viewportDirty=!0,this._dirty=!0)},setStencilRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.stencilTarget=e,this._viewportDirty=!0,this._dirty=!0)},setDepthStencilRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.depthStencilTarget=e,this._viewportDirty=!0,this._dirty=!0)},clearFramebuffer:function(e){if(this._inBegin&&e){var t=this._gl,r=0;if(SpiderGL.Type.isNumber(e))r=e;else{if(\"color\"in e){var i=e.color;i&&t.clearColor(i[0],i[1],i[2],i[3]),r|=t.COLOR_BUFFER_BIT}if(\"depth\"in e){var n=e.depth;SpiderGL.Type.isNumber(n)&&t.clearDepth(n),r|=t.DEPTH_BUFFER_BIT}if(\"stencil\"in e){var a=e.stencil;SpiderGL.Type.isNumber(a)&&t.clearStencil(a),r|=t.Stencil_BUFFER_BIT}}if(r){var s=this._framebuffer;s?s.clear(r):t.clear(r)}}},setViewport:function(e,t,r,i){this._inBegin&&this._gl.viewport(e,t,r,i)},setTexture:function(e,t){if(t)t.bind(e);else{var r=this._gl;SpiderGL.WebGL.Texture2D.unbind(r,e),SpiderGL.WebGL.TextureCubeMap.unbind(r,e)}},get canRender(){return!!(this._inBegin&&this._technique&&this._model&&this._partName&&this._chunkName&&this._primMode)},render:function(){if(this.canRender&&this._update()){for(var e=this._gl,t=this._primitiveStreams,r=t.buffered,i=t.array,n=0,a=r.length;n<a;++n){var s=r[n],o=s.buffer.glBuffer;o.bind();for(var u=s.streams,d=0,p=u.length;d<p;++d){var h=u[d];o.drawElements(h)}}for(d=0,a=i.length;d<a;++d){h=i[d];e.drawArrays(h.glMode,h.first,h.count)}}},renderModelPart:function(e){var t=this.model.descriptor.logic.parts[e];for(var r in this.setPart(e),t.chunks){var i=t.chunks[r];this.setChunk(i),this.render()}},renderModel:function(){var e=this.model.descriptor.logic.parts;for(var t in e){var r=e[t];for(var i in this.setPart(t),r.chunks){var n=r.chunks[i];this.setChunk(n),this.render()}}}},SpiderGL.UserInterface={},SpiderGL.UserInterface.CanvasHandler=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=r||{};var i=this,n=e.canvas;this._gl=e,this._canvas=n,this._handler=t,this._ignoreKeyRepeat=SpiderGL.Utility.getDefaultValue(r.ignoreKeyRepeat,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT),this._keysDown={},this._mouseButtonsDown=[!1,!1,!1],this._dragging=[!1,!1,!1],this._dragStartPos=[[0,0],[0,0],[0,0]],this._dragEndPos=[[0,0],[0,0],[0,0]],this._dragDeltaPos=[[0,0],[0,0],[0,0]],this._cursorPos=[0,0,!0,0],this._cursorPrevPos=[0,0,!0,0],this._cursorDeltaPos=[0,0],this._cursorDeltaTime=0,this._cursorIncrPos=0,this._cursorIncrTime=0,this._clickPos=[0,0,!0,0],this._clickPrevPos=[0,0,!0,0],this._touches=[],this._touchZoomDelta=0,this._touchPanResolved=!1,this._drawEventPending=!1,this._drawEventHandler=function(){i._onDraw()},this._postDrawEventFunction=function(){i._postDrawEvent()},this._animateTime=Date.now(),this._animatePrevTime=this._animateTime,this._animateDeltaTime=0,this._animateRate=0,this._animateID=null,this._animateEventHandler=function(){i._onAnimate()},this._animateMS=-1,this._animateWithTimeout=!1,this._fastAnimate=!1,this._fpsUpdateMS=1e3,this._fpsTime=0,this._fpsCount=0,this._fps=0,this._delegateDraw=function(e){i._onDraw(e)};window.addEventListener(\"message\",function(e){e.source==window&&(e.data==SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME?(e.stopPropagation(),i._onAnimate()):e.data==SpiderGL.UserInterface.CanvasHandler._FAST_DRAW_MESSAGE_NAME&&(e.stopPropagation(),i._onDraw()))},!0),n.tabIndex=0,n.addEventListener(\"unload\",function(e){i._onTerminate(e)},!1),n.addEventListener(\"keydown\",function(e){i._onKeyDown(e)},!1),n.addEventListener(\"keyup\",function(e){i._onKeyUp(e)},!1),n.addEventListener(\"keypress\",function(e){i._onKeyPress(e)},!1),n.addEventListener(\"mousedown\",function(e){i._onMouseButtonDown(e)},!1),n.addEventListener(\"mouseup\",function(e){i._onMouseButtonUp(e)},!1),n.addEventListener(\"mousemove\",function(e){i._onMouseMove(e)},!1),n.addEventListener(\"mouseout\",function(e){i._onMouseOut(e)},!1),n.addEventListener(\"click\",function(e){i._onClick(e)},!1),n.addEventListener(\"dblclick\",function(e){i._onDoubleClick(e)},!1),n.addEventListener(\"resize\",function(e){i._onResize(e)},!1),n.addEventListener(\"DOMMouseScroll\",function(e){i._onMouseWheel(e)},!1),n.addEventListener(\"mousewheel\",function(e){i._onMouseWheel(e)},!1),n.addEventListener(\"blur\",function(e){i._onBlur(e)},!1);var a=new SglBrowser;a.isIE||a.isEdge?(n.addEventListener(\"pointerdown\",function(e){\"touch\"==e.pointerType&&i._onTouchStart(e)},!1),n.addEventListener(\"pointerup\",function(e){\"touch\"==e.pointerType&&i._onTouchEnd(e)},!1),n.addEventListener(\"pointermove\",function(e){\"touch\"==e.pointerType&&i._onTouchMove(e)},!1),window.addEventListener(\"pointerup\",function(e){\"touch\"==e.pointerType&&i._onTouchEnd(e)},!1),window.addEventListener(\"pointermove\",function(e){\"touch\"==e.pointerType&&i._onTouchMove(e)},!1)):(n.addEventListener(\"touchstart\",function(e){i._onTouchStart(e)},!1),n.addEventListener(\"touchend\",function(e){i._onTouchEnd(e)},!1),n.addEventListener(\"touchmove\",function(e){i._onTouchMove(e)},!1)),window.addEventListener(\"mouseup\",function(e){i._onWindowMouseButtonUp(e)},!1),window.addEventListener(\"mousemove\",function(e){i._onWindowMouseMove(e)},!1),window.addEventListener(\"resize\",function(e){i._onWindowResize(e)},!1),SpiderGL.Utility.getDefaultValue(r.standardGLUnpack,SpiderGL.UserInterface.CanvasHandler.DEFAULT_STANDARD_GL_UNPACK)&&SpiderGL.WebGL.Context.setStandardGLUnpack(e),this.animateRate=SpiderGL.Utility.getDefaultValue(r.animateRate,SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE)},SpiderGL.UserInterface.CanvasHandler._FAST_DRAW_MESSAGE_NAME=\"spidergl-fast-draw-message\",SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME=\"spidergl-fast-animate-message\",SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE=0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT=!0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_STANDARD_GL_UNPACK=!0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_PROPERTY_NAME=\"ui\",SpiderGL.UserInterface.CanvasHandler.prototype={_firstNotify:function(){this._onInitialize(),this._animateRate>0&&this._onAnimate(),this.postDrawEvent()},_dispatch:function(){var e=arguments[0],t=this._handler,r=t[e];if(r){var i=Array.prototype.slice.call(arguments,1);r.apply(t,i)}},_postDrawEvent:function(){this._postDrawCount=5,this._drawEventPending||(this._drawEventPending=!0,requestAnimationFrame(this._delegateDraw))},_getMouseClientPos:function(e){var t,r,i=this._canvas.getBoundingClientRect(),n=this._canvas.width,a=this._canvas.height;return[t=e.changedTouches?e.changedTouches[0].clientX-i.left:e.clientX-i.left,r=e.changedTouches?a-(e.changedTouches[0].clientY-i.top):a-(e.clientY-i.top),t<0||t>=n||r<0||r>=a,e.timeStamp]},_onInitialize:function(){this._dispatch(\"onInitialize\")},_onTerminate:function(){this._dispatch(\"onTerminate\")},_onBlur:function(e){this._gl;var t=this._keysDown;for(var r in t)t[r]&&(t[r]=!1,this._dispatch(\"onKeyUp\",r,null))},_onKeyDown:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());var r=this._keysDown[t];this._keysDown[t]=!0,r&&this._ignoreKeyRepeat||this._dispatch(\"onKeyDown\",t,e)},_onKeyUp:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());this._keysDown[t]=!1,this._dispatch(\"onKeyUp\",t,e)},_onKeyPress:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());this._dispatch(\"onKeyPress\",t,e)},_onTouchStart:function(e){var t;if(this._canvas.focus(),e.changedTouches)t=e.targetTouches;else{var r={id:e.pointerId,evt:e};for(i=0;i<this._touches.length;i++)if(this._touches[i].id==r.id)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();this._touches.push(r),t=this._touches}if(1==t.length){var n,a=this._getMouseClientPos(e);this._cursorPos=a,n=e.button?e.button:0,this._mouseButtonsDown[n]=!0,this._dragStartPos[n]=[a[0],a[1]],this._dispatch(\"onMouseButtonDown\",n,a[0],a[1],e)}var s=new SglBrowser;(s.isIE||s.isEdge)&&e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onTouchEnd:function(e){var t;if(e.changedTouches)t=e.targetTouches;else{var r=!1;for(i=0;i<this._touches.length;i++)if(this._touches[i].id==e.pointerId){this._touches.splice(i,1),r=!0;break}if(!r)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();t=this._touches}if(0==t.length){var n,a=this._getMouseClientPos(e);if(this._cursorPos=a,n=e.button?e.button:0,this._dispatch(\"onMouseButtonUp\",n,a[0],a[1],e),this._mouseButtonsDown[1]&&(n=1),this._mouseButtonsDown=[!1,!1,!1],this._dragging[n]){this._dragging[n]=!1;var s=this._dragStartPos[n],o=[a[0],a[1]];this._dragEndPos[n]=o,this._dragDeltaPos[n]=[o[0]-s[0],o[1]-s[1]],this._dispatch(\"onDragEnd\",n,o[0],o[1])}this._touchPanResolved=!1,this._cursorIncrPos=this._cursorIncrTime=0}var u=new SglBrowser;(u.isIE||u.isEdge)&&e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onTouchMove:function(e){var t;if(e.changedTouches)t=e.targetTouches;else{var r=!1;for(n=0;n<Math.min(this._touches.length,2);n++)if(this._touches[n].id==e.pointerId){this._touches[n].evt=e,r=!0;break}if(!r)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();t=this._touches}if(t.length>1&&this._resolveTouchZoom(e),1==t.length){this._cursorPrevPos=this._cursorPos;var i=this._getMouseClientPos(e);if(this._cursorPos=i,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],this._cursorDeltaTime=this._cursorPos[3]-this._cursorPrevPos[3],this._cursorDeltaPos[0]>0?this._cursorDeltaPos[0]=Math.floor(this._cursorDeltaPos[0]):this._cursorDeltaPos[0]=Math.ceil(this._cursorDeltaPos[0]),this._cursorDeltaPos[1]>0?this._cursorDeltaPos[1]=Math.floor(this._cursorDeltaPos[1]):this._cursorDeltaPos[1]=Math.ceil(this._cursorDeltaPos[1]),this._touchPanResolved||(this._cursorIncrPos+=SpiderGL.Math.Vec2.length(this._cursorDeltaPos),this._cursorIncrTime+=this._cursorDeltaTime,this._resolveTouchPan(e)),0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var n=0;n<3;++n)if(this._mouseButtonsDown[n]){var a=this._dragStartPos[n],s=[i[0],i[1]];this._dragEndPos[n]=s,this._dragDeltaPos[n]=[s[0]-a[0],s[1]-a[1]],this._dragging[n]?this._dispatch(\"onDrag\",n,s[0],s[1]):(this._dragging[n]=!0,this._dispatch(\"onDragStart\",n,a[0],a[1]))}this._dispatch(\"onMouseMove\",i[0],i[1],e)}}e.preventDefault&&e.preventDefault(),e.stopPropagation()},_resolveTouchZoom:function(e){var t;t=e.changedTouches?e.targetTouches:[this._touches[0].evt,this._touches[1].evt];var r=Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2)),i=r-this._touchZoomDelta;this._touchZoomDelta=r,i>-.995&&i<.995||(i=i>0?1:-1,this._dispatch(\"onMouseWheel\",i))},_resolveTouchPan:function(e){var t=25,r=new SglBrowser;if((r.isIE||r.isEdge)&&(t=5),this._cursorIncrPos<t){if(this._cursorIncrTime<500)return;if(this._mouseButtonsDown[0]=!1,this._dragging[0]){this._dragging[0]=!1;var i=this._dragStartPos[0],n=[this._cursorPos[0],this._cursorPos[1]];this._dragEndPos[0]=n,this._dragDeltaPos[0]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",0,n[0],n[1])}this._mouseButtonsDown[1]=!0,this._dragStartPos[1]=[this._cursorPos[0],this._cursorPos[1]]}this._touchPanResolved=!0},_onMouseButtonDown:function(e){this._canvas.focus();var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;this._mouseButtonsDown[r]=!0,this._dragStartPos[r]=[t[0],t[1]],this._dispatch(\"onMouseButtonDown\",r,t[0],t[1],e),e.stopPropagation()},_onMouseButtonUp:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;if(this._mouseButtonsDown[r]=!1,this._dispatch(\"onMouseButtonUp\",r,t[0],t[1],e),this._dragging[r]){this._dragging[r]=!1;var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",r,n[0],n[1])}e.stopPropagation()},_onWindowMouseButtonUp:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;if(this._mouseButtonsDown[r]){if(this._mouseButtonsDown[r]=!1,this._dispatch(\"onMouseButtonUp\",r,t[0],t[1],e),this._dragging[r]){this._dragging[r]=!1;var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",r,n[0],n[1])}e.stopPropagation()}},_onMouseMove:function(e){this._cursorPrevPos=this._cursorPos;var t=this._getMouseClientPos(e);if(this._cursorPos=t,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var r=0;r<3;++r)if(this._mouseButtonsDown[r]){var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dragging[r]?this._dispatch(\"onDrag\",r,n[0],n[1]):(this._dragging[r]=!0,this._dispatch(\"onDragStart\",r,i[0],i[1]))}this._dispatch(\"onMouseMove\",t[0],t[1],e)}e.stopPropagation()},_onWindowMouseMove:function(e){this._cursorPrevPos=this._cursorPos;var t=this._getMouseClientPos(e);if(this._cursorPos=t,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var r=0;r<3;++r)if(this._dragging[r]){var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDrag\",r,n[0],n[1])}t[2]||this._dispatch(\"onMouseMove\",t[0],t[1],e)}e.stopPropagation()},_onWindowResize:function(e){var t;this._mouseButtonsDown[0]?t=0:this._mouseButtonsDown[1]&&(t=1),this._touches.pop();var r=this._cursorPos;if(this._mouseButtonsDown=[!1,!1,!1],this._dispatch(\"onMouseButtonUp\",t,r[0],r[1],e),this._dragging[t]){this._dragging[t]=!1;var i=this._dragStartPos[t],n=[r[0],r[1]];this._dragEndPos[t]=n,this._dragDeltaPos[t]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",t,n[0],n[1])}this._touchPanResolved=!1,this._cursorIncrPos=this._cursorIncrTime=0,e.stopPropagation()},_onMouseWheel:function(e){var t=this._getMouseClientPos(e),r=0;e||(e=window.event),e.wheelDelta?r=e.wheelDelta/120:e.detail&&(r=-e.detail/3),r&&this._dispatch(\"onMouseWheel\",r,t[0],t[1],e),e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onMouseOut:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t,this._dispatch(\"onMouseOut\",t[0],t[1],e)},_onClick:function(e){var t=this._getMouseClientPos(e);this._dispatch(\"onClick\",e.button,t[0],t[1],e)},_onDoubleClick:function(e){var t=this._getMouseClientPos(e);this._dispatch(\"onDoubleClick\",e.button,t[0],t[1],e)},_onResize:function(e){this._dispatch(\"onResize\",this._canvas.width,this._canvas.height,e)},_onAnimate:function(){this._animatePrevTime=this._animateTime,this._animateTime=Date.now(),this._animateDeltaTime=this._animateTime-this._animatePrevTime,this._dispatch(\"onAnimate\",this._animateDeltaTime/1e3),this._animateMS>=0?this._animateWithTimeout&&setTimeout(this._animateEventHandler,this._animateMS):this._fastAnimate&&window.postMessage(SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME,\"*\")},_onDraw:function(e){if(this._drawEventPending=!1,this._fpsTime&&5!=this.postDrawCount){this._fpsCount++;var t=e-this._fpsTime;this._fps=.8*this._fps+1e3/t*.2}else this._fpsCount=0;this._fpsTime=e,this._dispatch(\"onDraw\"),this._postDrawCount-- >0&&(this._drawEventPending=!0,requestAnimationFrame(this._delegateDraw))},get gl(){return this._gl},get canvas(){return this._canvas},get width(){return this._canvas.width},get height(){return this._canvas.height},get postDrawEvent(){return this._postDrawEventFunction},get animateTime(){return this._animateTime},get animatePrevTime(){return this._animatePrevTime},get animateDeltaTime(){return this._animateDeltaTime},get animateRate(){return this._animateRate},set animateRate(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE),this._animateRate!==e&&(this._fastAnimate=!1,this._animateMS=-1,this._animateTime=Date.now(),this._animatePrevTime=this._animateTime,this._animateDeltaTime=0,this._animateID&&(clearInterval(this._animateID),this._animateID=null),this._animateRate=e,e>0?(this._animateMS=SpiderGL.Math.floor(1e3/e),this._animateWithTimeout?setTimeout(this._animateEventHandler,this._animateMS):this._animateID=setInterval(this._animateEventHandler,this._animateMS)):e<0&&(this._fastAnimate=!0,window.postMessage(SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME,\"*\")))},get framesPerSecond(){return this._fps},get ignoreKeyRepeat(){return this._ignoreKeyRepeat},set ignoreKeyRepeat(e){this._ignoreKeyRepeat=SpiderGL.Utility.getDefaultValue(e,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT)},isKeyDown:function(e){return e.toUpperCase&&(e=e.toUpperCase()),this._keysDown[e]},isMouseButtonDown:function(e){return this._mouseButtonsDown[e]},isDragging:function(e){return this._dragging[e]},dragStartX:function(e){return this._dragStartPos[e][0]},dragStartY:function(e){return this._dragStartPos[e][1]},dragEndX:function(e){return this._dragEndPos[e][0]},dragEndY:function(e){return this._dragEndPos[e][1]},dragDeltaX:function(e){return this._dragDeltaPos[e][0]},dragDeltaY:function(e){return this._dragDeltaPos[e][1]},get cursorX(){return this._cursorPos[0]},get cursorY(){return this._cursorPos[1]},get cursorPrevX(){return this._cursorPrevPos[0]},get cursorPrevY(){return this._cursorPrevPos[1]},get cursorDeltaX(){return this._cursorDeltaPos[0]},get cursorDeltaY(){return this._cursorDeltaPos[1]},draw:function(){this._onDraw()}},SpiderGL.Type.extend(SpiderGL.UserInterface.CanvasHandler,SpiderGL.Core.ObjectBase),SpiderGL.UserInterface.handleCanvas=function(e,t,r){if(!e||!t)return!1;r=r||{};var i=SpiderGL.WebGL.Context.getHijacked(e,r);if(!i)return!1;var n=new SpiderGL.UserInterface.CanvasHandler(i,t,r);return!!n&&(t[SpiderGL.Utility.getDefaultValue(r.uiName,SpiderGL.UserInterface.CanvasHandler.DEFAULT_PROPERTY_NAME)]=n,n._firstNotify(),!0)},SpiderGL.UserInterface.handleCanvasOnLoad=function(e,t,r){if(!e||!t)return!1;r=r||{};var i=SpiderGL.Utility.getDefaultValue(r.onLoad,null);return window.addEventListener(\"load\",function(){SpiderGL.UserInterface.handleCanvas(e,t,r),i&&i()},!1),!0};\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nSpiderGL.openNamespace();\r\n\r\n//----------------------------------------------------------------------------------------\r\n// CONSTANTS\r\n//----------------------------------------------------------------------------------------\r\n// version\r\nconst HOP_VERSION             = \"4.2\";\r\n// selectors\r\nconst HOP_ALL                 = 256;\r\n// starting debug mode\r\nconst HOP_DEBUGMODE           = false;\r\n// default light direction\r\nconst HOP_DEFAULTLIGHT        = [0, 0, -1];\r\n// default points size\r\nconst HOP_DEFAULTPOINTSIZE    = 1.0;\r\n// sgltrackball\r\nconst SGL_TRACKBALL_NO_ACTION = 0;\r\nconst SGL_TRACKBALL_ROTATE    = 1;\r\nconst SGL_TRACKBALL_PAN       = 2;\r\nconst SGL_TRACKBALL_DOLLY     = 3;\r\nconst SGL_TRACKBALL_SCALE     = 4;\r\n\r\nPresenter = function (canvas) {\r\n\tthis._supportsWebGL = sglHandleCanvas(canvas, this, { stencil: true });\r\n\tconsole.log(\"3DHOP version: \" + this.version);\r\n};\r\n\r\nPresenter.prototype = {\r\n//----------------------------------------------------------------------------------------\r\n// PARSING FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_parseScene : function (options) {\r\n\toptions = options || { };\r\n\tvar r = {\r\n\t\tbackground     : this._parseBackground(options.background),\r\n\t\tmeshes         : this._parseMeshes(options.meshes),\r\n\t\ttexturedQuads  : this._parseTexturedQuads(options.texturedQuads),\r\n\t\tmodelInstances : this._parseModelInstances(options.modelInstances),\r\n\t\tspots          : this._parseSpots(options.spots),\r\n\t\ttrackball      : this._parseTrackball(options.trackball),\r\n\t\tspace          : this._parseSpace(options.space),\r\n\t\tconfig         : this._parseConfig(options.config)\r\n\t};\r\n\treturn r;\r\n},\r\n\r\n_parseBackground : function (options) {\r\n\toptions = options || { };\r\n\tvar r = sglGetDefaultObject({\r\n\t\timage         : null,\r\n\t\tisEnvironment : false,\r\n\t\tcolor         : [ 0.0, 0.0, 0.0, 0.0 ]\r\n\t}, options);\r\n\treturn r;\r\n},\r\n\r\n_parseMeshes : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseMesh(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseMesh : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\turl       : null,\r\n\t\ttransform : null\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\treturn r;\r\n},\r\n\r\n_parseTexturedQuads : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseTexturedQuad(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseTexturedQuad : function (options) {\r\n\treturn options;\r\n},\r\n\r\n_parseModelInstances : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseModelInstance(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseModelInstance : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmesh            : null,\r\n\t\trendermode      : null,\r\n\t\tcolor           : [ 1.0, 1.0, 1.0 ],\r\n\t\tuseSolidColor   : false,\r\n\t\tspecularColor   : [ 0.0, 0.0, 0.0, 32.0 ],\r\n\t\tbackfaceColor   : [ 0.7, 0.4, 0.4, 0.0 ],\r\n\t\talpha           : 0.5,\r\n\t\tuseTransparency : false,\r\n\t\tuseLighting     : true,\r\n\t\tcursor          : \"default\",\r\n\t\tID              : 0,\r\n\t\ttransform       : null,\r\n\t\tvisible         : true,\r\n\t\ttags            : [ ],\r\n\t\tclippable       : true,\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tr.ID = this._instancesProgressiveID;\r\n\tif (r.color[3]) //3DHOP 2.0 backward compatibility\r\n\t{\r\n\t\tr.alpha = r.color[3];\r\n\t\tr.color = [r.color[0], r.color[1], r.color[2]]\r\n\t}\r\n\tthis._instancesProgressiveID += 1;\r\n\treturn r;\r\n},\r\n\r\n_parseSpots : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseSpot(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseSpot : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmesh            : null,\r\n\t\trendermode      : null,\r\n\t\tcolor           : [ 0.0, 0.25, 1.0 ],\r\n\t\tuseSolidColor   : true,\r\n\t\talpha           : 0.5,\r\n\t\tuseTransparency : true,\r\n\t\tuseStencil      : false,\r\n\t\tcursor          : \"pointer\",\r\n\t\tID              : 0,\r\n\t\ttransform       : null,\r\n\t\tvisible         : true,\r\n\t\ttags            : [ ]\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tr.ID = this._spotsProgressiveID;\r\n\tif (r.color[3]) //3DHOP 2.0 backward compatibility\r\n\t{\r\n\t\tr.alpha = r.color[3];\r\n\t\tr.color = [r.color[0], r.color[1], r.color[2]]\r\n\t}\r\n\tthis._spotsProgressiveID += 1;\r\n\treturn r;\r\n},\r\n\r\n_parseTrackball : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\ttype         : TurnTableTrackball,\r\n\t\ttrackOptions : {},\r\n\t\tlocked       : false\r\n\t}, options);\r\n\treturn r;\r\n},\r\n\r\n_parseSpace : function (options) {\r\n\toptions = options || { };\r\n\tvar r = sglGetDefaultObject({\r\n\t\tcenterMode       : \"first\",\r\n\t\tradiusMode       : \"first\",\r\n\t\twhichInstanceCenter  : \"\",\r\n\t\twhichInstanceRadius  : \"\",\r\n\t\texplicitCenter   : [0.0, 0.0, 0.0],\r\n\t\texplicitRadius   : 1.0,\r\n\t\ttransform        : null,\r\n\t\tcameraFOV        : 60.0,\r\n\t\tcameraNearFar    : [0.01, 10.0],\r\n\t\tcameraType       : \"perspective\",\r\n\t\tsceneLighting      : true,\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tif(r.cameraFOV < 2.0)  r.cameraFOV = 2.0;\r\n\tif(r.cameraFOV > 88.0) r.cameraFOV = 88.0;\r\n\tif((r.cameraType != \"perspective\") && (r.cameraType != \"orthographic\"))\r\n\t\tr.cameraType = \"perspective\";\r\n\treturn r;\r\n},\r\n\r\n_parseConfig : function (options) {\r\n\toptions = options || { };\r\n\tvar r = sglGetDefaultObject({\r\n\t\tpickedpointColor    : [1.0, 0.0, 1.0],\r\n\t\tmeasurementColor    : [0.5, 1.0, 0.5],\r\n\t\tshowClippingPlanes  : true,\r\n\t\tshowClippingBorder  : false,\r\n\t\tclippingBorderSize  : 0.5,\r\n\t\tclippingBorderColor : [0.0, 1.0, 1.0],\r\n\t\tpointSize           : 1.0,\r\n\t\tpointSizeMinMax     : [1.0, 5.0],\r\n\t}, options);\r\n\treturn r;\r\n},\r\n\r\n_parseTransform : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmatrix      : SglMat4.identity(),\r\n\t\trotation    : [0.0, 0.0, 0.0],\r\n\t\ttranslation : [0.0, 0.0, 0.0],\r\n\t\tscale       : [1.0, 1.0, 1,0],\r\n\t}, options);\r\n\r\n\t// if any of rotation, translation or scale are defined, matrix is overwritten\r\n\tvar overwrite = false;\r\n\tvar matrixT = SglMat4.identity();\r\n\tvar matrixR = SglMat4.identity();\r\n\tvar matrixS = SglMat4.identity();\r\n\tif((r.translation[0] != 0.0)||(r.translation[1] != 0.0)||(r.translation[2] != 0.0))\r\n\t{\r\n\t\tmatrixT = SglMat4.translation(r.translation);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif((r.rotation[0] != 0.0)||(r.rotation[1] != 0.0)||(r.rotation[2] != 0.0))\r\n\t{\r\n\t\tvar mrX = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[0]), [1.0, 0.0, 0.0]);\r\n\t\tvar mrY = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[1]), [0.0, 1.0, 0.0]);\r\n\t\tvar mrZ = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[2]), [0.0, 0.0, 1.0]);\r\n\t\tmatrixR = SglMat4.mul(SglMat4.mul(mrZ, mrY), mrX);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif((r.scale[0] != 1.0)||(r.scale[1] != 1.0)||(r.scale[2] != 1.0))\r\n\t{\r\n\t\tmatrixS = SglMat4.scaling(r.scale);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif (overwrite)\r\n\t\tr.matrix = SglMat4.mul(SglMat4.mul(matrixT, matrixR), matrixS);\r\n\r\n\treturn r;\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n//SHADERS RELATED FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n// standard program for NXS rendering, points and faces\r\n_createStandardPointNXSProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar nxsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewMatrix;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uModelMatrix;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uPointSize;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aPosition;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec4 aColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute float aPointSize;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvNormal       = normalize(uViewSpaceNormalMatrix * aNormal);\t\t\\n\\\r\n\t\t\tvColor        = aColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvModelPos     = uModelMatrix * vec4(aPosition, 1.0);\t\t\t\t\\n\\\r\n\t\t\tvModelViewPos = uWorldViewMatrix * vec4(aPosition, 1.0);\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_Position  = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);\t\\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINT Vertex Shader Log:\\n\" + nxsVertexShader.log);\r\n\r\n\tvar nxsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\t#extension GL_EXT_frag_depth : enable\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uAlpha;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseLighting;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uSpecularColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uClipColorSize;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat a = pow(2.0*(gl_PointCoord.x - 0.5), 2.0);\t\t\t\t\t\\n\\\r\n\t\t\tfloat b = pow(2.0*(gl_PointCoord.y - 0.5), 2.0);\t\t\t\t\t\\n\\\r\n\t\t\tfloat c = 1.0 - (a + b);\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(c < 0.0) { discard; }\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  renderColor = vec3(1.0, 1.0, 1.0);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  diffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat lambert = 1.0;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  specular = vec3(0.0, 0.0, 0.0);\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(uUseSolidColor) {\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -3.0)\t\t\t\\n\\\r\n\t\t\t\tdiffuse = vColor.aaa;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tdiffuse = uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((uUseLighting)&&(length(vNormal) > 0.0))\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  float nDotL   = dot(vNormal, -uViewSpaceLightDirection);\t\t\t\\n\\\r\n\t\t\t  lambert = max(0.0, nDotL);\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n              vec3 halfV = normalize(-uViewSpaceLightDirection -vModelViewPos.xyz);\\n\\\r\n              float spc = pow(max(dot(vNormal, halfV),0.0), uSpecularColor.a);\t\\n\\\r\n              specular = spc * uSpecularColor.rgb;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\trenderColor = (diffuse * lambert) + specular;\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((length(uClipPlane.xyz) > 0.0)&&(uClipColorSize>0.0))\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > -uClipColorSize) renderColor = uClipColor;\t\\n\\\r\n\t\t\tif((length(uClipAxis) > 0.0)&&(uClipColorSize>0.0))\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0] + (uClipAxis[0]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1] + (uClipAxis[1]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2] + (uClipAxis[2]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor  = vec4(renderColor, uAlpha);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragDepthEXT = gl_FragCoord.z + 0.0001*(1.0-pow(c, 2.0));\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINT Fragment Shader Log:\\n\" + nxsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tnxsVertexShader,\r\n\t\t\tnxsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aColor\"    : 2,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uWorldViewMatrix\"           : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\"               : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0,\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : false,\r\n\t\t\t\"uUseLighting\"               : true,\r\n\t\t\t\"uSolidColor\"                : [1.0, 1.0, 1.0],\r\n\t\t\t\"uSpecularColor\"             : [0.0, 0.0, 0.0, 32.0],\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uClipColor\"\t\t\t\t : [1.0, 1.0, 1.0],\r\n\t\t\t\"uClipColorSize\"\t\t\t : 0.5\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINT Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n_createStandardFaceNXSProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar nxsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewMatrix;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uModelMatrix;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aPosition;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec4 aColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec2 aTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec2 vTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvNormal       = normalize(uViewSpaceNormalMatrix * aNormal);\t\t\\n\\\r\n\t\t\tvColor        = aColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvModelPos     = uModelMatrix * vec4(aPosition, 1.0);\t\t\t\t\\n\\\r\n\t\t\tvModelViewPos = uWorldViewMatrix * vec4(aPosition, 1.0);\t\t\t\\n\\\r\n\t\t\tvTextureCoord = aTextureCoord;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACE Vertex Shader Log:\\n\" + nxsVertexShader.log);\r\n\r\n\tvar nxsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uAlpha;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseLighting;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uBackFaceColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uSpecularColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uClipColorSize;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   sampler2D uSampler;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec2 vTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  renderColor = vec3(1.0, 1.0, 1.0);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  diffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat lambert = 1.0;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  specular = vec3(0.0, 0.0, 0.0);\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(vTextureCoord.x != 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  diffuse = texture2D(uSampler, vTextureCoord).xyz;\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(uUseSolidColor) {\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -3.0)\t\t\t\\n\\\r\n\t\t\t\tdiffuse = vColor.aaa;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -6.0)\t\\n\\\r\n\t\t\t\tdiffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tdiffuse = uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((uUseLighting)&&(length(vNormal) > 0.0))\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  float nDotL   = dot(vNormal, -uViewSpaceLightDirection);\t\t\t\\n\\\r\n\t\t\t  lambert = max(0.0, gl_FrontFacing? nDotL : -nDotL);\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n              vec3 halfV = normalize(-uViewSpaceLightDirection -vModelViewPos.xyz);\\n\\\r\n              float spc = pow(max(dot(vNormal, halfV),0.0), uSpecularColor.a);\t\\n\\\r\n              specular = spc * uSpecularColor.rgb;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\trenderColor = (diffuse * lambert) + specular;\t\t\t\t\t\t\\n\\\r\n\t\t\tif(!gl_FrontFacing)\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif(uBackFaceColor[3]==0.0) renderColor = renderColor * uBackFaceColor.rgb;\t\\n\\\r\n\t\t\t\telse if(uBackFaceColor[3]==1.0) renderColor = uBackFaceColor.rgb;\t\t\t\\n\\\r\n\t\t\t\telse if(uBackFaceColor[3]==2.0) discard;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((length(uClipPlane.xyz) > 0.0)&&(uClipColorSize>0.0))\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > -uClipColorSize) renderColor = uClipColor;\t\\n\\\r\n\t\t\tif((length(uClipAxis) > 0.0)&&(uClipColorSize>0.0))\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0] + (uClipAxis[0]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1] + (uClipAxis[1]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2] + (uClipAxis[2]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor  = vec4(renderColor, uAlpha);\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACE Fragment Shader Log:\\n\" + nxsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tnxsVertexShader,\r\n\t\t\tnxsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\"     : 0,\r\n\t\t\t\"aNormal\"       : 1,\r\n\t\t\t\"aColor\"        : 2,\r\n\t\t\t\"aTextureCoord\" : 3\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uWorldViewMatrix\"           : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\"               : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : false,\r\n\t\t\t\"uUseLighting\"               : true,\r\n\t\t\t\"uBackFaceColor\"             : [0.4, 0.3, 0.3, 0.0],\r\n\t\t\t\"uSolidColor\"                : [1.0, 1.0, 1.0],\r\n\t\t\t\"uSpecularColor\"             : [0.0, 0.0, 0.0, 32.0],\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uClipColor\"                 : [1.0, 1.0, 1.0],\r\n\t\t\t\"uClipColorSize\"             : 0.5,\r\n\t\t\t\"uSampler\"                   : 0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACE Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// Depth to color nexus rendering, point and faces\r\n_createXYZNXSProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar nxsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\tuniform   mat4 uModelMatrix;                                          \\n\\\r\n\t\tuniform   float uPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\tattribute vec3 aColor;                                                \\n\\\r\n\t\tattribute float aPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec4 vModelPos;                                             \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvModelPos = uModelMatrix * vec4(aPosition, 1.0);                  \\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t  \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"XYZ Vertex Shader Log:\\n\" + nxsVertexShader.log);\r\n\r\n\tvar nxsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uBackFaceColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvec4 pack_depth(const in float depth)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tconst vec4 bit_shift = vec4(255.0*255.0*255.0, 255.0*255.0, 255.0, 1.0);\t\\n\\\r\n\t\t\tconst vec4 bit_mask  = vec4(0.0, 1.0/255.0, 1.0/255.0, 1.0/255.0);\t\t\t\\n\\\r\n\t\t\tvec4 res = fract(depth * bit_shift);\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tres -= res.xxyz * bit_mask;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\treturn res;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((!gl_FrontFacing) &&\t(uBackFaceColor[3]==2.0)) discard;\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec4 myColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tmyColor = pack_depth(gl_FragCoord.z);\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor  = myColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"XYZ Fragment Shader Log:\\n\" + nxsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tnxsVertexShader,\r\n\t\t\tnxsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aColor\"    : 2,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\" \t\t\t\t : SglMat4.identity(),\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uBackFaceColor\"             : [0.4, 0.3, 0.3, 0.0],\r\n\t\t\t\"uPointSize\"                 : 1.0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"XYZ Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// color coded ID program for NXS rendering, points and faces\r\n_createColorCodedIDNXSProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar nxsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\tuniform   mat4 uModelMatrix;                                          \\n\\\r\n\t\tuniform   float uPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\tattribute vec3 aColor;                                                \\n\\\r\n\t\tattribute float aPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec4 vModelPos;                                             \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvModelPos = uModelMatrix * vec4(aPosition, 1.0);                  \\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t  \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLORCODED ID Vertex Shader Log:\\n\" + nxsVertexShader.log);\r\n\r\n\tvar nxsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   vec4 uColorID;                                              \\n\\\r\n\t\tuniform   vec3 uClipPoint;                                            \\n\\\r\n\t\tuniform   vec3 uClipAxis;                                             \\n\\\r\n\t\tuniform   vec4 uClipPlane;                                            \\n\\\r\n                                                                              \\n\\\r\n\t\tvarying   vec4 vModelPos;                                             \\n\\\r\n                                                                              \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)                                  \\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;                \\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)                                       \\n\\\r\n\t\t\t{                                                                 \\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}                                                                 \\n\\\r\n                                                                              \\n\\\r\n\t\t\tgl_FragColor  = uColorID;                                         \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLORCODED ID Fragment Shader Log:\\n\" + nxsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tnxsVertexShader,\r\n\t\t\tnxsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aColor\"    : 2,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\" \t\t\t\t : SglMat4.identity(),\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uColorID\"                   : [1.0, 0.5, 0.0, 1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLORCODED ID Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// single-color barely-shaded program for NXS rendering, points and faces\r\n_createColorShadedNXSProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar nxsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;                                \\n\\\r\n\t\tuniform   float uPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\tattribute float aPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvNormal     = uViewSpaceNormalMatrix * aNormal;                   \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t  \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Vertex Shader Log:\\n\" + nxsVertexShader.log);\r\n\r\n\tvar nxsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;                              \\n\\\r\n\t\tuniform   vec4 uColorID;                                              \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvec3  diffuse = vec3(uColorID[0], uColorID[1], uColorID[2]);      \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tif(vNormal[0] != 0.0 || vNormal[1] != 0.0 || vNormal[2] != 0.0) { \\n\\\r\n\t\t\t\tvec3  normal    = normalize(vNormal);                         \\n\\\r\n\t\t\t\tfloat nDotL     = dot(normal, -uViewSpaceLightDirection);     \\n\\\r\n\t\t\t\tfloat lambert   = max(-nDotL, nDotL);                         \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\t\tdiffuse = (diffuse * 0.5) + (diffuse * lambert * 0.5);        \\n\\\r\n\t\t\t}                                                                 \\n\\\r\n\t\t\tgl_FragColor  = vec4(diffuse, uColorID[3]);                       \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Fragment Shader Log:\\n\" + nxsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tnxsVertexShader,\r\n\t\t\tnxsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uColorID\"                   : [1.0, 0.5, 0.0, 1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n//standard technique for PLY rendering, points and faces\r\n_createStandardPointPLYtechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createStandardPointNXSProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"     : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aPointSize\" : 1.0\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uWorldViewMatrix\"           : { semantic : \"uWorldViewMatrix\",           value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uAlpha\"                     : { semantic : \"uAlpha\",                     value : 1.0 },\r\n\t\t\t\"uUseSolidColor\"             : { semantic : \"uUseSolidColor\",             value : false },\r\n\t\t\t\"uUseLighting\"               : { semantic : \"uUseLighting\",               value : true },\r\n\t\t\t\"uSolidColor\"                : { semantic : \"uSolidColor\",                value : [ 1.0, 1.0, 1.0 ] },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uSpecularColor\"             : { semantic : \"uSpecularColor\",             value : [0.5, 0.2, 0.8, 32.0] },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipColor\"                 : { semantic : \"uClipColor\",                 value : [ 1.0, 1.0, 1.0 ]},\r\n\t\t\t\"uClipColorSize\"             : { semantic : \"uClipColorSize\",             value : 0.5 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n_createStandardFacePLYtechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createStandardFaceNXSProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"       : [ 0.0, 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"        : [ 0.8, 0.8, 0.8, 1.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uWorldViewMatrix\"           : { semantic : \"uWorldViewMatrix\",           value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uAlpha\"                     : { semantic : \"uAlpha\",                     value : 1.0 },\r\n\t\t\t\"uUseSolidColor\"             : { semantic : \"uUseSolidColor\",             value : false },\r\n\t\t\t\"uUseLighting\"               : { semantic : \"uUseLighting\",               value : true },\r\n\t\t\t\"uSolidColor\"                : { semantic : \"uSolidColor\",                value : [ 1.0, 1.0, 1.0 ] },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uSpecularColor\"             : { semantic : \"uSpecularColor\",             value : [0.5, 0.2, 0.8, 32.0] },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipColor\"                 : { semantic : \"uClipColor\",                 value : [ 1.0, 1.0, 1.0 ]},\r\n\t\t\t\"uClipColorSize\"             : { semantic : \"uClipColorSize\",             value : 0.5 },\r\n\t\t\t\"uSampler\"                   : { semantic : \"uSampler\",                   value : 0 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// depth to color technique for PLY rendering\r\n_createXYZPLYtechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createXYZNXSProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"     : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aPointSize\" : 1.0,\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// color coded ID technique for PLY rendering\r\n_createColorCodedIDPLYtechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createColorCodedIDNXSProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"     : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aPointSize\" : 1.0,\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uColorID\"                   : { semantic : \"uColorID\",                   value : [1.0, 0.5, 0.25, 1.0] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// single-color barely-shaded technique for PLY rendering\r\n_createColorShadedPLYtechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createColorShadedNXSProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aPointSize\" : 1.0\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uColorID\"                   : { semantic : \"uColorID\",                   value : [1.0, 0.5, 0.25, 1.0] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// 2 points line rendering\r\n_createSimpleLinetechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tvertexShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\t\tuniform vec3 uPointA;                                                 \\n\\\r\n\t\t\tuniform vec3 uPointB;                                                 \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\t\tattribute vec3 aColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tvec3 newPos;                                                      \\n\\\r\n\t\t\t\tif(aPosition[0]==0.0)                                             \\n\\\r\n\t\t\t\t\tnewPos = uPointA;                                             \\n\\\r\n\t\t\t\telse                                                              \\n\\\r\n\t\t\t\t\tnewPos = uPointB;                                             \\n\\\r\n\t\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(newPos, 1.0);     \\n\\\r\n\t\t\t\tgl_PointSize = 8.0;\t                 \t\t\t\t\t\t\t  \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tfragmentShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   vec4 uLineColor;                                            \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tgl_FragColor    = uLineColor;                                     \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\" : [ 0.0, 0.0, 1.0, 0.0 ],\r\n\t\t\t\"aColor\"  : [ 1.0, 0.0, 0.0, 1.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uLineColor\"                 : { semantic : \"uLineColor\",                 value : [0.0, 1.0, 0.5, 1.0] },\r\n\t\t\t\"uPointA\"                    : { semantic : \"uPointA\",                    value : [0.0, 0.0, 0.0] },\r\n\t\t\t\"uPointB\"                    : { semantic : \"uPointB\",                    value : [1.0, 1.0, 1.0] }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// multiple lines/points rendering\r\n_createMultiLinesPointstechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tvertexShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\t\tattribute vec4 aColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\tvarying   vec4 vColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tvColor      = aColor;                                             \\n\\\r\n\t\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\t\tgl_PointSize = 8.0;\t                 \t\t\t\t\t\t\t  \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tfragmentShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvarying   vec4 vColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tgl_FragColor = vColor;                                            \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\" : [ 0.0, 0.0, 1.0, 0.0 ],\r\n\t\t\t\"aColor\"  : [ 1.0, 0.0, 1.0, 1.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// SUPPORT FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_onMeshReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_onTextureReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_onBackgroundReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_objectLoaded : function () {\r\n\tthis._objectsToLoad--;\r\n\tthis._testReady();\r\n},\r\n\r\n_testReady : function () {\r\n\tif (this._objectsToLoad != 0) return;\r\n\tthis.trackball.track(SglMat4.identity(), 0.0, 0.0, 0.0);\r\n\t// Colin Addition\r\n\tif (this._onLoadedEvent && this._onLoadedEvent != \"null\") {\r\n\t\tvar that = this;\r\n\t\tsetTimeout(function () {\r\n\t\t\tthat._onLoadedEvent();\r\n\t\t}, 1500);\r\n\r\n\t}\r\n\tthis._sceneReady = this._scenePrepare();\r\n\r\n\tthis.repaint();\r\n},\r\n\r\n_scenePrepare : function () {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar spots     = this._scene.spots;\r\n\tfor (var mesh in meshes) {\r\n\t\tif (!meshes[mesh].renderable) continue;\r\n\t\tfor (var inst in instances)\r\n\t\t\tif (mesh == instances[inst].mesh)\r\n\t\t\t\t\tinstances[inst].rendermode = meshes[mesh].renderable.renderMode[0];\r\n\t\tfor (var spt in spots)\r\n\t\t\tif (mesh == spots[spt].mesh)\r\n\t\t\t\t\tspots[spt].rendermode = meshes[mesh].renderable.renderMode[0];\r\n\t}\r\n\treturn true;\r\n},\r\n\r\n_isSceneReady : function () {\r\n\tvar r = (this._scene && this._sceneParsed && this._sceneReady);\r\n\treturn r;\r\n},\r\n\r\n_pickingRefresh: function(x,y) {\r\n\tthis._pickpoint[0] = x;\r\n\tthis._pickpoint[1] = y;\r\n\r\n\tvar pickedPixel;\r\n\tvar ID, cursor;\r\n\r\n\tif(this._onEndPickingPoint||this._onEndMeasurement||this._onPickedSpot||this._onEnterSpot||this._onLeaveSpot){\r\n\t\tpickedPixel = this._drawScenePickingSpots();\r\n\t\tID = this._Color2ID(pickedPixel);\r\n\t\tif(this._lastSpotID != ID){\r\n\t\t\tvar spots = this._scene.spots;\r\n\t\t\tif(ID != 0){\r\n\t\t\t\tfor (var spt in spots) {\r\n\t\t\t\t\tif (spots[spt].ID == ID) {\r\n\t\t\t\t\t\tthis._pickedSpot = spt;\r\n\t\t\t\t\t\tif(this._onHover){\r\n\t\t\t\t\t\t\tif(spots[this._lastPickedSpot]) spots[this._lastPickedSpot].alpha -= 0.3;\r\n\t\t\t\t\t\t\tspots[this._pickedSpot].alpha += 0.3;\r\n\t\t\t\t\t\t\tcursor = spots[spt].cursor;\r\n\t\t\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring){\r\n\t\t\t\t\t\t\t\tthis._lastCursor = document.getElementById(this.ui.canvas.id).style.cursor;\r\n\t\t\t\t\t\t\t\tdocument.getElementById(this.ui.canvas.id).style.cursor = cursor;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(this._onLeaveSpot && this._lastPickedSpot!=null)  this._onLeaveSpot(this._lastPickedSpot);\r\n\t\t\t\t\t\t\tif(this._onEnterSpot && this._pickedSpot!=null) this._onEnterSpot(this._pickedSpot);\r\n\t\t\t\t\t\t\tthis.repaint();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._lastPickedSpot = spt;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._lastSpotID = ID;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._pickedSpot = null;\r\n\t\t\t\tif(this._onHover){\r\n\t\t\t\t\tif(spots[this._lastPickedSpot]) spots[this._lastPickedSpot].alpha -= 0.3;\r\n\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring) document.getElementById(this.ui.canvas.id).style.cursor = \"default\";\r\n\t\t\t\t\tif(this._onLeaveSpot && this._lastPickedSpot!=null) this._onLeaveSpot(this._lastPickedSpot);\r\n\t\t\t\t\t//if(this._onEnterSpot) this._onEnterSpot(this._pickedSpot);\r\n\t\t\t\t\tthis._lastPickedSpot = null;\r\n\t\t\t\t\tthis.repaint();\r\n\t\t\t\t}\r\n\t\t\t\tthis._lastSpotID = ID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(this._onEndPickingPoint||this._onEndMeasurement||this._onPickedInstance||this._onEnterInstance||this._onLeaveInstance){\r\n\t\tpickedPixel = this._drawScenePickingInstances();\r\n\t\tID = this._Color2ID(pickedPixel);\r\n\t\tif(this._lastInstanceID == ID && !(this._onPickedSpot||this._onEnterSpot||this._onLeaveSpot)) return;\r\n\t\tif(ID != 0){\r\n\t\t\tvar instances = this._scene.modelInstances;\r\n\t\t\tfor (var inst in instances) {\r\n\t\t\t\tif (instances[inst].ID == ID) {\r\n\t\t\t\t\tthis._pickedInstance = inst;\r\n\t\t\t\t\tif(this._onHover){\r\n\t\t\t\t\t\tcursor = instances[inst].cursor;\r\n\t\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring){\r\n\t\t\t\t\t\t\tthis._lastCursor = cursor;\r\n\t\t\t\t\t\t\tif(this._pickedSpot==null)document.getElementById(this.ui.canvas.id).style.cursor = cursor;\r\n\t\t\t\t\t\t\tthis.repaint();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this._onLeaveInstance && this._lastPickedInstance!=null)  this._onLeaveInstance(this._lastPickedInstance);\r\n\t\t\t\t\t\tif(this._onEnterInstance && this._pickedInstance!=null) this._onEnterInstance(this._pickedInstance);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._lastPickedInstance = inst;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis._pickedInstance = null;\r\n\t\t\tif(this._onHover){\r\n\t\t\t\tthis._lastCursor = \"default\";\r\n\t\t\t\tif((/*!this._movingLight ||*/ !this._isMeasuring) && this._pickedSpot==null) document.getElementById(this.ui.canvas.id).style.cursor = \"default\";\r\n\t\t\t\tif(this._onLeaveInstance && this._lastPickedInstance!=null)  this._onLeaveInstance(this._lastPickedInstance);\r\n\t\t\t\t//if(this._onEnterInstance) this._onEnterInstance(this._pickedInstance);\r\n\t\t\t\tthis.repaint();\r\n\t\t\t}\r\n\t\t\tthis._lastPickedInstance = null;\r\n\t\t}\r\n\t\tthis._lastInstanceID = ID;\r\n\t}\r\n},\r\n\r\n_measureRefresh : function (button, x, y, e) {\r\n//\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._isMeasuringDistance){\r\n\t\tthis._pickpoint[0] = x;\r\n\t\tthis._pickpoint[1] = y;\r\n\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\tif ((ppoint!=null)&&(this._measurementStage != 2)) {\r\n\t\t\tthis._pointA = ppoint;\r\n\t\t\tthis._measurementStage=2;\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if ((ppoint!=null)&&(this._measurementStage == 2)) {\r\n\t\t\tthis._pointB = ppoint;\r\n\t\t\tthis.measurement = SglVec3.length(SglVec3.sub(this._pointA, this._pointB));\r\n\t\t\tthis._measurementStage=3;\r\n\t\t\tthis.repaint();\r\n\t\t\tif(this._onEndMeasurement)\r\n\t\t\t\tthis._onEndMeasurement(this.measurement, [this._pointA[0], this._pointA[1], this._pointA[2]], [this._pointB[0], this._pointB[1], this._pointB[2]]);\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_startMeasurement  : function () {\r\n\tif (this._isMeasuringDistance) return;\r\n\tthis._isMeasuring = this._isMeasuringDistance = true;\r\n\tthis._measurementStage = 1; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0.0;\r\n\tthis.repaint();\r\n},\r\n\r\n_stopMeasurement  : function () {\r\n\tthis._isMeasuringDistance = false;\r\n\tif (!this._isMeasuringPickpoint) this._isMeasuring = this._isMeasuringDistance;\r\n\tthis._measurementStage = 0; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0.0;\r\n\tthis.repaint();\r\n},\r\n\r\n_pickpointRefresh : function (button, x, y, e) {\r\n//\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._isMeasuringPickpoint){\r\n\t\tthis._pickpoint[0] = x;\r\n\t\tthis._pickpoint[1] = y;\r\n\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\tif (ppoint!=null)\r\n\t\t{\r\n\t\t\tthis._pickedPoint = ppoint;\r\n\t\t\tthis._pickValid = true;\r\n\t\t\tif(this._onEndPickingPoint) this._onEndPickingPoint([this._pickedPoint[0], this._pickedPoint[1], this._pickedPoint[2]]);\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_startPickPoint : function () {\r\n\tif (this._isMeasuringPickpoint) return;\r\n\tthis._isMeasuring = this._isMeasuringPickpoint = true;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\n_stopPickPoint : function () {\r\n\tthis._isMeasuringPickpoint = false;\r\n\tif (!this._isMeasuringDistance) this._isMeasuring = this._isMeasuringPickpoint;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// DRAWING SUPPORT FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_setSceneCenterRadius : function () {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tthis.sceneCenter = [0.0, 0.0, 0.0];\r\n\tthis.sceneRadiusInv = 1.0;\r\n\r\n\tif(this._scene.space.centerMode == \"explicit\")\r\n\t{\r\n\t\tthis.sceneCenter = this._scene.space.explicitCenter;\r\n\t}\r\n\telse if(this._scene.space.centerMode == \"specific\"  && this._scene.space.whichInstanceCenter != \"\")\r\n\t{\r\n\t\tvar mesh = meshes[instances[this._scene.space.whichInstanceCenter].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\r\n\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(instances[this._scene.space.whichInstanceCenter].transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\r\n\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\tthis.sceneCenter = instCenter;\r\n\t\t}\r\n\t}\r\n\telse if(this._scene.space.centerMode == \"scene\")\r\n\t{\r\n\t\tvar smin = SglVec3.maxNumber();\r\n\t\tvar smax = SglVec3.minNumber();\r\n\t\tvar imin = [0.0, 0.0, 0.0];\r\n\t\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\t\tif(imin[0] < smin[0]) smin[0] = imin[0];\r\n\t\t\t\tif(imin[1] < smin[1]) smin[1] = imin[1];\r\n\t\t\t\tif(imin[2] < smin[2]) smin[2] = imin[2];\r\n\t\t\t\tif(imax[0] > smax[0]) smax[0] = imax[0];\r\n\t\t\t\tif(imax[1] > smax[1]) smax[1] = imax[1];\r\n\t\t\t\tif(imax[2] > smax[2]) smax[2] = imax[2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.sceneCenter = [ (smax[0] + smin[0])/2.0, (smax[1] + smin[1])/2.0, (smax[2] + smin[2])/2.0 ];\r\n\t}\r\n\telse //if(this._scene.space.centerMode == \"first\")\r\n\t{\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tthis.sceneCenter = instCenter;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(this._scene.space.radiusMode == \"explicit\")\r\n\t{\r\n\t\tthis.sceneRadiusInv = 1.0 / this._scene.space.explicitRadius;\r\n\t}\r\n\telse if(this._scene.space.radiusMode == \"specific\" && this._scene.space.whichInstanceRadius != \"\")\r\n\t{\r\n\t\tvar mesh = meshes[instances[this._scene.space.whichInstanceRadius].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\tvar vector111 = SglVec3.one();\r\n\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[this._scene.space.whichInstanceRadius].transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\r\n\t\t\tthis.sceneRadiusInv = 1.0 / (radius*scalefactor);\r\n\t\t}\r\n\t}\r\n\telse if(this._scene.space.radiusMode == \"scene\")\r\n\t{\r\n\t\tvar smin = SglVec3.maxNumber();\r\n\t\tvar smax = SglVec3.minNumber();\r\n\t\tvar imin = [0.0, 0.0, 0.0];\r\n\t\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\t\tif(imin[0] < smin[0]) smin[0] = imin[0];\r\n\t\t\t\tif(imin[1] < smin[1]) smin[1] = imin[1];\r\n\t\t\t\tif(imin[2] < smin[2]) smin[2] = imin[2];\r\n\t\t\t\tif(imax[0] > smax[0]) smax[0] = imax[0];\r\n\t\t\t\tif(imax[1] > smax[1]) smax[1] = imax[1];\r\n\t\t\t\tif(imax[2] > smax[2]) smax[2] = imax[2];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar scenter = [ (smax[0] + smin[0])/2.0, (smax[1] + smin[1])/2.0, (smax[2] + smin[2])/2.0 ]\r\n\t\tthis.sceneRadiusInv = 1.0 / SglVec3.length(SglVec3.sub(smax, scenter));\r\n\t}\r\n\telse //if(this._scene.space.radiusMode == \"first\")\r\n\t{\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\r\n\t\t\t\tthis.sceneRadiusInv = 1.0 / (radius*scalefactor);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_destroyPickFramebuffer : function () {\r\n\tif (this.pickFramebuffer) {\r\n\t\tthis.pickFramebuffer.destroy();\r\n\t\tthis.pickFramebuffer = null;\r\n\t}\r\n\tif (this.pickColorTexture) {\r\n\t\tthis.pickColorTexture.destroy();\r\n\t\tthis.pickColorTexture = null;\r\n\t}\r\n\tif (this.pickDepthRenderbuffer) {\r\n\t\tthis.pickDepthRenderbuffer.destroy();\r\n\t\tthis.pickDepthRenderbuffer = null;\r\n\t}\r\n},\r\n\r\n_createPickFramebuffer : function (width, height) {\r\n\tif (this.pickFramebuffer && (this.pickFramebuffer.width == width) && (this.pickFramebuffer.height == height))\r\n\t\treturn;\r\n\telse\r\n\t\tthis._destroyPickFramebuffer();\r\n\r\n\tvar gl = this.ui.gl;\r\n\r\n\tthis.pickColorTexture = new SglTexture2D(gl, {\r\n\t\tinternalFormat : gl.RGBA,\r\n\t\twidth          : width,\r\n\t\theight         : height\r\n\t});\r\n\r\n\tthis.pickDepthRenderbuffer = new SglRenderbuffer(gl, {\r\n\t\tinternalFormat : gl.DEPTH_COMPONENT16,\r\n\t\twidth          : width,\r\n\t\theight         : height\r\n\t});\r\n\r\n\tthis.pickFramebuffer = new SglFramebuffer(gl, {\r\n\t\tcolor : this.pickColorTexture,\r\n\t\tdepth : this.pickDepthRenderbuffer,\r\n\t\tautoViewport : true\r\n\t});\r\n},\r\n\r\n_setupDraw : function () {\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar space    = this._scene.space;\r\n\r\n\tthis.ui.gl.viewport(0, 0, width, height);\r\n\r\n\tvar FOV   = space.cameraFOV;\r\n\tvar nearP = space.cameraNearFar[0];\r\n\tvar farP  = space.cameraNearFar[1];\r\n\r\n\t// getting scale/center for scene\r\n\tthis._setSceneCenterRadius();\r\n\r\n\txform.projection.loadIdentity();\r\n\r\n\tif(space.cameraType == \"orthographic\")\r\n\t{\r\n\t\t//default camera distance in orthographic view is \"as large as scene size\"\r\n\t\t// then, if the trackball is able to provide a better value, we use it\r\n\t\tvar cDistance = 1.0;\r\n\t\tif(typeof this.trackball.distance != \"undefined\")\r\n\t\t\tcDistance = this.trackball.distance;\r\n\t\tvar a = cDistance * SpiderGL.Math.tan(sglDegToRad(FOV) / 2);\r\n\t\tvar b = a * width/height;\r\n\r\n\t\txform.projection.ortho([-b, -a, nearP], [b, a, farP]);\r\n\t}\r\n\telse\r\n\t{\r\n\t\txform.projection.perspective(sglDegToRad(FOV), width/height, nearP, farP);\r\n\t}\r\n\r\n\txform.view.loadIdentity();\r\n\txform.view.lookAt([0.0, 0.0, 0.0], [0.0, 0.0, -1.0], [0.0, 1.0, 0.0]);\r\n\tthis.viewMatrix = xform.viewMatrix;\r\n\r\n\txform.model.loadIdentity();\r\n\txform.model.multiply(this.trackball.matrix);\r\n\r\n\t// scale to unit box + recenter\r\n\txform.model.scale([this.sceneRadiusInv, this.sceneRadiusInv, this.sceneRadiusInv]);\r\n\txform.model.translate(SglVec3.neg(this.sceneCenter));\r\n\r\n\tNexus.beginFrame(this.ui.gl, this.ui.framesPerSecond);\r\n},\r\n\r\n_ID2Color : function (ID) {\r\n\tvar intID = ID | 0;\r\n\tvar IDr = intID % 10;\r\n\tvar IDg = ((intID-IDr) / 10) % 10;\r\n\tvar IDb = ((((intID-IDr) / 10) - IDg) / 10) % 10;\r\n\r\n\tvar colorID = [IDr * 0.1, IDg * 0.1, IDb * 0.1, 1.0];\r\n\treturn colorID;\r\n},\r\n\r\n_Color2ID : function (color) {\r\n\tvar IDr =  Math.round(((color[0])/255.0) / 0.1)        | 0;\r\n\tvar IDg = (Math.round(((color[1])/255.0) / 0.1) * 10)  | 0;\r\n\tvar IDb = (Math.round(((color[2])/255.0) / 0.1) * 100) | 0;\r\n\r\n\tvar ID = (IDr + IDg + IDb) | 0;\r\n\treturn ID;\r\n},\r\n\r\n_onPlyLoaded : function (req, thatmesh, gl) {\r\n\tvar plyData = req.buffer;\r\n\tvar modelDescriptor = importPly(plyData);\r\n\tvar TMR = thatmesh.renderable = new SglModel(gl, modelDescriptor);\r\n\r\n\tTMR.renderMode  = modelDescriptor.extra.renderMode;\r\n\tTMR.boundingBox = modelDescriptor.extra.boundingBox;\r\n\r\n\t// center and radius\r\n\tTMR.datasetCenter = [0.0, 0.0, 0.0];\r\n\tTMR.datasetRadius = 1.0;\r\n\r\n\tTMR.datasetCenter[0] = (TMR.boundingBox.max[0] + TMR.boundingBox.min[0]) / 2.0;\r\n\tTMR.datasetCenter[1] = (TMR.boundingBox.max[1] + TMR.boundingBox.min[1]) / 2.0;\r\n\tTMR.datasetCenter[2] = (TMR.boundingBox.max[2] + TMR.boundingBox.min[2]) / 2.0;\r\n\r\n\tTMR.datasetRadius = Math.sqrt( Math.pow((TMR.boundingBox.max[0] - TMR.boundingBox.min[0]),2) +\r\n\t\t\t\t\t\t\t\t   Math.pow((TMR.boundingBox.max[1] - TMR.boundingBox.min[1]),2) +\r\n\t\t\t\t\t\t\t\t   Math.pow((TMR.boundingBox.max[2] - TMR.boundingBox.min[2]),2) ) / 2.0;\r\n\r\n\t// texture\r\n\tif(modelDescriptor.extra.textureUrl) {\r\n\t\tvar that = this;\r\n\t\tvar texUrl = \"\";\r\n\t\tvar tmpUrl = req._url.split(\"/\");\r\n\t\tfor (var j=0; j<tmpUrl.length-1; ++j) texUrl += tmpUrl[j].concat(\"/\");\r\n\t\ttexUrl = texUrl.concat(modelDescriptor.extra.textureUrl);\r\n\t\tTMR.texture = new SglTexture2D(gl, {\r\n\t\t\turl       : texUrl,\r\n\t\t\tonError   : function () { TMR.hasTexture = false; that._onMeshReady(); },\r\n\t\t\tonSuccess : function () { TMR.hasTexture = true; that._onMeshReady(); }\r\n\t\t});\r\n\t}\r\n\telse this._onMeshReady();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// DRAWING SCENE FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_drawScene : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrFaceProgram    = this.faceNXSProgram;\r\n\tvar CurrPointProgram   = this.pointNXSProgram;\r\n\tvar CurrFaceTechnique  = this.facePLYTechnique;\r\n\tvar CurrPointTechnique = this.pointPLYTechnique;\r\n\tvar CCProgram          = this.colorShadedNXSProgram;\r\n\tvar CCTechnique        = this.colorShadedPLYTechnique;\r\n\tvar lineTechnique      = this.simpleLineTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar spots     = this._scene.spots;\r\n\tvar space     = this._scene.space;\r\n\tvar config    = this._scene.config;\r\n\tvar bkg       = this._scene.background.color;\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tgl.clearColor(bkg[0], bkg[1], bkg[2], bkg[3]);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\r\n\t// draw non-transparent geometries\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\t\tif (instance.useTransparency) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\t\tvar thisClipBordersize = config.showClippingBorder?config.clippingBorderSize:0.0;\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uWorldViewMatrix\"           : xform.modelViewMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : instance.useSolidColor,\r\n\t\t\t\"uUseLighting\"               : space.sceneLighting && instance.useLighting,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uSpecularColor\"             : instance.specularColor,\r\n\t\t\t\"uSolidColor\"                : instance.color,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uClipColor\"                 : config.clippingBorderColor,\r\n\t\t\t\"uClipColorSize\"             : thisClipBordersize\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\tprogram = CurrFaceProgram;\r\n\t\t\telse\r\n\t\t\t\tprogram = CurrPointProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\tvar technique;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\ttechnique = CurrFaceTechnique;\r\n\t\t\telse\r\n\t\t\t\ttechnique = CurrPointTechnique;\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(technique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.setTexture(0, renderable.texture);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw transparent geometries\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\t\tif (!instance.useTransparency) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\t\tvar thisClipBordersize = config.showClippingBorder?config.clippingBorderSize:0.0;\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uWorldViewMatrix\"           : xform.modelViewMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uAlpha\"                     : instance.alpha,\r\n\t\t\t\"uUseSolidColor\"             : instance.useSolidColor,\r\n\t\t\t\"uUseLighting\"               : space.sceneLighting && instance.useLighting,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uSpecularColor\"             : instance.specularColor,\r\n\t\t\t\"uSolidColor\"                : instance.color,\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uClipColor\"                 : config.clippingBorderColor,\r\n\t\t\t\"uClipColorSize\"             : thisClipBordersize\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\tprogram = CurrFaceProgram;\r\n\t\t\telse\r\n\t\t\t\tprogram = CurrPointProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\tvar technique;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\ttechnique = CurrFaceTechnique;\r\n\t\t\telse\r\n\t\t\t\ttechnique = CurrPointTechnique;\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(technique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.setTexture(0, renderable.texture);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw picked point (if valid)\r\n\tif (this._pickValid) {\r\n\t\t// GLstate setup\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.push();\r\n\r\n\t\tvar lineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.pickedpointColor[0], config.pickedpointColor[1], config.pickedpointColor[2], 1.0],\r\n\t\t\t\"uPointA\"                    : this._pickedPoint,\r\n\t\t\t\"uPointB\"                    : this._pickedPoint\r\n\t\t};\r\n\r\n\t\t//drawing points\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\tlineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.pickedpointColor[0] * 0.4, config.pickedpointColor[1] * 0.5, config.pickedpointColor[2] * 0.6, 0.5],\r\n\t\t\t\"uPointA\"                    : this._pickedPoint,\r\n\t\t\t\"uPointB\"                    : this._pickedPoint\r\n\t\t};\r\n\r\n\t\tgl.depthFunc(gl.GREATER);\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw measurement line (if any)\r\n\tif (this._measurementStage >= 2) {// 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\t\t// GLstate setup\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.push();\r\n\r\n\t\tvar lineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.measurementColor[0], config.measurementColor[1], config.measurementColor[2], 1.0],\r\n\t\t\t\"uPointA\"                    : this._pointA,\r\n\t\t\t\"uPointB\"                    : (this._measurementStage==2)?this._pointA:this._pointB,\r\n\t\t};\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"LINE\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\tlineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.measurementColor[0] * 0.4, config.measurementColor[1] * 0.5, config.measurementColor[2] * 0.6, 0.5],\r\n\t\t\t\"uPointA\"                    : this._pointA,\r\n\t\t\t\"uPointB\"                    : (this._measurementStage==2)?this._pointA:this._pointB,\r\n\t\t};\r\n\r\n\t\tgl.depthFunc(gl.GREATER);\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"LINE\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw transparent spot geometries\r\n\tfor (var spt in spots) {\r\n\t\tvar spot = spots[spt];\r\n\t\tvar mesh = meshes[spot.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!spot.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(spot.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uColorID\"                   : [spot.color[0], spot.color[1], spot.color[2], spot.alpha]\r\n\t\t}\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program = CCProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\tif(spot.useStencil)\r\n\t\t\t\t{\r\n\t\t\t\t\tgl.clear(gl.STENCIL_BUFFER_BIT); //reset stencil\r\n\t\t\t\t\t//first pass\r\n\t\t\t\t\tgl.colorMask(false, false, false, false);\r\n\t\t\t\t\tgl.enable(gl.STENCIL_TEST);\r\n\t\t\t\t\tgl.stencilFunc(gl.ALWAYS, 0, 255);\r\n\t\t\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT);\r\n\r\n\t\t\t\t\trenderer.renderModel();\r\n\r\n\t\t\t\t\t//second pass\r\n\t\t\t\t\tgl.colorMask(true, true, true, true);\r\n\t\t\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT); // Don't change the stencil buffer...\r\n\t\t\t\t\tgl.stencilFunc(gl.EQUAL, 1, 0x01); // The stencil buffer contains the shadow values...\r\n\r\n\t\t\t\t\trenderer.renderModel();\r\n\r\n\t\t\t\t\tgl.disable(gl.STENCIL_TEST);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\trenderer.renderModel();\r\n\t\t\t\t}\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw clipping plane (if any)\r\n\tif(config.showClippingPlanes)\r\n\t{\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\tif(SglVec3.length([this._clipPlane[0], this._clipPlane[1], this._clipPlane[2]]) > 0.0) {\r\n\t\t\tvar planepoint = [0.0, 0.0, 0.0];\r\n\r\n\t\t\tvar k = SglVec3.dot(this._sceneBboxCenter, [this._clipPlane[0], this._clipPlane[1], this._clipPlane[2]]) + this._clipPlane[3];\r\n\t\t\tplanepoint[0] = this._sceneBboxCenter[0] - (this._clipPlane[0] * k);\r\n\t\t\tplanepoint[1] = this._sceneBboxCenter[1] - (this._clipPlane[1] * k);\r\n\t\t\tplanepoint[2] = this._sceneBboxCenter[2] - (this._clipPlane[2] * k);\r\n\r\n\t\t\tvar rotm = SglMat4.identity();\r\n\t\t\trotm = SglMat4.mul(rotm, SglMat4.rotationAngleAxis(sglDegToRad(this._clipPlaneAH), [0.0, -1.0, 0.0]));\r\n\t\t\trotm = SglMat4.mul(rotm, SglMat4.rotationAngleAxis(sglDegToRad(this._clipPlaneAV), [0.0, 0.0, 1.0]));\r\n\r\n\t\t\tvar psize = this._sceneBboxDiag;\r\n\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate(planepoint);\r\n\t\t\txform.model.multiply(rotm);\r\n\t\t\txform.model.scale([psize, psize, psize ]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [1.0, 0.0, 1.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadXModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[0] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._clipPoint[0], this._sceneBboxCenter[1], this._sceneBboxCenter[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [1.0, 0.0, 0.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadXModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[1] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._sceneBboxCenter[0], this._clipPoint[1], this._sceneBboxCenter[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [0.0, 1.0, 0.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadYModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[2] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._sceneBboxCenter[0], this._sceneBboxCenter[1], this._clipPoint[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [0.0, 0.0, 1.0, 0.25]\r\n\t\t\t};\r\n\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadZModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t}\r\n\tNexus.endFrame(this.ui.gl);\r\n},\r\n\r\n_drawScenePickingXYZ : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.colorCodedXYZNXSProgram;\r\n\tvar CurrTechnique = this.colorCodedXYZPLYTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\tvar rr = pixel[0] / 255.0;\r\n\tvar gg = pixel[1] / 255.0;\r\n\tvar bb = pixel[2] / 255.0;\r\n\tvar aa = pixel[3] / 255.0;\r\n\tvar depth = aa  + ( bb / (255.0)) + ( gg / (255.0*255.0)) + ( rr / (255.0*255.0*255.0));\r\n\r\n\tvar ppointc;\r\n\r\n\tif((rr==0.0) && (gg==0.0) && (bb==0.0))\r\n\t\treturn(null);\r\n\telse\r\n\t\tppointc = xform.unproject([this._pickpoint[0]/width,this._pickpoint[1]/height,depth]);\r\n\r\n\treturn([ppointc[0], ppointc[1], ppointc[2]]);\r\n},\r\n\r\n_drawScenePickingInstances : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.colorCodedIDNXSProgram;\r\n\tvar CurrTechnique = this.colorCodedIDPLYTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\r\n\t\tvar colorID = this._ID2Color(instance.ID);\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : colorID\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\treturn pixel;\r\n},\r\n\r\n_drawScenePickingSpots : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.colorCodedIDNXSProgram;\r\n\tvar CurrTechnique = this.colorCodedIDPLYTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar spots = this._scene.spots;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\t// first pass, draw invisible instances, for occlusion\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : [0.0, 0.0, 0.0, 0.0]\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// second pass, draw color coded spots, for picking\r\n\tfor (var spt in spots) {\r\n\t\tvar spot = spots[spt];\r\n\t\tvar mesh     = meshes[spot.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!spot.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(spot.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar colorID = this._ID2Color(spot.ID);\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : colorID\r\n\t\t};\r\n\r\n\t\tif(mesh.isNexus) {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.bind();\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\t\tnexus.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse { //drawing ply\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t\tgl.depthMask(true);\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\treturn pixel;\r\n},\r\n\r\n_drawNull : function () {\r\n\tvar gl = this.ui.gl;\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n},\r\n\r\n// creates simple 2-point line model\r\n_createLineModel : function () {\r\n\tvar gl = this.ui.gl;\r\n\tthis.simpleLineModel = new SglModel(gl, {\r\n\t\t\t\tvertices : {\r\n\t\t\t\t\tposition : [ 0,0,0,\r\n\t\t\t\t\t\t\t\t 1,1,1 ],\r\n\t\t\t\t\tnormal : [ 0,0,0,\r\n\t\t\t\t\t\t\t   0,0,0 ],\r\n\t\t\t\t\tcolor : {value : [ 1.0, 0.0, 0.0 ]}\r\n\t\t\t\t},\r\n\t\t\t\tprimitives : [\"lines\",\"points\"]\r\n\t\t\t});\r\n},\r\n\r\n// creates simple quad model\r\n_createQuadModels : function () {\r\n\tvar gl = this.ui.gl;\r\n\tthis.simpleQuadXModel = new SglModel(gl, {\r\n\t\t\t\tvertices : {\r\n\t\t\t\t\tposition : [ 0.0, 0.5, 0.5,\r\n\t\t\t\t\t\t\t\t 0.0,-0.5, 0.5,\r\n\t\t\t\t\t\t\t\t 0.0,-0.5,-0.5,\r\n\t\t\t\t\t\t\t\t 0.0, 0.5,-0.5,\r\n\t\t\t\t\t\t\t\t 0.0,-0.5,-0.5,\r\n\t\t\t\t\t\t\t\t 0.0, 0.5, 0.5],\r\n\t\t\t\t\tnormal : [ 1.0,0.0,0.0,\r\n\t\t\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t\t\t   1.0,0.0,0.0 ],\r\n\t\t\t\t\tcolor : {value : [ 1.0, 0.0, 0.0 ]}\r\n\t\t\t\t},\r\n\t\t\t\tprimitives : [\"triangles\"]\r\n\t\t\t});\r\n\tthis.simpleQuadYModel = new SglModel(gl, {\r\n\t\t\t\tvertices : {\r\n\t\t\t\t\tposition : [  0.5, 0.0, 0.5,\r\n\t\t\t\t\t\t\t\t -0.5, 0.0, 0.5,\r\n\t\t\t\t\t\t\t\t -0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t\t\t  0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t\t\t -0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t\t\t  0.5, 0.0, 0.5],\r\n\t\t\t\t\tnormal : [ 0.0,1.0,0.0,\r\n\t\t\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t\t\t   0.0,1.0,0.0 ],\r\n\t\t\t\t\tcolor : {value : [ 0.0, 1.0, 0.0 ]}\r\n\t\t\t\t},\r\n\t\t\t\tprimitives : [\"triangles\"]\r\n\t\t\t});\r\n\tthis.simpleQuadZModel = new SglModel(gl, {\r\n\t\t\t\tvertices : {\r\n\t\t\t\t\tposition : [  0.5, 0.5, 0.0,\r\n\t\t\t\t\t\t\t\t -0.5, 0.5, 0.0,\r\n\t\t\t\t\t\t\t\t -0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t\t\t  0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t\t\t -0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t\t\t  0.5, 0.5, 0.0],\r\n\t\t\t\t\tnormal : [ 0.0,0.0,1.0,\r\n\t\t\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t\t\t   0.0,0.0,1.0 ],\r\n\t\t\t\t\tcolor : {value : [ 0.0, 0.0, 1.0 ]}\r\n\t\t\t\t},\r\n\t\t\t\tprimitives : [\"triangles\"]\r\n\t\t\t});\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// EVENTS HANDLERS\r\n//----------------------------------------------------------------------------------------\r\nonInitialize : function () {\r\n\tvar gl = this.ui.gl;\r\n\r\n\t// debug mode\r\n\tthis._isDebugging = HOP_DEBUGMODE;\r\n\r\n\tgl.getExtension('EXT_frag_depth');\r\n\tgl.clearColor(0.5, 0.5, 0.5, 1.0);\r\n\tgl.clearStencil(0);\r\n\tgl.depthFunc(gl.LESS);\r\n\r\n\t// scene rendering support data\r\n\tthis.renderer   = new SglModelRenderer(gl);\r\n\tthis.xform      = new SglTransformationStack();\r\n\tthis.viewMatrix = SglMat4.identity();\r\n\r\n\t// nexus parameters\r\n\tthis._nexusTargetFps   = 15.0;\r\n\tthis._nexusTargetError = 1.0;\r\n\tthis._nexusCacheSize   = 50000000;\r\n\r\n\t// shaders\r\n\tthis.faceNXSProgram = this._createStandardFaceNXSProgram();\r\n\tthis.pointNXSProgram = this._createStandardPointNXSProgram();\r\n\tthis.colorShadedNXSProgram = this._createColorShadedNXSProgram();\r\n\tthis.colorCodedIDNXSProgram = this._createColorCodedIDNXSProgram();\r\n\tthis.colorCodedXYZNXSProgram = this._createXYZNXSProgram();\r\n\r\n\tthis.facePLYTechnique = this._createStandardFacePLYtechnique();\r\n\tthis.pointPLYTechnique = this._createStandardPointPLYtechnique();\r\n\tthis.colorShadedPLYTechnique = this._createColorShadedPLYtechnique();\r\n\tthis.colorCodedIDPLYTechnique = this._createColorCodedIDPLYtechnique();\r\n\tthis.colorCodedXYZPLYTechnique = this._createXYZPLYtechnique();\r\n\r\n\tthis.simpleLineTechnique = this._createSimpleLinetechnique();\r\n\tthis.multiLinesPointsTechnique = this._createMultiLinesPointstechnique();\r\n\r\n\t// handlers\r\n\tthis._onPickedInstance  = 0;\r\n\tthis._onPickedSpot      = 0;\r\n\tthis._onEnterInstance   = 0;\r\n\tthis._onEnterSpot       = 0;\r\n\tthis._onLeaveInstance   = 0;\r\n\tthis._onLeaveSpot       = 0;\r\n\tthis._onEndPickingPoint = 0;\r\n\tthis._onEndMeasurement  = 0;\r\n\r\n\t// animation\r\n\tthis.ui.animateRate = 0;\r\n\r\n\t// current cursor XY position\r\n\tthis.x \t\t\t= 0.0;\r\n\tthis.y \t\t\t= 0.0;\r\n\r\n\tthis._keycombo = false;\r\n\r\n\t// SCENE DATA\r\n\tthis._scene         = null;\r\n\tthis._sceneParsed   = false;\r\n\tthis._sceneReady    = false;\r\n\tthis._objectsToLoad = 0;\r\n\r\n\tthis._instancesProgressiveID = 1;\r\n\tthis._spotsProgressiveID     = 1;\r\n\r\n\tthis._lightDirection = HOP_DEFAULTLIGHT;\r\n\r\n\tthis.sceneCenter = [0.0, 0.0, 0.0];\r\n\tthis.sceneRadiusInv = 1.0;\r\n\r\n\tthis._targetInstanceName = null;\r\n\tthis._targetHotSpotName  = null;\r\n\r\n\tthis._animating      = false;\r\n\tthis._movingLight    = false;\r\n\r\n\tthis._resizable      = true;\r\n\r\n\tthis._clickable      = false;\r\n\tthis._onHover        = false;\r\n\r\n\tthis._lastCursor     = \"default\";\r\n\tthis._pickedInstance = null;\r\n\tthis._pickedSpot     = null;\r\n\tthis._lastPickedInstance = null;\r\n\tthis._lastPickedSpot     = null;\r\n\tthis._lastInstanceID = 0;\r\n\tthis._lastSpotID     = 0;\r\n\tthis._pickpoint      = [1, 1];\r\n\r\n\t// global measurement data\r\n\tthis._isMeasuring = false;\r\n\r\n\t// point2point measurement data\r\n\tthis._isMeasuringDistance = false;\r\n\tthis._measurementStage = 0; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0;\r\n\r\n\t// point picking measurement data\r\n\tthis._isMeasuringPickpoint = false;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\r\n\t// plane section\r\n\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\tthis._clipAxis  = [0.0, 0.0, 0.0];\r\n\tthis._clipPlane = [0.0, 0.0, 0.0, 0.0];\r\n\tthis._sceneBboxMin = [0.0, 0.0, 0.0]\r\n\tthis._sceneBboxMax = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxCenter = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxDiag = 0.0;\r\n},\r\n\r\nonDrag : function (button, x, y, e) {\r\n\tvar ui = this.ui;\r\n\r\n\tif(this._clickable) this._clickable = false;\r\n\r\n\tif(this._movingLight && ui.isMouseButtonDown(0)){\r\n\t\tvar dxl = (x / (ui.width  - 1)) * 2.0 - 1.0;\r\n\t\tvar dyl = (y / (ui.height - 1)) * 2.0 - 1.0;\r\n\t\tthis.rotateLight(dxl/2, dyl/2);\r\n\t\treturn;\r\n\t}\r\n\r\n\t// if locked trackball, just return. we check AFTER the light-trackball test\r\n\tif (this._scene.trackball.locked) return;\r\n\r\n\tif(ui.dragDeltaX(button) != 0) this.x += (ui.cursorDeltaX/500);\r\n\tif(ui.dragDeltaY(button) != 0) this.y += (ui.cursorDeltaY/500);\r\n\r\n\tvar action = SGL_TRACKBALL_NO_ACTION;\r\n\tif ((ui.isMouseButtonDown(0) && ui.isKeyDown(17)) || ui.isMouseButtonDown(1) || ui.isMouseButtonDown(2)) {\r\n\t\taction = SGL_TRACKBALL_PAN;\r\n\t}\r\n\telse if (ui.isMouseButtonDown(0)) {\r\n\t\taction = SGL_TRACKBALL_ROTATE;\r\n\t}\r\n\r\n\tvar testMatrix = this.trackball._matrix.slice();\r\n\r\n\tthis.trackball.action = action;\r\n\tthis.trackball.track(this.viewMatrix, this.x, this.y, 0.0);\r\n\r\n\tvar diff;\r\n\tfor(var i=0; i<testMatrix.length; i++) {\r\n\t\tif(testMatrix[i]!=this.trackball._matrix[i]) {diff=true; break;}\r\n\t}\r\n\tif(diff) ui.postDrawEvent();\r\n},\r\n\r\nonMouseMove: function (x, y, e) {\r\n\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._onHover)\r\n\t\tif (!this.ui.isDragging(0) && !this.ui.isDragging(1) && !this.ui.isDragging(2)) this._pickingRefresh(x, y);\r\n},\r\n\r\nonMouseOut : function (x, y, e) {\r\n\tvar evt = document.createEvent(\"MouseEvents\");\r\n\tevt.initEvent(\"mouseup\", true, true);\r\n\te.target.dispatchEvent(evt);\r\n\tif(this._onHover) this._pickingRefresh(-1,-1);\r\n\tthis._clickable = false;\r\n},\r\n\r\nonMouseButtonDown : function (button, x, y, e) {\r\n\tif(this._onHover) this._pickingRefresh(x,y);\r\n\tif(button==0) this._clickable = true;\r\n},\r\n\r\nonClick : function (button, x, y, e) {\r\n\tvar xy = this.ui._getMouseClientPos(e);\r\n\r\n\tthis.ui._clickPrevPos = this.ui._clickPos;\r\n\tthis.ui._clickPos = xy;\r\n\r\n\tvar clickDeltaPos = [this.ui._clickPos[0] - this.ui._clickPrevPos[0], this.ui._clickPos[1] - this.ui._clickPrevPos[1]];\r\n\tvar clickDeltaTime = this.ui._clickPos[3] - this.ui._clickPrevPos[3];\r\n\r\n\tvar clickDeltaDist = SpiderGL.Math.Vec2.length(clickDeltaPos);\r\n\r\n\tif (this._clickable) {\r\n\t\tthis._pickingRefresh(x, y);\r\n\r\n\t\tif(clickDeltaDist <= 30 && clickDeltaTime <= 250) {\r\n\t\t\tif(this.trackball.recenter){\r\n\t\t\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\t\t\tif (ppoint!=null) {\r\n\t\t\t\t\tthis.ui.animateRate = 30;\r\n\t\t\t\t\tthis.trackball.recenter(ppoint);\r\n\t\t\t\t\tthis.repaint();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this._onPickedSpot && this._pickedSpot!=null) this._onPickedSpot(this._pickedSpot);\r\n\t\tif(this._onPickedInstance && this._pickedInstance!=null) this._onPickedInstance(this._pickedInstance);\r\n\t\tif(this._isMeasuringPickpoint) this._pickpointRefresh(0, x, y, e);\r\n\t\tif(this._isMeasuringDistance) this._measureRefresh(0, x, y, e);\r\n\t}\r\n\tthis._clickable = false;\r\n},\r\n\r\nonKeyPress : function (key, e) {\r\n\tif(this._isDebugging) { // DEBUGGING-AUTHORING keys\r\n\t\tif (e.charCode == '49') { // key \"1\" to show nexus patches\r\n\t\t\tNexus.Debug.nodes =! Nexus.Debug.nodes;\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if (e.charCode == '50') { // key \"2\" to toggle camera perspective/orthographic\r\n\t\t\tthis.toggleCameraType();\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if((e.charCode == '80') || (e.charCode == '112')) // key \"P\" to print trackball\r\n\t\t\tconsole.log(this.trackball.getState());\r\n\t}\r\n},\r\n\r\nonKeyUp : function (key, e) {\r\n\tif(this._keycombo && e.keyCode == '18') {\r\n\t\te.preventDefault();\r\n\t\tthis._keycombo = false;\r\n\t}\r\n},\r\n\r\nonMouseWheel: function (wheelDelta, x, y, e) {\r\n\tvar diff = false;\r\n\r\n\tif(e && e.altKey) { // key \"ALT\" + MOUSE WHEEL to change pointclouds point set size\r\n\t\tthis._keycombo = true;\r\n\r\n\t\tvar testValue = this._scene.config.pointSize;\r\n\r\n\t\tthis._scene.config.pointSize += wheelDelta/10;\r\n\r\n\t\tif (this._scene.config.pointSize < this._scene.config.pointSizeMinMax[0]) this._scene.config.pointSize = this._scene.config.pointSizeMinMax[0];\r\n\t\telse if (this._scene.config.pointSize > this._scene.config.pointSizeMinMax[1]) this._scene.config.pointSize = this._scene.config.pointSizeMinMax[1];\r\n\r\n\t\tif(testValue!=this._scene.config.pointSize) {\r\n\t\t\tdiff=true;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t// if locked trackball, just return.\r\n\t\tif (this._scene.trackball.locked) return;\r\n\r\n\t\tvar action = SGL_TRACKBALL_SCALE;\r\n\r\n\t\tvar factor = wheelDelta > 0.0 ? (0.90) : (1.10);\r\n\r\n\t\tvar testMatrix = this.trackball._matrix.slice();\r\n\r\n\t\tthis.trackball.action = action;\r\n\t\tthis.trackball.track(this.viewMatrix, 0.0, 0.0, factor);\r\n\t\tthis.trackball.action = SGL_TRACKBALL_NO_ACTION;\r\n\r\n\t\tfor(var i=0; i<testMatrix.length; i++) {\r\n\t\t\tif(testMatrix[i]!=this.trackball._matrix[i]) {diff=true; break;}\r\n\t\t}\r\n\t}\r\n\r\n\tif(diff) this.repaint();\r\n},\r\n\r\nonAnimate : function (dt) {\r\n\tif (this._isSceneReady()) {\r\n\t\t// animate trackball\r\n\t\tif(this.trackball.tick(dt)) {\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.ui.animateRate = 0;\r\n\t\t\tif(this._onHover && !this.ui._cursorPos[2]) this._pickingRefresh(this.ui._cursorPos[0], this.ui._cursorPos[1]);\r\n\t\t}\r\n\t}\r\n},\r\n\r\nonDraw : function () {\r\n\tif (this._isSceneReady())\r\n\t\tthis._drawScene();\r\n\telse\r\n\t\tthis._drawNull();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// EXPOSED FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\nsetScene : function (options) {\r\n\tif (!options) return;\r\n\r\n\t// scene reset, if already present\r\n\tif(this._scene != null)\r\n\t{\r\n\t\tthis._scene         = null;\r\n\t\tthis._sceneParsed   = false;\r\n\t\tthis._sceneReady    = false;\r\n\t\tthis._instancesProgressiveID = 1;\r\n\t\tthis._spotsProgressiveID     = 1;\r\n\t\tthis._objectsToLoad = 0;\r\n\t\tthis._stopMeasurement();\r\n\t\tthis._stopPickPoint();\r\n\t\tthis._clipAxis = [0.0, 0.0, 0.0];\r\n\t\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\t\tthis.enableLightTrackball(false);\r\n\t}\r\n\r\n\tvar scene = this._parseScene(options);\r\n\tif (!scene) return;\r\n\tthis._scene = scene;\r\n\r\n\tthis._objectsToLoad = 0;\r\n\tfor (var m in scene.meshes) {\r\n\t\tvar mesh = scene.meshes[m];\r\n\t\tif (mesh.url) {\r\n\t\t\tthis._objectsToLoad++;\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var t in scene.texturedQuads) {\r\n\t\tvar tex = scene.texturedQuads[t];\r\n\t\tif (tex.url) {\r\n\t\t\tthis._objectsToLoad++;\r\n\t\t}\r\n\t}\r\n\r\n\tif (scene.background.image) {\r\n\t\tthis._objectsToLoad++;\r\n\t}\r\n\r\n\t// creating the desired trackball\r\n\tthis.trackball  = new this._scene.trackball.type();\r\n\tthis.trackball.setup(this._scene.trackball.trackOptions);\r\n\r\n\tvar that = this;\r\n\tvar gl = this.ui.gl;\r\n\r\n\tfor (var m in scene.meshes) {\r\n\t\tvar mesh = scene.meshes[m];\r\n\r\n\t\tif (!mesh.url) continue;\r\n\t\tif((String(mesh.url).lastIndexOf(\".nxs\") == (String(mesh.url).length - 4))||(String(mesh.url).lastIndexOf(\".nxz\") == (String(mesh.url).length - 4))) {\r\n\t\t\tNexus.setTargetError(gl, this._nexusTargetError);\r\n\t\t\tNexus.setTargetFps(gl, this._nexusTargetFps);\r\n\t\t\tNexus.setMaxCacheSize(gl, this._nexusCacheSize);\r\n\r\n\t\t\tvar nexus_instance = new Nexus.Renderer(gl);\r\n\t\t\tnexus_instance.onLoad = function () { that._onMeshReady(); };\r\n\t\t\tnexus_instance.onUpdate = this.ui.postDrawEvent;\r\n\r\n\t\t\tmesh.renderable = nexus_instance;\r\n\t\t\tmesh.isNexus = true;\r\n\r\n\t\t\tnexus_instance.open(mesh.url);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tmesh.renderable = null;\r\n\t\t\tmesh.isNexus = false;\r\n\t\t\tsglRequestBinary(mesh.url, {\r\n\t\t\t\tonSuccess : (function(m){ return function (req) { that._onPlyLoaded(req, m, gl); }; })(mesh)\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfor (var t in scene.texturedQuads) {\r\n\t\tvar quad = scene.texturedQuads[t];\r\n\t\tif (!tex.url) continue;\r\n\t\tscene.quad.texture = new SglTexture2D(gl, {\r\n\t\t\tinternalFormat : gl.RGBA,\r\n\t\t\tformat         : gl.RGBA,\r\n\t\t\ttype           : gl.UNSIGNED_BYTE,\r\n\t\t\tgenerateMipmap : true,\r\n\t\t\tonSuccess      : function () { that._onTextureReady(); },\r\n\t\t\turl            : tex.url\r\n\t\t});\r\n\t}\r\n\r\n\tif (scene.background.image) {\r\n\t\tscene.background.texture = new SglTexture2D(gl, {\r\n\t\t\tinternalFormat : gl.RGBA,\r\n\t\t\tformat         : gl.RGBA,\r\n\t\t\ttype           : gl.UNSIGNED_BYTE,\r\n\t\t\tgenerateMipmap : true,\r\n\t\t\tonSuccess      : function () { that._onBackgroundReady(); },\r\n\t\t\turl            : scene.background.image\r\n\t\t});\r\n\t}\r\n\r\n\t// create point-to-point line model\r\n\tthis._createLineModel();\r\n\t// create quad models\r\n\tthis._createQuadModels();\r\n\r\n\tthis._sceneParsed = true;\r\n},\r\n\r\nget version() {\r\n\treturn HOP_VERSION;\r\n},\r\n\r\nsupportsWebGL : function () {\r\n\treturn this._supportsWebGL;\r\n},\r\n\r\ntoggleDebugMode : function () {\r\n\tthis._isDebugging = !this._isDebugging;\r\n},\r\n\r\nrepaint : function () {\r\n\tthis.ui.postDrawEvent();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// nexus\r\n\r\nsetNexusTargetFps: function(fps) {\r\n\tthis._nexusTargetFps = fps;\r\n\tNexus.setTargetFps(this.ui.gl, fps);\r\n},\r\n\r\ngetNexusTargetFps: function() {\r\n\treturn this._nexusTargetFps;\r\n},\r\n\r\nsetNexusTargetError: function(error) {\r\n\tthis._nexusTargetError = error;\r\n\tNexus.setTargetError(this.ui.gl, error);\r\n},\r\n\r\ngetNexusTargetError: function() {\r\n\treturn this._nexusTargetError;\r\n},\r\n\r\nsetNexusCacheSize: function(size) {\r\n\tthis._nexusCacheSize = size;\r\n\tNexus.setMaxCacheSize(this.ui.gl, size);\r\n},\r\n\r\ngetNexusCacheSize: function() {\r\n\treturn this._nexusCacheSize;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// trackball\r\n\r\nresetTrackball : function () {\r\n\tthis.trackball.reset();\r\n\tthis.trackball.track(SglMat4.identity(), 0.0, 0.0, 0.0);\r\n\tthis._lightDirection = HOP_DEFAULTLIGHT; // also reset lighting\r\n\tthis.repaint();\r\n},\r\n\r\ngetTrackballPosition : function () {\r\n\treturn this.trackball.getState();\r\n},\r\n\r\nsetTrackballPosition : function (newposition) {\r\n\tthis.trackball.setState(newposition);\r\n\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// camera animations\r\n\r\nanimateToTrackballPosition : function (newposition, newtime) {\r\n\tthis.ui.animateRate = 30;\r\n\tthis.trackball.animateToState(newposition, newtime);\r\n\tthis.repaint();\r\n},\r\n\r\nisAnimate : function () {\r\n\tif(this.ui.animateRate > 0) this._animating = true;\r\n\telse this._animating = false;\r\n\treturn this._animating;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// dynamic center/radius mode\r\n\r\nsetCenterModeFirst : function () {\r\n\tthis._scene.space.centerMode = \"first\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCenterModeScene : function () {\r\n\tthis._scene.space.centerMode = \"scene\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCenterModeSpecific : function (instancename) {\r\n\tif(this._scene.modelInstances[instancename])\r\n\t{\r\n\t\tthis._scene.space.centerMode = \"specific\";\r\n\t\tthis._scene.space.whichInstanceCenter = instancename;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - No such instance\";\r\n},\r\n\r\nsetCenterModeExplicit : function (newcenter) {\r\n\tif((newcenter.constructor === Array)&&(newcenter.length = 3)&&(isFinite(String(newcenter[0])))&&(isFinite(String(newcenter[1])))&&(isFinite(String(newcenter[2]))))\r\n\t{\r\n\t\tthis._scene.space.centerMode = \"explicit\";\r\n\t\tthis._scene.space.explicitCenter = newcenter;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - Not a point\";\r\n},\r\n\r\nsetRadiusModeFirst : function () {\r\n\tthis._scene.space.radiusMode = \"first\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetRadiusModeScene : function () {\r\n\tthis._scene.space.radiusMode = \"scene\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetRadiusModeSpecific : function (instancename) {\r\n\tif(this._scene.modelInstances[instancename])\r\n\t{\r\n\t\tthis._scene.space.radiusMode = \"specific\";\r\n\t\tthis._scene.space.whichInstanceRadius = instancename;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - No such instance\";\r\n},\r\n\r\nsetRadiusModeExplicit : function (newradius) {\r\n\tif((isFinite(String(newradius)))&&(newradius>0.0))\r\n\t{\r\n\t\tthis._scene.space.radiusMode = \"explicit\";\r\n\t\tthis._scene.space.explicitRadius = newradius;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - Not a radius\";\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance solid color\r\n\r\nsetInstanceSolidColorByName : function (name, newState, redraw, newColor) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[inst].color = newColor;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tinstances[name].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[name].color = newColor;\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceSolidColor : function (tag, newState, redraw, newColor) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[inst].color = newColor;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\t\t\tif(newColor)\r\n\t\t\t\t\t\tinstances[inst].color = newColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceSolidColorByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL)\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\telse\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useSolidColor = !instances[name].useSolidColor;\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceSolidColor : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\t\telse\r\n\t\t\tfor (var tg in instances[inst].tags)\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceSolidColorEnabledByName : function (name) {\r\n\tvar solidcolor = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn solidcolor;\r\n},\r\n\r\nisInstanceSolidColorEnabled : function (tag) {\r\n\tvar solidcolor = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\t\t\tsolidcolor = true;\r\n\t\t\t\t\t\treturn solidcolor;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn solidcolor;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance transparency\r\n\r\nsetInstanceTransparencyByName : function (name, newState, redraw, newAlpha) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tinstances[name].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[name].alpha = newAlpha;\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceTransparency : function (tag, newState, redraw, newAlpha) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\t\t\tif(newAlpha)\r\n\t\t\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceTransparencyByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useTransparency = !instances[name].useTransparency;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceTransparency : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n\r\nisInstanceTransparencyEnabledByName : function (name) {\r\n\tvar transparency = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn transparency;\r\n},\r\n\r\nisInstanceTransparencyEnabled : function (tag) {\r\n\tvar transparency = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\t\t\ttransparency = true;\r\n\t\t\t\t\t\treturn transparency;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn transparency;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance shading\r\n//----specular\r\n\r\nsetInstanceSpecularityByName : function (name, color, hardness, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].specularColor = [color[0], color[1], color[2], hardness];\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceSpecularity : function (tag, color, hardness, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n//----backface\r\n\r\nsetInstanceBackfaceByName : function (name, color, mode, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar modecode = 0.0;\r\n\tif (mode == \"tint\") modecode = 0.0;\r\n\telse if (mode == \"fill\") modecode = 1.0;\r\n\telse if (mode == \"cull\") modecode = 2.0;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceBackface : function (tag, color, mode, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar modecode = 0.0;\r\n\tif (mode == \"tint\") modecode = 0.0;\r\n\telse if (mode == \"fill\") modecode = 1.0;\r\n\telse if (mode == \"cull\") modecode = 2.0;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance visibility\r\n\r\nsetInstanceVisibilityByName : function (name, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].visible = newState;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].visible = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceVisibility : function (tag, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].visible = newState;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].visible = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceVisibilityByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].visible = !instances[name].visible;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceVisibility : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceVisibilityEnabledByName : function (name) {\r\n\tvar visibility = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\nisInstanceVisibilityEnabled : function (tag) {\r\n\tvar visibility = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].visible){\r\n\t\t\t\t\t\tvisibility = true;\r\n\t\t\t\t\t\treturn visibility;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// spot visibility\r\n\r\nsetSpotVisibilityByName : function (name, newState, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var spt in spots)\r\n\t\t\tspots[spt].visible = newState;\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) // if an hotspot with that name exists\r\n\t\t\tspots[name].visible = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetSpotVisibility : function (tag, newState, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tfor (var spt in spots) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tspots[spt].visible = newState;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag)\r\n\t\t\t\t\tspots[spt].visible = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleSpotVisibilityByName : function (name, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var spt in spots)\r\n\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) // if an hotspot with that name exists\r\n\t\t\tspots[name].visible = !spots[name].visible;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleSpotVisibility : function (tag, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tfor (var spt in spots) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag)\r\n\t\t\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisSpotVisibilityEnabledByName : function (name) {\r\n\tvar visibility = false;\r\n\tvar spots = this._scene.spots;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var spt in spots) {\r\n\t\t\tif(spots[spt].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) { // if an hotspot with that name exists\r\n\t\t\tif(spots[name].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\nisSpotVisibilityEnabled : function (tag) {\r\n\tvar visibility = false;\r\n\tvar spots = this._scene.spots;\r\n\r\n\tfor (var spt in spots) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(spots[spt].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag){\r\n\t\t\t\t\tif(spots[spt].visible){\r\n\t\t\t\t\t\tvisibility = true;\r\n\t\t\t\t\t\treturn visibility;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// sections\r\n\r\nresetClippingXYZ: function() {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis = [0.0, 0.0, 0.0];\r\n\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingXYZ: function(cx, cy, cz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis = [cx,cy,cz];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingX: function(cx) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[0] = cx;\r\n\tthis.repaint();\r\n},\r\nsetClippingY: function(cy) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[1] = cy;\r\n\tthis.repaint();\r\n},\r\nsetClippingZ: function(cz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[2] = cz;\r\n\tthis.repaint();\r\n},\r\n\r\ngetClippingX : function () {\r\n\treturn this._clipAxis[0];\r\n},\r\ngetClippingY : function () {\r\n\treturn this._clipAxis[1];\r\n},\r\ngetClippingZ : function () {\r\n\treturn this._clipAxis[2];\r\n},\r\n\r\nsetClippingPointXYZabs: function(clx, cly, clz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint = [clx, cly, clz];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointXabs: function(clx) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[0] = clx;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointYabs: function(cly) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[1] = cly;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointZabs: function(clz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[2] = clz;\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointXYZ: function(clx, cly, clz) {\r\n\tvar nClipPoint = [0.0, 0.0, 0.0];\r\n\r\n\tthis._calculateBounding();\r\n\r\n\tif(clx<0.0) clx=0.0; else if(clx>1.0) clx=1.0;\r\n\tif(cly<0.0) cly=0.0; else if(cly>1.0) cly=1.0\r\n\tif(clz<0.0) clz=0.0; else if(clz>1.0) clz=1.0;\r\n\r\n\tnClipPoint[0] = this._sceneBboxMin[0] + clx * (this._sceneBboxMax[0] - this._sceneBboxMin[0]);\r\n\tnClipPoint[1] = this._sceneBboxMin[1] + cly * (this._sceneBboxMax[1] - this._sceneBboxMin[1]);\r\n\tnClipPoint[2] = this._sceneBboxMin[2] + clz * (this._sceneBboxMax[2] - this._sceneBboxMin[2]);\r\n\r\n\tthis._clipPoint = nClipPoint;\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointX: function(clx) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(clx<0.0) clx=0.0; else if(clx>1.0) clx=1.0;\r\n\tnClipPoint = this._sceneBboxMin[0] + clx * (this._sceneBboxMax[0] - this._sceneBboxMin[0]);\r\n\tthis._clipPoint[0] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointY: function(cly) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(cly<0.0) cly=0.0; else if(cly>1.0) cly=1.0;\r\n\tnClipPoint = this._sceneBboxMin[1] + cly * (this._sceneBboxMax[1] - this._sceneBboxMin[1]);\r\n\tthis._clipPoint[1] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointZ: function(clz) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(clz<0.0) clz=0.0; else if(clz>1.0) clz=1.0;\r\n\tnClipPoint = this._sceneBboxMin[2] + clz * (this._sceneBboxMax[2] - this._sceneBboxMin[2]);\r\n\tthis._clipPoint[2] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\n\r\n_calculateBounding: function() {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tthis._sceneBboxMin = SglVec3.maxNumber();\r\n\tthis._sceneBboxMax = SglVec3.minNumber();\r\n\tthis._sceneBboxCenter = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxDiag = 0.0;\r\n\tvar imin = [0.0, 0.0, 0.0];\r\n\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)&&(instances[inst].clippable)){\r\n\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\tif(imin[0] < this._sceneBboxMin[0]) this._sceneBboxMin[0] = imin[0];\r\n\t\t\tif(imin[1] < this._sceneBboxMin[1]) this._sceneBboxMin[1] = imin[1];\r\n\t\t\tif(imin[2] < this._sceneBboxMin[2]) this._sceneBboxMin[2] = imin[2];\r\n\t\t\tif(imax[0] > this._sceneBboxMax[0]) this._sceneBboxMax[0] = imax[0];\r\n\t\t\tif(imax[1] > this._sceneBboxMax[1]) this._sceneBboxMax[1] = imax[1];\r\n\t\t\tif(imax[2] > this._sceneBboxMax[2]) this._sceneBboxMax[2] = imax[2];\r\n\t\t}\r\n\t}\r\n\r\n\tthis._sceneBboxCenter[0] = (this._sceneBboxMin[0] + this._sceneBboxMax[0]) / 2.0;\r\n\tthis._sceneBboxCenter[1] = (this._sceneBboxMin[1] + this._sceneBboxMax[1]) / 2.0;\r\n\tthis._sceneBboxCenter[2] = (this._sceneBboxMin[2] + this._sceneBboxMax[2]) / 2.0;\r\n\r\n\tthis._sceneBboxDiag = SglVec3.length([ this._sceneBboxMax[0]-this._sceneBboxMin[0], this._sceneBboxMax[1]-this._sceneBboxMin[1], this._sceneBboxMax[2]-this._sceneBboxMin[2]]);\r\n},\r\n\r\nsetClippingRendermode: function(showPlanes, showBorder, borderSize, borderColor) {\r\n\tthis._calculateBounding();\r\n\tthis._scene.config.showClippingPlanes = showPlanes;\r\n\tthis._scene.config.showClippingBorder = showBorder;\r\n\tif(borderSize>0.0)\r\n\t\tthis._scene.config.clippingBorderSize = borderSize;\r\n\tif(borderColor)\r\n\t\tthis._scene.config.clippingBorderColor = borderColor;\r\n\tthis.repaint();\r\n},\r\n\r\ngetClippingRendermode: function() {\r\n\tvar rendermode = [this._scene.config.showClippingPlanes, this._scene.config.showClippingBorder, this._scene.config.clippingBorderSize, this._scene.config.clippingBorderColor];\r\n\treturn rendermode;\r\n},\r\n\r\nresetClippingPlane : function () {\r\n\tthis._calculateBounding();\r\n\tthis._clipPlane = [0.0, 0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPlaneExplicit : function (axis, offset) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPlane = [axis[0], axis[1], axis[2], offset];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPlane : function (angleH, angleV, sign, delta, deltaabs) {\r\n\tthis._calculateBounding();\r\n\tvar axis;\r\n\tvar m = SglMat4.identity();\r\n\tthis._clipPlaneAH = angleH;\r\n\tthis._clipPlaneAV = angleV;\r\n\r\n\t// horizontal angle\r\n\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(sglDegToRad(angleH), [0.0, -1.0, 0.0]));\r\n\t// vertical angle\r\n\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(sglDegToRad(angleV), [0.0, 0.0, 1.0]));\r\n\r\n\taxis = [sign*1.0, 0.0, 0.0, 1.0];\r\n\taxis = SglMat4.mul4(m, axis);\r\n\r\n\tvar sceneOff = (this._sceneBboxDiag / 2.0) * (delta / 100.0);\r\n\tif(typeof deltaabs !== \"undefined\")\r\n\t\tsceneOff = deltaabs;\r\n\tvar position = [this._sceneBboxCenter[0] + (axis[0] * sceneOff), this._sceneBboxCenter[1] + (axis[1] * sceneOff), this._sceneBboxCenter[2] + (axis[2] * sceneOff)];\r\n\tsceneOff = SglVec3.dot([axis[0], axis[1], axis[2]], position);\r\n\r\n\tthis._clipPlane = [axis[0], axis[1], axis[2], -sceneOff];\r\n\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// zoom\r\n\r\nzoomIn: function() {\r\n\tthis.onMouseWheel(1);\r\n},\r\n\r\nzoomOut: function() {\r\n\tthis.onMouseWheel(-1);\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// light\r\n\r\nrotateLight: function(x, y) {\r\n\tx *= 2;\r\n\ty *= 2;\r\n\tvar r = Math.sqrt(x*x + y*y);\r\n\tif(r >= 1) {\r\n\t\tx /= r;\r\n\t\ty /= r;\r\n\t\tr = 0.999;\r\n\t}\r\n\tvar z = Math.sqrt(1 - r*r);\r\n\tthis._lightDirection = [-x, -y, -z];\r\n\tthis.repaint();\r\n},\r\n\r\nenableLightTrackball: function(on) {\r\n\tthis._movingLight = on;\r\n\r\n\tif(on && !this._scene.space.sceneLighting) this._scene.space.sceneLighting = on;\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nisLightTrackballEnabled: function() {\r\n\treturn this._movingLight;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// onHover\r\n\r\nenableOnHover: function(on) {\r\n\tthis._onHover = on;\r\n},\r\n\r\nisOnHoverEnabled: function() {\r\n\treturn this._onHover;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// linear measure\r\n\r\nenableMeasurementTool: function(on) {\r\n\tif(on)\r\n\t\tthis._startMeasurement();\r\n\telse\r\n\t\tthis._stopMeasurement();\r\n},\r\n\r\nisMeasurementToolEnabled: function() {\r\n\treturn this._isMeasuringDistance;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// point measure\r\n\r\nenablePickpointMode: function(on) {\r\n\tif(on)\r\n\t\tthis._startPickPoint();\r\n\telse\r\n\t\tthis._stopPickPoint();\r\n},\r\n\r\nisPickpointModeEnabled: function() {\r\n\treturn this._isMeasuringPickpoint;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// measurements\r\n\r\nisAnyMeasurementEnabled: function() {\r\n\treturn this._isMeasuring;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// camera type\r\n\r\ntoggleCameraType: function() {\r\n\tif(this._scene.space.cameraType == \"orthographic\")\r\n\t\tthis._scene.space.cameraType = \"perspective\"\r\n\telse\r\n\t\tthis._scene.space.cameraType = \"orthographic\"\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nsetCameraPerspective: function() {\r\n\tthis._scene.space.cameraType = \"perspective\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCameraOrthographic: function() {\r\n\tthis._scene.space.cameraType = \"orthographic\";\r\n\tthis.repaint();\r\n},\r\n\r\ngetCameraType : function () {\r\n\treturn this._scene.space.cameraType;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// trackball lock\r\n\r\ntoggleTrackballLock: function() {\r\n\tthis._scene.trackball.locked = !this._scene.trackball.locked;\r\n},\r\n\r\nsetTrackballLock: function(newState) {\r\n\tthis._scene.trackball.locked = newState;\r\n},\r\n\r\nisTrackballLockEnabled: function() {\r\n\treturn this._scene.trackball.locked;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// lighting\r\n\r\nenableSceneLighting: function(on) {\r\n\tthis._scene.space.sceneLighting = on;\r\n\r\n\tif(!on && this._movingLight) this._movingLight = on;\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nisSceneLightingEnabled: function() {\r\n\treturn this._scene.space.sceneLighting;\r\n},\r\n\r\nsetInstanceLightingByName : function (name, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useLighting = newState;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useLighting = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceLighting : function (tag, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useLighting = newState;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useLighting = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceLightingByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useLighting = !instances[name].useLighting;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceLighting : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceLightingEnabledByName : function (name) {\r\n\tvar Lighting = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn Lighting;\r\n},\r\n\r\nisInstanceLightingEnabled : function (tag) {\r\n\tvar Lighting = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\t\t\tLighting = true;\r\n\t\t\t\t\t\treturn Lighting;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn Lighting;\r\n}\r\n\r\n}; // Presenter.prototype END\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.    \r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nvar parsePly = (function(){\r\n\tvar canonicTypes = {\r\n\t\t\"char\"    : \"int8\",\r\n\t\t\"int8\"    : \"int8\",\r\n\t\t\"uchar\"   : \"uint8\",\r\n\t\t\"uint8\"   : \"uint8\",\r\n\t\t\"short\"   : \"int16\",\r\n\t\t\"int16\"   : \"int16\",\r\n\t\t\"ushort\"  : \"uint16\",\r\n\t\t\"uint16\"  : \"uint16\",\r\n\t\t\"int\"     : \"int32\",\r\n\t\t\"int32\"   : \"int32\",\r\n\t\t\"uint\"    : \"uint32\",\r\n\t\t\"uint32\"  : \"uint32\",\r\n\t\t\"float\"   : \"float32\",\r\n\t\t\"float32\" : \"float32\",\r\n\t\t\"double\"  : \"float64\",\r\n\t\t\"float64\" : \"float64\"\r\n\t};\r\n\r\n\tfunction trim(s) {\r\n\t\tvar r = s;\r\n\t\tvar n = r.length;\r\n\t\tvar i = 0;\r\n\t\tvar blanks = \" \\n\\r\\t\";\r\n\t\twhile ((i < n) && (blanks.indexOf(r.charAt(i)) >= 0)) { i++; }\r\n\t\tr = r.substring(i, r.length);\r\n\t\ti = r.length - 1;\r\n\t\twhile ((i > 0) && (blanks.indexOf(r.charAt(i)) >= 0)) { i--; }\r\n\t\tr = r.substring(0, i+1);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tfunction extractHeader(data) {\r\n\t\tif (!data || !data.view || !data.view.buffer) return null;\r\n\r\n\t\tvar u8 = new Uint8Array(data.view.buffer);\r\n\t\tvar endHeaderToken = \"end_header\";\r\n\t\tvar header = \"\";\r\n\t\tvar found  = false;\r\n\t\tvar currC  = null;\r\n\t\tvar prevC  = null;\r\n\t\tvar pos    = data.pos;\r\n\t\tvar p      = 0;\r\n\t\tvar n      = 0;\r\n\r\n\t\tfor (pos=0, n=u8.byteLength; pos<n; ++pos) {\r\n\t\t\tcurrC = String.fromCharCode(u8[pos]);\r\n\t\t\theader += currC;\r\n\t\t\tif (currC === \"\\n\") {\r\n\t\t\t\tif (pos >= endHeaderToken.length) {\r\n\t\t\t\t\tp = pos - endHeaderToken.length;\r\n\t\t\t\t\tif (prevC == \"\\r\") p--;\r\n\t\t\t\t\tif (header.substring(p, p + endHeaderToken.length) == endHeaderToken) {\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprevC = currC;\r\n\t\t}\r\n\r\n\t\tdata.pos = pos;\r\n\r\n\t\tif (!found) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tdata.pos++;\r\n\t\treturn header;\r\n\t}\r\n\r\n\tfunction splitHeader(header) {\r\n\t\tvar lines  = header.split(\"\\n\");\r\n\t\tvar trimmed = [ ];\r\n\t\tvar tokens  = null;\r\n\t\tvar s = null;\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\ts = trim(lines[i]);\r\n\t\t\tif (s) {\r\n\t\t\t\ttokens = s.split(\" \");\r\n\t\t\t\tif (tokens.length > 0) {\r\n\t\t\t\t\tfor (var j=0, m=tokens.length; j<m; ++j) {\r\n\t\t\t\t\t\ttokens[j] = trim(tokens[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrimmed.push(tokens);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn trimmed;\r\n\t}\r\n\r\n\tfunction parseHeader(header) {\r\n\t\tif (!header || header.length <= 0) return null;\r\n\t\tif (header[0][0] != \"ply\") return null;\r\n\r\n\t\tvar elem   = null;\r\n\t\tvar prop   = null;\r\n\t\tvar tokens = null;\r\n\t\tvar token  = null;\r\n\t\tvar tn     = 0;\r\n\r\n\t\tvar info = {\r\n\t\t\tformat     : null,\r\n\t\t\telements   : [ ],\r\n\t\t\telementMap : { },\r\n\t\t\tcomments   : [ ],\r\n\t\t\tothers     : [ ]\r\n\t\t};\r\n\r\n\t\tfor (var i=1; i<header.length-1; ++i) {\r\n\t\t\ttokens = header[i];\r\n\t\t\ttn = tokens.length;\r\n\t\t\ttoken  = tokens[0].toLowerCase();\r\n\t\t\tswitch (token) {\r\n\t\t\t\tcase \"format\":\r\n\t\t\t\t\tif (tn >= 3) {\r\n\t\t\t\t\t\tinfo.format = {\r\n\t\t\t\t\t\t\tname    : tokens[1],\r\n\t\t\t\t\t\t\tversion : tokens[2],\r\n\t\t\t\t\t\t\tbinary  : (tokens[1].toLowerCase().indexOf(\"binary\") >= 0),\r\n\t\t\t\t\t\t\tlittleEndian : ((tokens[1].toLowerCase()) == \"binary_little_endian\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"comment\":\r\n\t\t\t\t\tinfo.comments.push(tokens.slice(1));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"element\":\r\n\t\t\t\t\tif (tn >= 3) {\r\n\t\t\t\t\t\telem = {\r\n\t\t\t\t\t\t\tname  : tokens[1],\r\n\t\t\t\t\t\t\tcount : parseInt(tokens[2]),\r\n\t\t\t\t\t\t\tproperties  : [ ],\r\n\t\t\t\t\t\t\tpropertyMap : { }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tinfo.elements.push(elem);\r\n\t\t\t\t\t\tinfo.elementMap[elem.name.toLowerCase()] = elem;\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"property\":\r\n\t\t\t\t\tif (elem && (tn >= 3)) {\r\n\t\t\t\t\t\tprop = {\r\n\t\t\t\t\t\t\tname : tokens[tn-1],\r\n\t\t\t\t\t\t\ttype : tokens.slice(1, tn - 1)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\telem.properties.push(prop);\r\n\t\t\t\t\t\telem.propertyMap[prop.name.toLowerCase()] = prop;\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tinfo.others.push(tokens.slice());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!info.format) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn info;\r\n\t}\r\n\r\n\tvar tabStr = \"\\t\";\r\n\r\n\tfunction setupLines(lines, tabs) {\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\tlines[i] = tabs + lines[i];\r\n\t\t}\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadValue(assignExpr, types, index, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = [ ];\r\n\t\tvar type  = types[index];\r\n\r\n\t\tif (type.toLowerCase() == \"list\") {\r\n\t\t\tvar nIde = \"n\" + level;\r\n\t\t\tvar vIde = \"v\" + level;\r\n\t\t\tvar iIde = \"i\" + level;\r\n\r\n\t\t\tnewIdentifiers[nIde] = true;\r\n\t\t\tnewIdentifiers[vIde] = true;\r\n\t\t\tnewIdentifiers[iIde] = true;\r\n\r\n\t\t\tlevel++;\r\n\t\t\tindex++;\r\n\r\n\t\t\tlines = lines.concat(lines, generateReadValue(/*\"var \" + */ \"\" + nIde, types, index, binary, littleEndian, \"\", level, newIdentifiers));\r\n\t\t\tindex++;\r\n\t\r\n\t\t\tlines.push(/*\"var \" + */ vIde + \" = new Array(\" + nIde + \");\");\r\n\t\t\tlines.push(\"for (\" + /*\"var \" + */ iIde +\"=0; \" + iIde + \"<\" + nIde + \"; ++\" + iIde + \") {\");\r\n\t\t\tlines = lines.concat(generateReadValue(vIde + \"[\" + iIde + \"]\", types, index, binary, littleEndian, tabStr, level, newIdentifiers));\r\n\t\t\t//lines.push(\"\");\r\n\t\t\tlines.push(\"}\");\r\n\t\t\tlines.push(assignExpr + \" = \" + vIde + \";\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (binary) {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase \"char\":\r\n\t\t\t\t\tcase \"int8\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt8(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"uchar\":\r\n\t\t\t\t\tcase \"uint8\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint8(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"short\":\r\n\t\t\t\t\tcase \"int16\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt16(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 2;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"ushort\":\r\n\t\t\t\t\tcase \"uint16\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint16(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 2;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"int\":\r\n\t\t\t\t\tcase \"int32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"uint\":\r\n\t\t\t\t\tcase \"uint32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"float\":\r\n\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getFloat32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"double\":\r\n\t\t\t\t\tcase \"float64\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getFloat64(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 8;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase \"char\"   :\r\n\t\t\t\t\tcase \"int8\"   :\r\n\t\t\t\t\tcase \"uchar\"  :\r\n\t\t\t\t\tcase \"uint8\"  :\r\n\t\t\t\t\tcase \"short\"  :\r\n\t\t\t\t\tcase \"int16\"  :\r\n\t\t\t\t\tcase \"ushort\" :\r\n\t\t\t\t\tcase \"uint16\" :\r\n\t\t\t\t\tcase \"int\"    :\r\n\t\t\t\t\tcase \"int32\"  :\r\n\t\t\t\t\tcase \"uint\"   :\r\n\t\t\t\t\tcase \"uint32\" :\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = parseInt(view[pos]);\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"float\"   :\r\n\t\t\t\t\tcase \"float32\" :\r\n\t\t\t\t\tcase \"double\"   :\r\n\t\t\t\t\tcase \"float64\" :\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = parseFloat(view[pos]);\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadProperty(assignExpr, types, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = generateReadValue(assignExpr, types, 0, binary, littleEndian, \"\", level, newIdentifiers);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadElement(assignExpr, props, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar p  = null;\r\n\t\tvar lines = [ ];\r\n\t\tfor (var i=0, n=props.length; i<n; ++i) {\r\n\t\t\tp = props[i];\r\n\t\t\tlines = lines.concat(generateReadProperty(assignExpr + \"[\\\"\" + p.name + \"\\\"]\", p.type, binary, littleEndian, \"\", level, newIdentifiers));\r\n\t\t\tlines.push(\"\");\r\n\t\t}\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadElements(elemIndex, elem, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = [ ];\r\n\t\tvar nIde  = \"n\" + level;\r\n\t\tvar iIde  = \"i\" + level;\r\n\t\tlevel++;\r\n\r\n\t\tnewIdentifiers[nIde]      = true;\r\n\t\tnewIdentifiers[iIde]      = true;\r\n\t\tnewIdentifiers[\"element\"] = true;\r\n\t\tnewIdentifiers[\"elem\"]    = true;\r\n\t\tnewIdentifiers[\"args\"]    = true;\r\n\r\n\t\tlines.push(/*\"var \" + */ \"element = info.elements[\" + elemIndex + \"];\");\r\n\t\tlines.push(/*\"var \" + */ nIde + \" = element.count;\");\r\n\t\tlines.push(/*\"var \" + */ \"elem = { };\");\r\n\t\tlines.push(/*\"var \" + */ \"args = [ info, element, 0, elem];\");\r\n\r\n\t\tlines.push(\"callbacks.onBeginElements.call(handler, info, element);\");\r\n\r\n\t\tlines.push(\"for (\" + /*\"var \" + */ iIde +\"=0; \" + iIde + \"<\" + nIde + \"; ++\" + iIde + \") {\");\r\n\t\tlines = lines.concat(generateReadElement(\"elem\", elem.properties, binary, littleEndian, tabStr, level, newIdentifiers));\r\n\t\tlines.push(tabStr + \"args[2] = \" + iIde + \";\");\r\n\t\tlines.push(tabStr + \"callbacks.onElement.apply(handler, args);\");\r\n\t\tlines.push(\"}\");\r\n\r\n\t\tlines.push(\"callbacks.onEndElements.call(handler, info, element);\");\r\n\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadMesh(elems, binary, littleEndian) {\r\n\t\tvar lines = [ ];\r\n\t\tlines.push(\"function (data, info, callbacks, handler) {\");\r\n\t\tlines.push(tabStr + \"var view = data.view;\");\r\n\t\tlines.push(tabStr + \"var pos  = data.pos;\");\r\n\t\tlines.push(\"\");\r\n\r\n\t\tvar newIdentifiers = { };\r\n\r\n\t\tvar elementLines = [ ];\r\n\t\tfor (var i=0, n=elems.length; i<n; ++i) {\r\n\t\t\telementLines = elementLines.concat(generateReadElements(i, elems[i], binary, littleEndian, tabStr, 0, newIdentifiers));\r\n\t\t\telementLines.push(\"\");\r\n\t\t}\r\n\r\n\t\tvar ides = [ ];\r\n\t\tfor (var ide in newIdentifiers) {\r\n\t\t\tides.push(ide);\r\n\t\t}\r\n\t\tides.sort();\r\n\t\tlines.push(tabStr + \"var \" + ides.join(\", \") + \";\");\r\n\t\tlines.push(\"\");\r\n\r\n\t\tlines.push(tabStr + \"callbacks.onBeginContent.call(handler, info);\");\r\n\t\tlines = lines.concat(elementLines);\r\n\t\tlines.push(tabStr + \"callbacks.onEndContent.call(handler, info);\");\r\n\r\n\t\tlines.push(tabStr + \"data.pos = pos;\");\r\n\t\tlines.push(\"}\");\r\n\r\n\t\tsetupLines(lines, \"\");\r\n\t\tvar s = \"\";\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\ts += lines[i] + \"\\n\";\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\tfunction getMeshInfo(data) {\r\n\t\tif (!data) return null;\r\n\r\n\t\tvar header = extractHeader(data);\r\n\t\tif (!header) return null;\r\n\r\n\t\tvar tokens = splitHeader(header);\r\n\t\tif (!tokens) return null;\r\n\r\n\t\tvar info = parseHeader(tokens);\r\n\t\tif (!info) return null;\r\n\r\n\t\treturn info;\r\n\t}\r\n\r\n\tfunction mainParsePly(buffer, handler) {\r\n\t\tif (!buffer) return null;\r\n\r\n\t\tfunction emptyFunc() { };\r\n\r\n\t\thandler = handler || { };\r\n\t\tvar callbacks = {\r\n\t\t\tonBegin                 : (handler.onBegin         || emptyFunc),\r\n\t\t\t\tonHeader            : (handler.onHeader        || emptyFunc),\r\n\t\t\t\tonBeginContent      : (handler.onBeginContent  || emptyFunc),\r\n\t\t\t\t\tonBeginElements : (handler.onBeginElements || emptyFunc),\r\n\t\t\t\t\t\tonElement   : (handler.onElement       || emptyFunc),\r\n\t\t\t\t\tonEndElements   : (handler.onEndElements   || emptyFunc),\r\n\t\t\t\tonEndContent        : (handler.onEndContent    || emptyFunc),\r\n\t\t\tonEnd                   : (handler.onEnd           || emptyFunc)\r\n\t\t};\r\n\r\n\t\tvar dataView = new DataView(buffer);\r\n\t\tvar data = {\r\n\t\t\tview : dataView,\r\n\t\t\tpos  : 0\r\n\t\t};\r\n\r\n\t\tvar info = getMeshInfo(data);\r\n\t\tif (!info) return false;\r\n\r\n\t\tif (!info.format.binary) {\r\n\t\t\tdata.view = Array.prototype.map.call(\r\n\t\t\t\tnew Uint8Array(buffer, data.pos),\r\n\t\t\t\tfunction (x) {\r\n\t\t\t\t\treturn String.fromCharCode(x);\r\n\t\t\t\t}\r\n\t\t\t).join(\"\").split(\" \");\r\n\t\t\tdata.pos = 0;\r\n\t\t}\r\n\r\n\t\tfor (var i in info.comments) {\r\n\t\t\tif (info.comments[i][0]==\"TextureFile\") handler._textureUrl = info.comments[i][1];\r\n\t\t}\r\n\r\n\t\tvar readMeshStr  = generateReadMesh(info.elements, info.format.binary, info.format.littleEndian);\r\n\t\tvar readMeshFunc = eval(\"(\" + readMeshStr + \")\");\r\n\r\n\t\tfor (var e in info.elements) {\r\n\t\t\tfor (var p in info.elements[e].propertyMap) {\r\n\t\t\t\tinfo.elements[e].propertyMap[p].canonicType = canonicTypes[info.elements[e].propertyMap[p].type];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcallbacks.onBegin.call(handler);\r\n\t\t\tcallbacks.onHeader.call(handler, info);\r\n\t\t\treadMeshFunc(data, info, callbacks, handler);\r\n\t\tcallbacks.onEnd.call(handler);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn mainParsePly;\r\n})();\r\n\r\nvar importPly = (function(){\r\n\tfunction emptyFunction() {\r\n\t}\r\n\r\n\tfunction propertiesTypes() {\r\n\t\tvar r = [ ];\r\n\t\tvar m = { };\r\n\t\tvar a = null;\r\n\t\tfor (var i=0; i<arguments.length; ++i) {\r\n\t\t\ta = arguments[i];\r\n\t\t\tif (!a) return r;\r\n\t\t\tm[a.canonicType] = 1;\r\n\t\t}\r\n\t\tfor (var t in m) {\r\n\t\t\tr.push(t);\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n\tfunction PlyHandler(buffer) {\r\n\t\tthis._buffer           = buffer;\r\n\r\n\t\tthis._modelDescriptor  = null;\r\n\r\n\t\tthis._verticesCount    = 0;\r\n\t\tthis._vertexAttributes = null;\r\n\t\tthis._vertexStride     = 0;\r\n\t\tthis._vertexBuffer     = null;\r\n\t\tthis._handleVertex     = emptyFunction;\r\n\r\n\t\tthis._facesCount       = 0;\r\n\t\tthis._indexBuffer      = null;\r\n\t\tthis._handleFace       = emptyFunction;\r\n\r\n\t\tthis._view             = null;\r\n\r\n\t\tthis._hasPosition      = null;\r\n\t\tthis._hasNormal        = null;\r\n\t\tthis._hasColor         = null;\r\n\t\tthis._hasTexCoord      = null;\r\n\r\n\t\tthis._textureUrl       = null;\r\n\r\n\t\tthis._renderMode       = [\"POINT\"];\r\n\r\n\t\tthis._boundingBox      = { \r\n\t\t\tmin: [ 1000000.0, 1000000.0, 1000000.0], \r\n\t\t\tmax: [-1000000.0,-1000000.0,-1000000.0]\r\n\t\t};\r\n\t}\r\n\r\n\tPlyHandler.prototype = {\r\n\t\tget modelDescriptor() {\r\n\t\t\treturn this._modelDescriptor;\r\n\t\t},\r\n\r\n\t\tonBegin : function () {\r\n\t\t},\r\n\r\n\t\tonHeader : function (header) {\r\n\t\t\tvar tabStr = \"\\t\";\r\n\r\n\t\t\tvar elem   = null;\r\n\t\t\tvar props  = null;\r\n\t\t\tvar ptypes = null;\r\n\r\n\t\t\tvar verticesCount    = 0;\r\n\t\t\tvar vertexLines      = null;\r\n\t\t\tvar vertexAttributes = { };\r\n\t\t\tvar vertexStride     = 0;\r\n\r\n\t\t\tvar hasPosition = false;\r\n\t\t\tvar hasNormal   = false;\r\n\t\t\tvar hasColor    = false;\r\n\t\t\tvar hasTexCoord = false;\r\n\r\n\t\t\telem  = header.elementMap[\"vertex\"];\r\n\t\t\tif (elem && elem.count > 0) {\r\n\t\t\t\tverticesCount = elem.count;\r\n\t\t\t\tprops = elem.propertyMap;\r\n\r\n\t\t\t\tvertexLines = [ ];\r\n\r\n\t\t\t\tvertexLines.push(\"function (header, elementInfo, index, element) {\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var sf32         = SpiderGL.Type.SIZEOF_FLOAT32;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var sui8         = SpiderGL.Type.SIZEOF_UINT8;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var offset       = index * this._vertexStride;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var view         = this._view;\");\r\n\t\t\t\tvertexLines.push(\"\");\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"x\"], props[\"y\"], props[\"z\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasPosition = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.x, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.y, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.z, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"position\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 3,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 3 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"nx\"], props[\"ny\"], props[\"nz\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasNormal = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.nx, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.ny, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.nz, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"normal\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 3,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 3 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"red\"], props[\"green\"], props[\"blue\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasColor = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"uint8\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.red  ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.green); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.blue ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, 255          ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"color\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 4,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.UINT8,\r\n\t\t\t\t\t\t\t\toffset : vertexStride,\r\n\t\t\t\t\t\t\t\tnormalized : true\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 4 * SpiderGL.Type.SIZEOF_UINT8;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.red,   littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.green, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.blue,  littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, 1.0,           littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"color\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 4,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 4 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"texture_u\"], props[\"texture_v\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasTexCoord = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.texture_u, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.texture_v, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"texturecoord\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 2,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 2 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvertexLines.push(\"}\");\r\n\t\t\t}\r\n\r\n\t\t\tvar facesCount = 0;\r\n\t\t\tvar faceLines  = null;\r\n\r\n\t\t\telem  = header.elementMap[\"face\"];\r\n\t\t\tif (elem && elem.count > 0) {\r\n\t\t\t\tfacesCount = elem.count;\r\n\t\t\t\tprops = elem.propertyMap;\r\n\r\n\t\t\t\tfaceLines = [ ];\r\n\r\n\t\t\t\tfaceLines.push(\"function (header, elementInfo, index, element) {\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var sui32        = SpiderGL.Type.SIZEOF_UINT32;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var offset       = index * 3 * sui32;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var view         = this._view;\");\r\n\t\t\t\tfaceLines.push(\"\");\r\n\r\n\t\t\t\tif (props[\"vertex_indices\"]) {\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[0], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[1], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[2], littleEndian); offset += sui32;\");\r\n\t\t\t\t}\r\n\t\t\t\telse if (props[\"vertex_index\"]) {\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[0], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[1], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[2], littleEndian); offset += sui32;\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfacesCount = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfaceLines.push(\"}\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._mesh = null;\r\n\r\n\t\t\tthis._hasPosition      = hasPosition;\r\n\t\t\tthis._hasNormal        = hasNormal;\r\n\t\t\tthis._hasColor         = hasColor;\r\n\t\t\tthis._hasTexCoord      = hasTexCoord;\r\n\r\n\t\t\tthis._verticesCount    = verticesCount;\r\n\t\t\tthis._vertexAttributes = vertexAttributes;\r\n\t\t\tthis._vertexStride     = vertexStride;\r\n\t\t\tthis._vertexBuffer     = null;\r\n\t\t\tthis._handleVertex     = emptyFunction;\r\n\r\n\t\t\tif (vertexStride > 0) {\r\n\t\t\t\tvar vertexFuncStr = vertexLines.join(\"\\n\");\r\n\t\t\t\tthis._handleVertex = eval(\"(\" + vertexFuncStr + \")\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._facesCount   = facesCount;\r\n\t\t\tthis._indexBuffer  = null;\r\n\t\t\tthis._handleFace   = emptyFunction;\r\n\r\n\t\t\tif (facesCount > 0) {\r\n\t\t\t\tvar faceFuncStr = faceLines.join(\"\\n\");\r\n\t\t\t\tthis._handleFace = eval(\"(\" + faceFuncStr + \")\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonBeginContent : function (header) {\r\n\t\t},\r\n\r\n\t\tonBeginElements : function (header, elementInfo) {\r\n\t\t\tswitch (elementInfo.name) {\r\n\t\t\t\tcase \"vertex\":\r\n\t\t\t\t\tthis._vertexBuffer  = new ArrayBuffer(this._verticesCount * this._vertexStride);\r\n\t\t\t\t\tthis._view          = new DataView(this._vertexBuffer);\r\n\t\t\t\t\tthis._handleElement = this._handleVertex;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"face\":\r\n\t\t\t\t\tthis._indexBuffer   = new ArrayBuffer(this._facesCount * 3 * SpiderGL.Type.SIZEOF_UINT32);\r\n\t\t\t\t\tthis._view          = new DataView(this._indexBuffer);\r\n\t\t\t\t\tthis._handleElement = this._handleFace;\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis._view          = null;\r\n\t\t\t\t\tthis._handleElement = emptyFunction;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonElement : function (header, elementInfo, index, element) {\r\n\t\t\t// bounding box calculation\r\n\t\t\tif (elementInfo.name==\"vertex\"){\r\n\t\t\t\tif(element.x < this._boundingBox.min[0])\r\n\t\t\t\t\tthis._boundingBox.min[0] = element.x;\r\n\t\t\t\tif(element.y < this._boundingBox.min[1])\r\n\t\t\t\t\tthis._boundingBox.min[1] = element.y;\r\n\t\t\t\tif(element.z < this._boundingBox.min[2])\r\n\t\t\t\t\tthis._boundingBox.min[2] = element.z;\r\n\t\t\t\t\t\r\n\t\t\t\tif(element.x > this._boundingBox.max[0])\r\n\t\t\t\t\tthis._boundingBox.max[0] = element.x;\r\n\t\t\t\tif(element.y > this._boundingBox.max[1])\r\n\t\t\t\t\tthis._boundingBox.max[1] = element.y;\r\n\t\t\t\tif(element.z > this._boundingBox.max[2])\r\n\t\t\t\t\tthis._boundingBox.max[2] = element.z;\r\n\t\t\t}\r\n\r\n\t\t\tthis._handleElement(header, elementInfo, index, element);\r\n\t\t},\r\n\r\n\t\tonEndElements : function (header, elementInfo) {\r\n\t\t\tthis._view          = null;\r\n\t\t\tthis._handleElement = emptyFunction;\r\n\t\t},\r\n\r\n\t\tonEndContent : function () {\r\n\t\t},\r\n\r\n\t\tonEnd : function () {\r\n\t\t\tif ((this._verticesCount <= 0) && (this._facesCount <= 0)) return;\r\n\r\n//\t\t\tvar gl = this._gl;\r\n\t\t\tvar modelDescriptor = {\r\n\t\t\t\tversion : \"0.0.1.0 EXP\",\r\n\t\t\t\tmeta : {\r\n\t\t\t\t},\r\n\t\t\t\tdata : {\r\n\t\t\t\t\tvertexBuffers : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tindexBuffers : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\taccess : {\r\n\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsemantic : {\r\n\t\t\t\t\tbindings : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tchunks : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlogic : {\r\n\t\t\t\t\tparts : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcontrol : {\r\n\t\t\t\t},\r\n\t\t\t\textra : {\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar modelVertexBuffers    = modelDescriptor.data.vertexBuffers;\r\n\t\t\tvar modelIndexBuffers     = modelDescriptor.data.indexBuffers;\r\n\t\t\tvar modelVertexStreams    = modelDescriptor.access.vertexStreams;\r\n\t\t\tvar modelPrimitiveStreams = modelDescriptor.access.primitiveStreams;\r\n\t\t\tvar modelBindings         = modelDescriptor.semantic.bindings;\r\n\t\t\tvar modelChunks           = modelDescriptor.semantic.chunks;\r\n\t\t\tvar modelParts            = modelDescriptor.logic.parts;\r\n\r\n\t\t\tmodelDescriptor.extra.boundingBox = this._boundingBox;\r\n\r\n\t\t\tmodelDescriptor.extra.renderMode = this._renderMode;\r\n\r\n\t\t\tmodelDescriptor.extra.hasPosition = this._hasPosition;\r\n\t\t\tmodelDescriptor.extra.hasNormal   = this._hasNormal;\r\n\t\t\tmodelDescriptor.extra.hasColor    = this._hasColor;\r\n\t\t\tmodelDescriptor.extra.hasTexCoord = this._hasTexCoord;\r\n\r\n\t\t\tmodelDescriptor.extra.textureUrl = this._textureUrl;\r\n\r\n\t\t\tvar maxVerticesCount = (1 << 16) - 1;\r\n\r\n\t\t\tvar baseVertexBufferName = \"mainVertexBuffer\";\r\n\t\t\tvar baseIndexBufferName  = \"mainIndexBuffer\";\r\n\t\t\tvar baseBindingName      = \"mainBinding\";\r\n\t\t\tvar baseChunkName        = \"mainChunk\";\r\n\t\t\tvar basePointStreamName  = \"vertices\";\r\n\t\t\tvar baseTriStreamName    = \"triangles\";\r\n\t\t\tvar basePartName         = \"mainPart\";\r\n\r\n\t\t\tif (this._facesCount > 0) {\r\n\t\t\t\tvar littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\r\n\t\t\t\tvar indexStride  = SpiderGL.Type.SIZEOF_UINT32;\r\n\t\t\t\tvar wholeSize    = Float64Array.BYTES_PER_ELEMENT;\r\n\r\n\t\t\t\tvar stride       = this._vertexStride;\r\n\t\t\t\tvar partCount    = stride % wholeSize;\r\n\t\t\t\tvar wholeCount   = (stride - partCount) / wholeSize;\r\n\r\n\t\t\t\tvar vertexBufferView = new Uint8Array(this._vertexBuffer);\r\n\t\t\t\tvar indexBufferView  = new Uint32Array(this._indexBuffer);\r\n\r\n\t\t\t\tvar chunksCount        = 0;\r\n\t\t\t\tvar chunkVertexBuffers = [ ];\r\n\t\t\t\tvar chunkVerticesCount = [ ];\r\n\t\t\t\tvar chunkIndexBuffers  = [ ];\r\n\t\t\t\tvar chunkIndicesCount  = [ ];\r\n\r\n\t\t\t\tvar facesLeft        = this._facesCount;\r\n\t\t\t\tvar currFaceIndex    = 0;\r\n\r\n\t\t\t\tvar indicesBuffer = new Uint32Array(this._facesCount * 3);\r\n\r\n\t\t\t\twhile (facesLeft > 0) {\r\n\t\t\t\t\tvar verticesMap   = new Uint32Array(this._verticesCount);\r\n\t\t\t\t\tvar verticesNew   = new Uint32Array(maxVerticesCount);\r\n\t\t\t\t\tvar verticesCount = 0;\r\n\t\t\t\t\tvar indicesCount  = 0;\r\n\t\t\t\t\tvar facesCount    = 0;\r\n\r\n\t\t\t\t\twhile ((verticesCount <= (maxVerticesCount - 3)) && (facesLeft > 0)) {\r\n\t\t\t\t\t\tfor (var k=0; k<3; ++k, ++currFaceIndex) {\r\n\t\t\t\t\t\t\tvar v = indexBufferView[currFaceIndex];\r\n\t\t\t\t\t\t\tvar r = verticesMap[v];\r\n\t\t\t\t\t\t\tif (!r) {\r\n\t\t\t\t\t\t\t\tverticesNew[verticesCount++] = v;\r\n\t\t\t\t\t\t\t\tverticesMap[v] = verticesCount;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindicesBuffer[indicesCount++] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfacesLeft--;\r\n\t\t\t\t\t\tfacesCount++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (facesCount <= 0) continue;\r\n\r\n\t\t\t\t\tvar chunkVertexBuffer     = new ArrayBuffer(verticesCount * stride);\r\n\t\t\t\t\tvar chunkVertexBufferView = new Uint8Array(chunkVertexBuffer);\r\n\t\t\t\t\tvar chunkIndexBuffer      = new Uint16Array(indicesCount);\r\n\r\n\t\t\t\t\tfor (var i=0; i<indicesCount; ++i) {\r\n\t\t\t\t\t\tchunkIndexBuffer[i] = verticesMap[indicesBuffer[i]] - 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar s = 0;\r\n\t\t\t\t\tfor (var i=0, d=0; i<verticesCount; ++i, d+=stride) {\r\n\t\t\t\t\t\ts = verticesNew[i] * stride;\r\n\t\t\t\t\t\tchunkVertexBufferView.set(vertexBufferView.subarray(s, s + stride), d);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tchunkVertexBuffers.push(chunkVertexBuffer);\r\n\t\t\t\t\tchunkVerticesCount.push(verticesCount);\r\n\t\t\t\t\tchunkIndexBuffers.push(chunkIndexBuffer);\r\n\t\t\t\t\tchunkIndicesCount.push(indicesCount);\r\n\t\t\t\t\tchunksCount++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar partChunks = new Array(chunksCount);\r\n\r\n\t\t\t\tfor (var i=0; i<chunksCount; ++i) {\r\n\t\t\t\t\tvar vertexBufferName = baseVertexBufferName + i;\r\n\t\t\t\t\tvar indexBufferName  = baseIndexBufferName  + i;\r\n\t\t\t\t\tvar bindingName      = baseBindingName      + i;\r\n\t\t\t\t\tvar chunkName        = baseChunkName        + i;\r\n\r\n\t\t\t\t\tmodelVertexBuffers[vertexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : chunkVertexBuffers[i]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar binding = {\r\n\t\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmodelBindings[bindingName] = binding;\r\n\r\n\t\t\t\t\tfor (var a in this._vertexAttributes) {\r\n\t\t\t\t\t\tvar attr = this._vertexAttributes[a];\r\n\t\t\t\t\t\tvar vertexStreamName = a + i;\r\n\t\t\t\t\t\tmodelVertexStreams[vertexStreamName] = {\r\n\t\t\t\t\t\t\tbuffer : vertexBufferName,\r\n\t\t\t\t\t\t\tsize   : attr.size,\r\n\t\t\t\t\t\t\ttype   : attr.type,\r\n\t\t\t\t\t\t\tstride : this._vertexStride,\r\n\t\t\t\t\t\t\toffset : attr.offset,\r\n\t\t\t\t\t\t\tnormalized : !!attr.normalized\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbinding.vertexStreams[a.toUpperCase()] = [vertexStreamName];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmodelIndexBuffers[indexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : chunkIndexBuffers[i]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar pointStreamName = basePointStreamName + i;\r\n\t\t\t\t\tmodelPrimitiveStreams[pointStreamName] = {\r\n\t\t\t\t\t\tmode  : SpiderGL.Type.POINTS,\r\n\t\t\t\t\t\tcount : chunkVerticesCount[i]\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"POINT\"] = [pointStreamName];\r\n\r\n\t\t\t\t\tvar triStreamName = baseTriStreamName + i;\r\n\t\t\t\t\tmodelPrimitiveStreams[triStreamName] = {\r\n\t\t\t\t\t\tbuffer : indexBufferName,\r\n\t\t\t\t\t\tmode   : SpiderGL.Type.TRIANGLES,\r\n\t\t\t\t\t\tcount  : chunkIndicesCount[i],\r\n\t\t\t\t\t\ttype   : SpiderGL.Type.UINT16,\r\n\t\t\t\t\t\toffset : 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"FILL\"] = [triStreamName];\r\n\r\n\t\t\t\t\tvar chunk = {\r\n\t\t\t\t\t\ttechniques : {\r\n\t\t\t\t\t\t\t\"common\" : {\r\n\t\t\t\t\t\t\t\tbinding : bindingName\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmodelChunks[chunkName] = chunk;\r\n\r\n\t\t\t\t\tpartChunks[i] = chunkName;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmodelParts[basePartName] = {\r\n\t\t\t\t\tchunks : partChunks\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis._renderMode.unshift(\"FILL\");\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar binding = {\r\n\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tmodelBindings[baseBindingName] = binding;\r\n\r\n\t\t\t\tif (this._verticesCount > 0) {\r\n\t\t\t\t\tvar vertexBufferName = baseVertexBufferName;\r\n\t\t\t\t\tmodelVertexBuffers[vertexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : this._vertexBuffer\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tfor (var a in this._vertexAttributes) {\r\n\t\t\t\t\t\tvar attr = this._vertexAttributes[a];\r\n\t\t\t\t\t\tmodelVertexStreams[a] = {\r\n\t\t\t\t\t\t\tbuffer : vertexBufferName,\r\n\t\t\t\t\t\t\tsize   : attr.size,\r\n\t\t\t\t\t\t\ttype   : attr.type,\r\n\t\t\t\t\t\t\tstride : this._vertexStride,\r\n\t\t\t\t\t\t\toffset : attr.offset,\r\n\t\t\t\t\t\t\tnormalized : !!attr.normalized\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbinding.vertexStreams[a.toUpperCase()] = [a];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmodelPrimitiveStreams[basePointStreamName] = {\r\n\t\t\t\t\t\tmode   : SpiderGL.Type.POINTS,\r\n\t\t\t\t\t\tcount  : this._verticesCount\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"POINT\"] = [basePointStreamName];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((this._verticesCount > 0) || (this._facesCount > 0)) {\r\n\t\t\t\t\tmodelChunks[baseChunkName] = {\r\n\t\t\t\t\t\ttechniques : {\r\n\t\t\t\t\t\t\t\"common\" : {\r\n\t\t\t\t\t\t\t\tbinding : baseBindingName\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tmodelParts[basePartName] = {\r\n\t\t\t\t\t\tchunks : [baseChunkName]\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._modelDescriptor = modelDescriptor;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction mainImportPly(buffer) {\r\n\t\tvar handler = new PlyHandler(buffer);\r\n\t\tparsePly(buffer, handler);\r\n\t\tvar modelDescriptor = handler.modelDescriptor;\r\n\t\treturn modelDescriptor;\r\n\t};\r\n\r\n\treturn mainImportPly;\r\n})();\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a PanTiltTrackball object.\r\n * @class Interactor which implements a pan-tilt trackball controller with bounds.\r\n */\r\nfunction PanTiltTrackball() {\r\n}\r\n\r\nPanTiltTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPanX     : 0.0,\r\n\t\t\tstartPanY     : 0.0,\r\n\t\t\tstartAngleX   : 0.0,\r\n\t\t\tstartAngleY   : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPanX    : [-0.7, 0.7],\r\n\t\t\tminMaxPanY    : [-0.7, 0.7],\r\n\t\t\tminMaxAngleX  : [-70.0, 70.0],\r\n\t\t\tminMaxAngleY  : [-70.0, 70.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPanX = opt.startPanX;\t\t\t\t\t//pan X\r\n\t\tthis._startPanY = opt.startPanY;\t\t\t\t\t//pan Y\r\n\t\tthis._startAngleX = sglDegToRad(opt.startAngleX);\t//angle X\r\n\t\tthis._startAngleY = sglDegToRad(opt.startAngleY);\t//angle Y\r\n\t\tthis._startDistance = opt.startDistance;\t\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._angleX = this._startAngleX;\r\n\t\tthis._angleY = this._startAngleY;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPanX = this._startPanX;\r\n\t\tthis._targetPanY = this._startPanY;\r\n\t\tthis._targetAngleX = this._startAngleX;\r\n\t\tthis._targetAngleY = this._startAngleY;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPanX = 0.0;\r\n\t\tthis._speedPanY = 0.0;\r\n\t\tthis._speedAngleX = 0.0;\r\n\t\tthis._speedAngleY = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t//limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tthis._minMaxPanX   = opt.minMaxPanX;\r\n\t\tthis._minMaxPanY   = opt.minMaxPanY;\r\n\t\tthis._minMaxAngleX = opt.minMaxAngleX;\r\n\t\tthis._minMaxAngleX[0] = sglDegToRad(this._minMaxAngleX[0]);\r\n\t\tthis._minMaxAngleX[1] = sglDegToRad(this._minMaxAngleX[1]);\r\n\t\tthis._minMaxAngleY = opt.minMaxAngleY;\r\n\t\tthis._minMaxAngleY[0] = sglDegToRad(this._minMaxAngleY[0]);\r\n\t\tthis._minMaxAngleY[1] = sglDegToRad(this._minMaxAngleY[1]);\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._angleY, [1.0, 0.0, 0.0]));\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._angleX, [0.0, -1.0, 0.0]));\r\n\t\t// pan\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([this._panX, this._panY, 0.0]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [this._panX, this._panY, sglRadToDeg(this._angleX), sglRadToDeg(this._angleY), this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._panX     = newstate[0];\r\n\t\tthis._panY     = newstate[1];\r\n\t\tthis._angleX   = sglDegToRad(newstate[2]);\r\n\t\tthis._angleY   = sglDegToRad(newstate[3]);\r\n\t\tthis._distance = newstate[4];\r\n\r\n\t\t//check limits\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._angleX = this._clamp(this._angleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\tthis._angleY = this._clamp(this._angleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPanX     = newstate[0];\r\n\t\t\tthis._targetPanY     = newstate[1];\r\n\t\t\tthis._targetAngleX   = sglDegToRad(newstate[2]);\r\n\t\t\tthis._targetAngleY   = sglDegToRad(newstate[3]);\r\n\t\t\tthis._targetDistance = newstate[4];\r\n\r\n\t\t\t//check limits\r\n\t\t\tthis._targetPanX = this._clamp(this._targetPanX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\t\tthis._targetPanY = this._clamp(this._targetPanY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\t\tthis._targetAngleX = this._clamp(this._targetAngleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\t\tthis._targetAngleY = this._clamp(this._targetAngleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPanX = 2.0;\r\n\t\t\tthis._speedPanY = 2.0;\r\n\t\t\tthis._speedAngleX = Math.PI;\r\n\t\t\tthis._speedAngleY = Math.PI;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePanX = Math.abs((this._targetPanX - this._panX) / this._speedPanX);\r\n\t\t\tvar timePanY = Math.abs((this._targetPanY - this._panY) / this._speedPanY);\r\n\t\t\tvar timeAngleX = Math.abs((this._targetAngleX - this._angleX) / this._speedAngleX);\r\n\t\t\tvar timeAngleY = Math.abs((this._targetAngleY - this._angleY) / this._speedAngleY);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\r\n\t\t\tvar maxtime = Math.max( timePanX, Math.max( timePanY, Math.max( timeAngleX, Math.max( timeAngleY, timeDistance ) ) ));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPanX     *= timePanX / animationtime;\r\n\t\t\tthis._speedPanY     *= timePanY / animationtime;\r\n\t\t\tthis._speedAngleX   *= timeAngleX / animationtime;\r\n\t\t\tthis._speedAngleY   *= timeAngleY / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tvar newpanX = -(newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = -(newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis.animateToState([newpanX, newpanY, sglRadToDeg(this._angleX), sglRadToDeg(this._angleY), (this._distance * 0.6)]);\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPanX     = this._speedPanX * dt;\r\n\t\tvar deltaPanY     = this._speedPanY * dt;\r\n\t\tvar deltaAngleX   = this._speedAngleX * dt;\r\n\t\tvar deltaAngleY   = this._speedAngleY * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\r\n\t\tvar diffPanX = this._targetPanX - this._panX;\r\n\t\tvar diffPanY = this._targetPanY - this._panY;\r\n\t\tvar diffAngleX = this._targetAngleX - this._angleX;\r\n\t\tvar diffAngleY = this._targetAngleY - this._angleY;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\r\n\t\tif (diffPanX > deltaPanX)\r\n\t\t\tthis._panX += deltaPanX;\r\n\t\telse if (diffPanX < -deltaPanX)\r\n\t\t\tthis._panX -= deltaPanX;\r\n\t\telse\r\n\t\t\tthis._panX = this._targetPanX;\r\n\r\n\t\tif (diffPanY > deltaPanY)\r\n\t\t\tthis._panY += deltaPanY;\r\n\t\telse if (diffPanY < -deltaPanY)\r\n\t\t\tthis._panY -= deltaPanY;\r\n\t\telse\r\n\t\t\tthis._panY = this._targetPanY;\r\n\r\n\t\tif (diffAngleX > deltaAngleX)\r\n\t\t\tthis._angleX += deltaAngleX;\r\n\t\telse if (diffAngleX < -deltaAngleX)\r\n\t\t\tthis._angleX -= deltaAngleX;\r\n\t\telse\r\n\t\t\tthis._angleX = this._targetAngleX;\r\n\r\n\t\tif (diffAngleY > deltaAngleY)\r\n\t\t\tthis._angleY += deltaAngleY;\r\n\t\telse if (diffAngleY < -deltaAngleY)\r\n\t\t\tthis._angleY -= deltaAngleY;\r\n\t\telse\r\n\t\t\tthis._angleY = this._targetAngleY;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif(this._panX == this._targetPanX)\r\n\t\t\tif(this._panX == this._targetPanX)\r\n\t\t\t\tif(this._angleX == this._targetAngleX)\r\n\t\t\t\t\tif(this._angleY == this._targetAngleY)\r\n\t\t\t\t\t\tif(this._distance == this._targetDistance){\r\n\t\t\t\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action()  { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._angleX = this._startAngleX;\r\n\t\tthis._angleY = this._startAngleY;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.pan(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._angleX += dx;\r\n\t\tthis._angleY += dy;\r\n\t\tthis._angleX = this._clamp(this._angleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\tthis._angleY = this._clamp(this._angleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t},\r\n\r\n\tpan: function(m, dx, dy) {\r\n\t\tvar panSpeed = Math.max(Math.min(1.5, this._distance),0.05);\r\n\t\tthis._panX -= dx/2.0 * panSpeed; \r\n\t\tthis._panY -= dy/2.0 * panSpeed;\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a SphereTrackball object.\r\n * @class Interactor which implements a full spherical trackball controller.\r\n */\r\nfunction SphereTrackball() {\r\n}\r\n\r\nSphereTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._sphereMatrix = SglMat4.identity();\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startDistance = opt.startDistance; //distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t//limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\r\n\t\tthis._pts    = [ [0.0, 0.0], [0.0, 0.0] ];\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\tclamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// spheretrack\r\n\t\tm = SglMat4.mul(m, this._sphereMatrix);\r\n\r\n\t\tthis._matrix = m;\r\n\t  \r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\t_projectOnSphere : function(x, y) {\r\n\t\tvar r = 1.0;\r\n\r\n\t\tvar z = 0.0;\r\n\t\tvar d = sglSqrt(x*x + y*y);\r\n\t\tif (d < (r * 0.70710678118654752440)) {\r\n\t\t\t/* Inside sphere */\r\n\t\t\tz = sglSqrt(r*r - d*d);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t/* On hyperbola */\r\n\t\t\tt = r / 1.41421356237309504880;\r\n\t\t\tz = t*t / d;\r\n\t\t}\r\n\t\treturn z;\r\n\t},\r\n\r\n\t_transform : function(m, x, y, z) {\r\n\t\treturn SglMat4.mul4(m, [x, y, z, 0.0]);\r\n\t},\r\n\r\n\t_transformOnSphere : function(m, x, y) {\r\n\t\tvar z = this._projectOnSphere(x, y);\r\n\t\treturn this._transform(m, x, y, z);\r\n\t},\r\n\r\n\t_translate : function(offset, f) {\r\n\t\tvar invMat = SglMat4.inverse(this._sphereMatrix);\r\n\t\tvar t = SglVec3.to4(offset, 0.0);\r\n\t\tt = SglMat4.mul4(invMat, t);\r\n\t\tt = SglVec4.muls(t, f);\r\n\t\tvar trMat = SglMat4.translation(t);\r\n\t\tthis._sphereMatrix = SglMat4.mul(this._sphereMatrix, trMat);\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn this._sphereMatrix;\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\tthis._sphereMatrix = newstate;\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate) {\r\n\t\tthis._sphereMatrix = newstate;\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\tvar newpanX = (newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = (newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanZ = (newpoint[2]-presenter.sceneCenter[2]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis._sphereMatrix[12] = -newpanX;\r\n\t\tthis._sphereMatrix[13] = -newpanY;\r\n\t\tthis._sphereMatrix[14] = -newpanZ;\r\n\t\tthis._distance *= 0.6;\r\n\t\tthis._distance = this.clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\treturn false;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) this._new_action = true; this._action = a; },\r\n\r\n\tget action()  { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._sphereMatrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pts    = [ [0.0, 0.0], [0.0, 0.0] ];\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tthis._pts[0][0] = this._pts[1][0] + dx;\r\n\t\tthis._pts[0][1] = this._pts[1][1] + dy;\r\n\t\tthis._pts[1][0] = dx;\r\n\t\tthis._pts[1][1] = dy;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis.rotate(m);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis.pan(m);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_DOLLY:\r\n\t\t\t\tthis.dolly(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\trotate : function(m) {\r\n\t\tif ((this._pts[0][0] == this._pts[1][0]) && (this._pts[0][1] == this._pts[1][1])) return;\r\n\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\r\n\t\tvar v0 = this._transformOnSphere(mInv, this._pts[0][0], this._pts[0][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\r\n\t\tvar axis   = SglVec3.cross(v0, v1);\r\n\t\tvar angle  = SglVec3.length(axis);\r\n\t\tvar rotMat = SglMat4.rotationAngleAxis(angle, axis);\r\n\r\n\t\tthis._sphereMatrix = SglMat4.mul(rotMat, this._sphereMatrix);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tpan : function(m) {\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\t\tvar v0 = this._transform(mInv, this._pts[0][0], this._pts[0][1], -1.0);\r\n\t\tvar v1 = this._transform(mInv, this._pts[1][0], this._pts[1][1], -1.0);\r\n\t\tvar offset = SglVec3.sub(v1, v0);\r\n\t\tthis._translate(offset, 2.0);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tdolly : function(m, dz) {\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\t\tvar offset = this._transform(mInv, 0.0, 0.0, dz);\r\n\t\tthis._translate(offset, 1.0);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this.clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._computeMatrix();\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a TurntableTrackball object.\r\n * @class Interactor which implements a Turntable controller with bounds.\r\n */\r\nfunction TurnTableTrackball() {\r\n}\r\n\r\nTurnTableTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPhi      : 0.0,\r\n\t\t\tstartTheta    : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPhi     : [-180, 180],\r\n\t\t\tminMaxTheta   : [-80.0, 80.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPhi = sglDegToRad(opt.startPhi);\t\t//phi (horizontal rotation)\r\n\t\tthis._startTheta = sglDegToRad(opt.startTheta);\t//theta (vertical rotation)\r\n\t\tthis._startDistance = opt.startDistance;\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPhi = this._startPhi;\r\n\t\tthis._targetTheta = this._startTheta;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPhi = 0.0;\r\n\t\tthis._speedTheta = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t// limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tif((opt.minMaxPhi[0] == -180)&&(opt.minMaxPhi[1] == 180))\r\n\t\t\tthis._limitPhi = false;\r\n\t\telse\r\n\t\t\tthis._limitPhi = true;\r\n\t\tthis._minMaxPhi   = opt.minMaxPhi;\r\n\t\tthis._minMaxPhi[0] = sglDegToRad(this._minMaxPhi[0]);\r\n\t\tthis._minMaxPhi[1] = sglDegToRad(this._minMaxPhi[1]);\r\n\t\tthis._minMaxTheta = opt.minMaxTheta;\r\n\t\tthis._minMaxTheta[0] = sglDegToRad(this._minMaxTheta[0]);\r\n\t\tthis._minMaxTheta[1] = sglDegToRad(this._minMaxTheta[1]);\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// rotation\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [sglRadToDeg(this._phi), sglRadToDeg(this._theta), this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._phi      = sglDegToRad(newstate[0]);\r\n\t\tthis._theta    = sglDegToRad(newstate[1]);\r\n\t\tthis._distance = newstate[2];\r\n\r\n\t\t//check limits\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPhi = sglDegToRad(newstate[0]);\r\n\t\t\tthis._targetTheta = sglDegToRad(newstate[1]);\r\n\t\t\tthis._targetDistance = newstate[2];\r\n\r\n\t\t\t//check limits\r\n\t\t\tif(this._limitPhi)\r\n\t\t\t\tthis._targetPhi = this._clamp(this._targetPhi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\t\tthis._targetPhi = this._targetPhi % (2*Math.PI);\r\n\t\t\tthis._targetTheta = this._clamp(this._targetTheta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPhi = Math.PI;\r\n\t\t\tthis._speedTheta = Math.PI;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t//if phi unconstrained rotation, it is necessary to find a good rotation direction\r\n\t\t\tif(!this._limitPhi){\r\n\t\t\t\t// normalize (-2pi 2pi) current phi angle, to prevent endless unwinding\r\n\t\t\t\tthis._phi = this._phi % (2*Math.PI);\r\n\r\n\t\t\t\t// determine minimal, normalized target phi angle, to prevent endless unwinding\r\n\t\t\t\tvar clampedangle = this._targetPhi;\r\n\t\t\t\tclampedangle = clampedangle % (2*Math.PI);\r\n\r\n\t\t\t\tif(Math.abs(clampedangle - this._phi) < Math.PI) { // standard rotation\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tclampedangle = (clampedangle - 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tclampedangle = (clampedangle + 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._targetPhi = clampedangle;\r\n\t\t\t}\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePhi      = Math.abs((this._targetPhi - this._phi) / this._speedPhi);\r\n\t\t\tvar timeTheta    = Math.abs((this._targetTheta - this._theta) / this._speedTheta);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\r\n\t\t\tvar maxtime = Math.max( timePhi, Math.max( timeTheta, timeDistance ));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPhi      *= timePhi / animationtime;\r\n\t\t\tthis._speedTheta    *= timeTheta / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPhi      = this._speedPhi * dt;\r\n\t\tvar deltaTheta    = this._speedTheta * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\r\n\t\tvar diffPhi      = this._targetPhi - this._phi;\r\n\t\tvar diffTheta    = this._targetTheta - this._theta;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\r\n\t\tif (diffPhi > deltaPhi)\r\n\t\t\tthis._phi += deltaPhi;\r\n\t\telse if (diffPhi < -deltaPhi)\r\n\t\t\tthis._phi -= deltaPhi;\r\n\t\telse\r\n\t\t\tthis._phi = this._targetPhi;\r\n\r\n\t\tif (diffTheta > deltaTheta)\r\n\t\t\tthis._theta += deltaTheta;\r\n\t\telse if (diffTheta < -deltaTheta)\r\n\t\t\tthis._theta -= deltaTheta;\r\n\t\telse\r\n\t\t\tthis._theta = this._targetTheta;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif(this._phi == this._targetPhi)\r\n\t\t\tif(this._theta == this._targetTheta)\r\n\t\t\t\tif(this._distance == this._targetDistance){\r\n\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action() { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._phi += dx;\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\r\n\t\t// avoid eternal accumulation of rotation, just for the sake of cleanliness\r\n\t\tif (this._phi > 10.0) this._phi = this._phi - 10.0;\r\n\t\tif (this._phi < -10.0) this._phi = this._phi + 10.0;\r\n\r\n\t\tthis._theta += dy;\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a TurntableCylTrackball object.\r\n * @class Interactor which implements a Turntable controller + cylindrical pan with bounds.\r\n */\r\nfunction TurntablePanTrackball() {\r\n}\r\n\r\nTurntablePanTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPhi      : 0.0,\r\n\t\t\tstartTheta    : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tstartPanX     : 0.0,\r\n\t\t\tstartPanY     : 0.0,\r\n\t\t\tstartPanZ     : 0.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPhi     : [-180, 180],\r\n\t\t\tminMaxTheta   : [-80.0, 80.0],\r\n\t\t\tminMaxPanX    : [-1.0, 1.0],\r\n\t\t\tminMaxPanY    : [-1.0, 1.0],\r\n\t\t\tminMaxPanZ    : [-1.0, 1.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPhi = sglDegToRad(opt.startPhi);\t\t//phi (horizontal rotation)\r\n\t\tthis._startTheta = sglDegToRad(opt.startTheta);\t//theta (vertical rotation)\r\n\t\tthis._startPanX = opt.startPanX;\t\t\t\t//panX\r\n\t\tthis._startPanY = opt.startPanY;\t\t\t\t//panY\r\n\t\tthis._startPanZ = opt.startPanZ;\t\t\t\t//panZ\r\n\t\tthis._startDistance = opt.startDistance;\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._panZ = this._startPanZ;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPhi = this._startPhi;\r\n\t\tthis._targetTheta = this._startTheta;\r\n\t\tthis._targetPanX = this._startPanX;\r\n\t\tthis._targetPanY = this._startPanY;\r\n\t\tthis._targetPanZ = this._startPanZ;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPhi = 0.0;\r\n\t\tthis._speedTheta = 0.0;\r\n\t\tthis._speedPanX = 0.0;\r\n\t\tthis._speedPanY = 0.0;\r\n\t\tthis._speedPanZ = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t// limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tif((opt.minMaxPhi[0] == -180)&&(opt.minMaxPhi[1] == 180))\r\n\t\t\tthis._limitPhi = false;\r\n\t\telse\r\n\t\t\tthis._limitPhi = true;\r\n\t\tthis._minMaxPhi   = opt.minMaxPhi;\r\n\t\tthis._minMaxPhi[0] = sglDegToRad(this._minMaxPhi[0]);\r\n\t\tthis._minMaxPhi[1] = sglDegToRad(this._minMaxPhi[1]);\r\n\t\tthis._minMaxTheta = opt.minMaxTheta;\r\n\t\tthis._minMaxTheta[0] = sglDegToRad(this._minMaxTheta[0]);\r\n\t\tthis._minMaxTheta[1] = sglDegToRad(this._minMaxTheta[1]);\r\n\t\tthis._minMaxPanX  = opt.minMaxPanX;\r\n\t\tthis._minMaxPanY  = opt.minMaxPanY;\r\n\t\tthis._minMaxPanZ  = opt.minMaxPanZ;\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// rotation\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]));\r\n\t\t// panning\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._panX, -this._panY, -this._panZ]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\t\t\t\t\t\t\t  \r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [sglRadToDeg(this._phi), sglRadToDeg(this._theta), this._panX, this._panY, this._panZ, this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._phi      = sglDegToRad(newstate[0]);\r\n\t\tthis._theta    = sglDegToRad(newstate[1]);\r\n\t\tthis._panX     = newstate[2];\r\n\t\tthis._panY     = newstate[3];\r\n\t\tthis._panZ     = newstate[4];\r\n\t\tthis._distance = newstate[5];\r\n\r\n\t\t//check limits\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._panZ = this._clamp(this._panZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPhi      = sglDegToRad(newstate[0]);\r\n\t\t\tthis._targetTheta    = sglDegToRad(newstate[1]);\r\n\t\t\tthis._targetPanX     = newstate[2];\r\n\t\t\tthis._targetPanY     = newstate[3];\r\n\t\t\tthis._targetPanZ     = newstate[4];\r\n\t\t\tthis._targetDistance = newstate[5];\r\n\r\n\t\t\t//check limits\r\n\t\t\tif(this._limitPhi)\r\n\t\t\t\tthis._targetPhi = this._clamp(this._targetPhi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\t\tthis._targetPhi = this._targetPhi % (2*Math.PI);\r\n\t\t\tthis._targetTheta = this._clamp(this._targetTheta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\t\tthis._targetPanX = this._clamp(this._targetPanX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\t\tthis._targetPanY = this._clamp(this._targetPanY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\t\tthis._targetPanZ = this._clamp(this._targetPanZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPhi = Math.PI;\r\n\t\t\tthis._speedTheta = Math.PI;\r\n\t\t\tthis._speedPanX = 1.0;\r\n\t\t\tthis._speedPanY = 1.0;\r\n\t\t\tthis._speedPanZ = 1.0;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t//if phi unconstrained rotation, it is necessary to find a good rotation direction\r\n\t\t\tif(!this._limitPhi){\r\n\t\t\t\t// normalize (-2pi 2pi) current phi angle, to prevent endless unwinding\r\n\t\t\t\tthis._phi = this._phi % (2*Math.PI);\r\n\r\n\t\t\t\t// determine minimal, normalized target phi angle, to prevent endless unwinding\r\n\t\t\t\tvar clampedangle = this._targetPhi;\r\n\t\t\t\tclampedangle = clampedangle % (2*Math.PI);\r\n\r\n\t\t\t\tif(Math.abs(clampedangle - this._phi) < Math.PI) { // standard rotation\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tclampedangle = (clampedangle - 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tclampedangle = (clampedangle + 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._targetPhi = clampedangle;\r\n\t\t\t}\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePhi      = Math.abs((this._targetPhi - this._phi) / this._speedPhi);\r\n\t\t\tvar timeTheta    = Math.abs((this._targetTheta - this._theta) / this._speedTheta);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\t\t\tvar timePanX     = Math.abs((this._targetPanX - this._panX) / this._speedPanX);\r\n\t\t\tvar timePanY     = Math.abs((this._targetPanY - this._panY) / this._speedPanY);\r\n\t\t\tvar timePanZ     = Math.abs((this._targetPanZ - this._panZ) / this._speedPanZ);\r\n\r\n\t\t\tvar maxtime = Math.max( timePhi, Math.max( timeTheta, Math.max( timeDistance, Math.max( timePanX, Math.max( timePanY, timePanZ )))));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPhi      *= timePhi / animationtime;\r\n\t\t\tthis._speedTheta    *= timeTheta / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t\tthis._speedPanX     *= timePanX / animationtime;\r\n\t\t\tthis._speedPanY     *= timePanY / animationtime;\r\n\t\t\tthis._speedPanZ     *= timePanZ / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tvar newpanX = (newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = (newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanZ = (newpoint[2]-presenter.sceneCenter[2]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis.animateToState([sglRadToDeg(this._phi), sglRadToDeg(this._theta), newpanX, newpanY, newpanZ, (this._distance * 0.6)]);\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPhi      = this._speedPhi * dt;\r\n\t\tvar deltaTheta    = this._speedTheta * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\t\tvar deltaPanX     = this._speedPanX * dt;\r\n\t\tvar deltaPanY     = this._speedPanY * dt;\r\n\t\tvar deltaPanZ     = this._speedPanZ * dt;\r\n\r\n\t\tvar diffPhi      = this._targetPhi - this._phi;\r\n\t\tvar diffTheta    = this._targetTheta - this._theta;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\t\tvar diffPanX     = this._targetPanX - this._panX;\r\n\t\tvar diffPanY     = this._targetPanY - this._panY;\r\n\t\tvar diffPanZ     = this._targetPanZ - this._panZ;\r\n\r\n\t\tif (diffPhi > deltaPhi)\r\n\t\t\tthis._phi += deltaPhi;\r\n\t\telse if (diffPhi < -deltaPhi)\r\n\t\t\tthis._phi -= deltaPhi;\r\n\t\telse\r\n\t\t\tthis._phi = this._targetPhi;\r\n\r\n\t\tif (diffTheta > deltaTheta)\r\n\t\t\tthis._theta += deltaTheta;\r\n\t\telse if (diffTheta < -deltaTheta)\r\n\t\t\tthis._theta -= deltaTheta;\r\n\t\telse\r\n\t\t\tthis._theta = this._targetTheta;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif (diffPanX > deltaPanX)\r\n\t\t\tthis._panX += deltaPanX;\r\n\t\telse if (diffPanX < -deltaPanX)\r\n\t\t\tthis._panX -= deltaPanX;\r\n\t\telse\r\n\t\t\tthis._panX = this._targetPanX;\r\n\r\n\t\tif (diffPanY > deltaPanY)\r\n\t\t\tthis._panY += deltaPanY;\r\n\t\telse if (diffPanY < -deltaPanY)\r\n\t\t\tthis._panY -= deltaPanY;\r\n\t\telse\r\n\t\t\tthis._panY = this._targetPanY;\r\n\r\n\t\tif (diffPanZ > deltaPanZ)\r\n\t\t\tthis._panZ += deltaPanZ;\r\n\t\telse if (diffPanZ < -deltaPanZ)\r\n\t\t\tthis._panZ -= deltaPanZ;\r\n\t\telse\r\n\t\t\tthis._panZ = this._targetPanZ;\r\n\r\n\t\tif(this._phi == this._targetPhi)\r\n\t\t\tif(this._theta == this._targetTheta)\r\n\t\t\t\tif(this._distance == this._targetDistance)\r\n\t\t\t\t\tif(this._panX == this._targetPanX)\r\n\t\t\t\t\t\tif(this._panY == this._targetPanY)\r\n\t\t\t\t\t\t\tif(this._panZ == this._targetPanZ){\r\n\t\t\t\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action() { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._panZ = this._startPanZ;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.pan(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\tpan: function(m, dx, dy) {\r\n\t\t//determining current X, Y and Z axis\r\n\t\tvar Xvec = [1.0, 0.0, 0.0, 1.0];\r\n\t\tvar Yvec = [0.0, 1.0, 0.0, 1.0];\r\n\t\tvar Zvec = [0.0, 0.0, 1.0, 1.0];\r\n\t\tXvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Xvec);\r\n\t\tYvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Yvec);\r\n\t\tZvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Zvec);\r\n\t\tXvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Xvec);\r\n\t\tYvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Yvec);\r\n\t\tZvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Zvec);\r\n\r\n\t\tvar panSpeed = Math.max(Math.min(1.5, this._distance),0.05);\r\n\t\tthis._panX += ((dx * Xvec[0]) + (dy * Xvec[1])) * panSpeed;\r\n\t\tthis._panY += ((dx * Yvec[0]) + (dy * Yvec[1])) * panSpeed;\r\n\t\tthis._panZ += ((dx * Zvec[0]) + (dy * Zvec[1])) * panSpeed;\r\n\r\n\t\t//clamping\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._panZ = this._clamp(this._panZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._phi += dx;\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\r\n\t\t// avoid eternal accumulation of rotation, just for the sake of cleanliness\r\n\t\tif (this._phi > 10.0) this._phi = this._phi - 10.0;\r\n\t\tif (this._phi < -10.0) this._phi = this._phi + 10.0;\r\n\r\n\t\tthis._theta += dy;\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.    \r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nfunction init3dhop() {\r\n\tif (isIOS()) $('head').append('<meta name=\"viewport\" content=\"width=device-width\">'); //IOS DEVICES CHECK\r\n\r\n\tvar interval, id, ismousedown;\r\n\tvar button = 0;\r\n\r\n\t$('#toolbar img')\r\n\t\t.mouseenter(function(e) {\r\n\t\t\tid = $(this).attr('id');\r\n\t\t\tif(!ismousedown) $(this).css(\"opacity\",\"0.8\");\r\n\t\t\telse $(this).css(\"opacity\",\"1.0\");\r\n\t\t})\r\n\t\t.mouseout(function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t\t$(this).css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.mousedown(function(e) {\r\n\t\t\tid = $(this).attr('id');\r\n\t\t\tismousedown = true;\r\n\t\t\tif(e.button==button){\r\n\t\t\t\tactionsToolbar(id);\r\n\t\t\t\tif(id == \"zoomin\" || id == \"zoomout\"){\r\n\t\t\t\t\tinterval = setInterval(function(){\r\n\t\t\t\t\t\tactionsToolbar(id);\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tclearInterval(interval); \r\n\t\t\t\t}\r\n\t\t\t\t$(this).css(\"opacity\",\"1.0\");\r\n\t\t\t\tbutton=0;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.mouseup(function(e) {\r\n\t\t\tismousedown = false;\r\n\t\t\tif(e.button==button){\r\n\t\t\t\tclearInterval(interval); \r\n\t\t\t\t$(this).css(\"opacity\",\"0.8\");\r\n\t\t\t\tbutton=0;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('touchstart', function(e) { \r\n\t\t\tbutton=2;\r\n\t\t})\r\n\t\t.on('touchend', function(e) {\r\n\t\t\tbutton=0;\r\n\t\t});\r\n\r\n\t$('.output-table td:has(.output-text,.output-input)').css(\"border-radius\", \"5px\").css(\"background-color\", \"rgba(125,125,125,0.25)\");\r\n\r\n\t$('#3dhop')\r\n\t\t.on('touchstart pointerdown', function(e) {\r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.on('touchend pointerup', function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t})\r\n\t\t.on('touchmove', function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t});\r\n\r\n\t$('#3dhop:not(#draw-canvas)').on('contextmenu', function(e) { return false; });\r\n\r\n\t$('#draw-canvas')\r\n\t\t.on('contextmenu', function(e) {\r\n\t\t\tif (!isMobile()) return false; //MOBILE DEVICES CHECK\r\n\t\t})\r\n\t\t.on('touchstart pointerdown', function(e) {\r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.mousedown(function(e) { \r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\"); \r\n\t\t\tif(e.preventDefault) e.preventDefault(); \r\n\t\t\tif (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n\t\t\telse if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n\t\t});\r\n\r\n\t$(document).on('MSFullscreenChange mozfullscreenchange webkitfullscreenchange', function(e) { //fullscreen handler \r\n\t\tif(!document.msFullscreenElement&&!document.mozFullScreen&&!document.webkitIsFullScreen) exitFullscreen();\r\n\t});\r\n\r\n\tif (window.navigator.userAgent.indexOf('Trident/') > 0) { //IE fullscreen handler \r\n\t\t$('#full').click(function() {enterFullscreen();});\r\n\t\t$('#full_on').click(function() {exitFullscreen();});\r\n\t}\r\n\r\n\t$(window).on('resize', function () {\r\n\t\tif (!presenter._resizable) return;\r\n\r\n\t\tvar width, height;\r\n\t\twidth = Math.max(document.documentElement.clientWidth, window.innerWidth);\r\n\t\t(isIOS()) ? (height = document.documentElement.clientHeight) : (height = window.innerHeight); //IOS DEVICES CHECK\r\n\r\n\t\tresizeCanvas(width,height);\r\n\r\n\t\tpresenter.ui.postDrawEvent();\r\n\t});\r\n\r\n\t$(window).on('load mouseup touchend pointerup dragend', function() { //focus handler\r\n\t\tvar x = window.scrollX, y = window.scrollY;\r\n\t\t$('#draw-canvas').focus();\r\n\t\twindow.scrollTo(x, y);\r\n\t});\r\n\r\n\tresizeCanvas($('#3dhop').parent().width(),$('#3dhop').parent().height());\r\n\r\n\tanchorPanels();\r\n\r\n\tset3dhlg();\r\n}\r\n\r\nfunction set3dhlg() {\r\n  $('#tdhlg').html(\"Powered by 3DHOP</br>&nbsp;C.N.R. &nbsp;&ndash;&nbsp; I.S.T.I.\");\r\n  $('#tdhlg').mouseover(function() {\r\n\t $('#tdhlg').animate({ \r\n\t\theight: \"25px\"\r\n\t  }, \"fast\" );\r\n\t })\r\n\t.mouseout(function() {\r\n\t $('#tdhlg').animate({ \r\n\t\theight: \"13px\"\r\n\t  }, \"slow\" );\r\n\t });\r\n  $('#tdhlg').click(function() { window.open('http://vcg.isti.cnr.it/3dhop/', '_blank') });\r\n}\r\n\r\n// +++ INTERFACE SWITCHING FUNCTIONS +++ //\r\n\r\nfunction lightSwitch(on) {\r\n  if(on === undefined) on = presenter.isLightTrackballEnabled();\r\n\r\n  if(on){\r\n    $('#light').css(\"visibility\", \"hidden\");\r\n    $('#light_on').css(\"visibility\", \"visible\");\r\n    $('#lighting_off').css(\"visibility\", \"hidden\");\t//manage lighting combined interface\r\n    $('#lighting').css(\"visibility\", \"visible\");\t//manage lighting combined interface\r\n  }\r\n  else{\r\n    $('#light_on').css(\"visibility\", \"hidden\");\r\n    $('#light').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction lightingSwitch(on) {\r\n  if(on === undefined) on = presenter.isSceneLightingEnabled();\r\n\r\n  if(on){\r\n    $('#lighting_off').css(\"visibility\", \"hidden\");\r\n    $('#lighting').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#lighting').css(\"visibility\", \"hidden\");\r\n    $('#lighting_off').css(\"visibility\", \"visible\");\r\n    $('#light_on').css(\"visibility\", \"hidden\");\t//manage light combined interface\r\n    $('#light').css(\"visibility\", \"visible\");\t//manage light combined interface\r\n  }\r\n}\r\n\r\nfunction hotspotSwitch(on) {\r\n  if(on === undefined) on = presenter.isSpotVisibilityEnabled();\r\n\r\n  if(on){\r\n    $('#hotspot').css(\"visibility\", \"hidden\");\r\n    $('#hotspot_on').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#hotspot_on').css(\"visibility\", \"hidden\");\r\n    $('#hotspot').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction pickpointSwitch(on) {\r\n  if(on === undefined) on = presenter.isPickpointModeEnabled();\r\n\r\n  if(on){  \r\n    $('#pick').css(\"visibility\", \"hidden\");\r\n    $('#pick_on').css(\"visibility\", \"visible\");\r\n    $('#pickpoint-box').fadeIn().css(\"display\",\"table\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#pick_on').css(\"visibility\", \"hidden\");\r\n    $('#pick').css(\"visibility\", \"visible\");\r\n    $('#pickpoint-box').css(\"display\",\"none\");\r\n    $('#pickpoint-output').html(\"[ 0 , 0 , 0 ]\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\nfunction measureSwitch(on) {\r\n  if(on === undefined) on = presenter.isMeasurementToolEnabled();\r\n\r\n  if(on){  \r\n    $('#measure').css(\"visibility\", \"hidden\");\r\n    $('#measure_on').css(\"visibility\", \"visible\");\r\n    $('#measure-box').fadeIn().css(\"display\",\"table\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#measure_on').css(\"visibility\", \"hidden\");\r\n    $('#measure').css(\"visibility\", \"visible\");\r\n    $('#measure-box').css(\"display\",\"none\");\r\n    $('#measure-output').html(\"0.0\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\nfunction colorSwitch(on) {\r\n  if(on === undefined) on = $('#color').css(\"visibility\")==\"visible\";\r\n\r\n  if(on) {\r\n\t$('#color').css(\"visibility\", \"hidden\");\r\n\t$('#color_on').css(\"visibility\", \"visible\");\r\n  }\r\n  else {\r\n\t$('#color_on').css(\"visibility\", \"hidden\");\r\n\t$('#color').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction cameraSwitch(on) {\r\n  if(on === undefined) on = $('#perspective').css(\"visibility\")==\"visible\";\r\n\r\n  if(on){\r\n    $('#perspective').css(\"visibility\", \"hidden\");\r\n    $('#orthographic').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#orthographic').css(\"visibility\", \"hidden\");\r\n    $('#perspective').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction sectiontoolSwitch(on) {\r\n  if(on === undefined) on = $('#sections').css(\"visibility\")==\"visible\";\r\n\r\n  if(on){\r\n\t$('#sections').css(\"visibility\", \"hidden\");\r\n\t$('#sections_on').css(\"visibility\", \"visible\");\r\n\t$('#sections-box').fadeIn().css(\"display\",\"table\");\r\n\t$('#xplane, #yplane, #zplane').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n\t$('#sections_on').css(\"visibility\", \"hidden\");\r\n\t$('#sections').css(\"visibility\", \"visible\");\r\n\t$('#sections-box').css(\"display\",\"none\");\r\n\t$('#sections-box img').css(\"visibility\", \"hidden\");\r\n\tpresenter.setClippingXYZ(0, 0, 0);\r\n  }\r\n}\r\n\r\nfunction sectiontoolInit() {\r\n\t// set sections value\r\n\tpresenter.setClippingPointXYZ(0.5, 0.5, 0.5);\r\n\r\n\t// set sliders \r\n\tvar xplaneSlider = $('#xplaneSlider')[0];\r\n\txplaneSlider.min = 0.0;\r\n\txplaneSlider.max = 1.0;\r\n\txplaneSlider.step = 0.01;\r\n\txplaneSlider.defaultValue = 0.5;\r\n\txplaneSlider.oninput=function(){ sectionxSwitch(true); presenter.setClippingPointX(this.valueAsNumber);};\r\n\txplaneSlider.onchange=function(){ sectionxSwitch(true); presenter.setClippingPointX(this.valueAsNumber);};\r\n\r\n\tvar yplaneSlider = $('#yplaneSlider')[0];\r\n\typlaneSlider.min = 0.0;\r\n\typlaneSlider.max = 1.0;\r\n\typlaneSlider.step = 0.01;\r\n\typlaneSlider.defaultValue = 0.5;\r\n\typlaneSlider.oninput=function(){ sectionySwitch(true); presenter.setClippingPointY(this.valueAsNumber);};\r\n\typlaneSlider.onchange=function(){ sectionySwitch(true); presenter.setClippingPointY(this.valueAsNumber);};\r\n\r\n\tvar zplaneSlider = $('#zplaneSlider')[0];\r\n\tzplaneSlider.min = 0.0;\r\n\tzplaneSlider.max = 1.0;\r\n\tzplaneSlider.step = 0.01;\r\n\tzplaneSlider.defaultValue = 0.5;\r\n\tzplaneSlider.oninput=function(){ sectionzSwitch(true); presenter.setClippingPointZ(this.valueAsNumber);};\r\n\tzplaneSlider.onchange=function(){ sectionzSwitch(true); presenter.setClippingPointZ(this.valueAsNumber);};\r\n\r\n\t// set checkboxes\r\n\tvar xplaneFlip = $('#xplaneFlip')[0];\r\n\txplaneFlip.defaultChecked = false;\r\n\txplaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingX()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingX(-1);\r\n\t\t\telse presenter.setClippingX(1);\r\n\t\t}\r\n\t};\r\n\r\n\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\typlaneFlip.defaultChecked = false;\r\n\typlaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingY()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingY(-1);\r\n\t\t\telse presenter.setClippingY(1);\r\n\t\t}\r\n\t};\r\n\r\n\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\tzplaneFlip.defaultChecked = false;\r\n\tzplaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingZ()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingZ(-1);\r\n\t\t\telse presenter.setClippingZ(1);\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar planesCheck = $('#showPlane')[0];\r\n\tplanesCheck.defaultChecked = presenter.getClippingRendermode()[0];\r\n\tplanesCheck.onchange = function(){ presenter.setClippingRendermode(this.checked, presenter.getClippingRendermode()[1]); };\r\n\r\n\tvar edgesCheck = $('#showBorder')[0];\r\n\tedgesCheck.defaultChecked = presenter.getClippingRendermode()[1];\r\n\tedgesCheck.onchange=function(){ presenter.setClippingRendermode(presenter.getClippingRendermode()[0], this.checked); };\r\n}\r\n\r\nfunction sectiontoolReset() {\r\n\t// reset sections value\r\n\tpresenter.setClippingPointXYZ(0.5, 0.5, 0.5);\r\n\r\n\t// reset sliders \r\n\tvar xplaneSlider = $('#xplaneSlider')[0];\r\n\txplaneSlider.value = xplaneSlider.defaultValue;\r\n\r\n\tvar yplaneSlider = $('#yplaneSlider')[0];\r\n\typlaneSlider.value = yplaneSlider.defaultValue;\r\n\r\n\tvar zplaneSlider = $('#zplaneSlider')[0]; \r\n\tzplaneSlider.value = zplaneSlider.defaultValue;\r\n\r\n\t// reset checkboxes\r\n\tvar xplaneFlip = $('#xplaneFlip')[0];\r\n\txplaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\typlaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\tzplaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar planesCheck = $('#showPlane')[0];\r\n\tplanesCheck.checked = planesCheck.defaultChecked;\r\n\tpresenter.setClippingRendermode(planesCheck.checked, presenter.getClippingRendermode()[1]);\r\n\r\n\tvar edgesCheck = $('#showBorder')[0];\r\n\tedgesCheck.checked = edgesCheck.defaultChecked;\r\n\tpresenter.setClippingRendermode(presenter.getClippingRendermode()[0], edgesCheck.checked);\r\n}\r\n\r\nfunction sectionxSwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingX()==0);\r\n\r\n\tif(on){\r\n\t\t$('#xplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#xplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar xplaneFlip = $('#xplaneFlip')[0]; \r\n\t\tif(xplaneFlip.checked) presenter.setClippingX(-1);\r\n\t\telse presenter.setClippingX(1);\r\n\t}\r\n\telse {\r\n\t\t$('#xplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#xplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingX(0);\r\n\t}\r\n}\r\n\r\nfunction sectionySwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingY()==0);\r\n\r\n\tif(on){\r\n\t\t$('#yplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#yplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\t\tif(yplaneFlip.checked) presenter.setClippingY(-1);\r\n\t\telse presenter.setClippingY(1);\r\n\t}\r\n\telse {\r\n\t\t$('#yplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#yplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingY(0);\r\n\t}\r\n}\r\n\r\nfunction sectionzSwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingZ()==0);\r\n\r\n\tif(on){\r\n\t\t$('#zplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#zplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\t\tif(zplaneFlip.checked) presenter.setClippingZ(-1);\r\n\t\telse presenter.setClippingZ(1);\r\n\t}\r\n\telse {\r\n\t\t$('#zplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#zplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingZ(0);\r\n\t}\r\n}\r\n\r\nfunction fullscreenSwitch() {\r\n  if($('#full').css(\"visibility\")==\"visible\"){\r\n    if (window.navigator.userAgent.indexOf('Trident/') < 0) enterFullscreen();\r\n  }\r\n  else{\r\n    if (window.navigator.userAgent.indexOf('Trident/') < 0) exitFullscreen();\r\n  }\r\n}\r\n\r\nfunction enterFullscreen() {\r\n  $('#full').css(\"visibility\", \"hidden\");\r\n  $('#full_on').css(\"visibility\", \"visible\");\r\n\r\n  if (isIOS()) return; //IOS DEVICES CHECK\r\n\r\n  presenter._nativeWidth  = presenter.ui.width;\r\n  presenter._nativeHeight = presenter.ui.height;\r\n  presenter._nativeResizable = presenter._resizable;\r\n  presenter._resizable = true;\r\n\r\n  var viewer = $('#3dhop')[0];\r\n  if (viewer.msRequestFullscreen) viewer.msRequestFullscreen();\r\n  else if (viewer.mozRequestFullScreen) viewer.mozRequestFullScreen();\r\n  else if (viewer.webkitRequestFullscreen) viewer.webkitRequestFullscreen();\r\n\r\n  presenter.ui.postDrawEvent();\r\n}\r\n\r\nfunction exitFullscreen() {\r\n  $('#full_on').css(\"visibility\", \"hidden\");\r\n  $('#full').css(\"visibility\", \"visible\");\r\n\r\n  if (isIOS()) return; //IOS DEVICES CHECK\r\n\r\n  resizeCanvas(presenter._nativeWidth,presenter._nativeHeight)\r\n  presenter._resizable = presenter._nativeResizable;\r\n\r\n  if (document.msExitFullscreen) document.msExitFullscreen();\r\n  else if (document.mozCancelFullScreen) document.mozCancelFullScreen();\r\n  else if (document.webkitExitFullscreen) document.webkitExitFullscreen();\r\n\r\n  presenter.ui.postDrawEvent(); \r\n}\r\n\r\n/*DEPRECATED*/\r\nfunction measurementSwitch() {\r\n  var on = presenter.isMeasurementToolEnabled();\r\n\r\n  if(on){\r\n    $('#measure').css(\"visibility\", \"hidden\");\r\n    $('#measure_on').css(\"visibility\", \"visible\");\r\n    $('#measurebox').css(\"visibility\",\"visible\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#measure_on').css(\"visibility\", \"hidden\");\r\n    $('#measure').css(\"visibility\", \"visible\");\r\n    $('#measurebox').css(\"visibility\",\"hidden\");\r\n    $('#measure-output').html(\"0.0\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\n// +++ INTERFACE POSITIONING FUNCTIONS +++ //\r\n\r\nfunction moveToolbar(l,t) {\r\n\t$('#toolbar').css('left', l);\r\n\t$('#toolbar').css('top', t);\r\n\tanchorPanels();\r\n}\r\n\r\nfunction movePickpointbox(l,t) {\r\n\t$('#pickpoint-box').css('left', l);\r\n\t$('#pickpoint-box').css('top', t);\r\n}\r\n\r\nfunction moveMeasurementbox(l,t) {\r\n\t$('#measure-box').css('left', l);\r\n\t$('#measure-box').css('top', t);\r\n}\r\n\r\nfunction moveSectionsbox(l,t) {\r\n\t$('#sections-box').css('left', l);\r\n\t$('#sections-box').css('top', t);\r\n}\r\n\r\n/*DEPRECATED*/\r\nfunction moveMeasurebox(r,t) {\r\n  $('#measurebox').css('right', r);\r\n  $('#measurebox').css('top', t);\r\n}\r\n\r\nfunction resizeCanvas(w,h) {\r\n  $('#draw-canvas').attr('width', w);\r\n  $('#draw-canvas').attr('height',h);\r\n  $('#3dhop').css('width', w);\r\n  $('#3dhop').css('height', h);\r\n\r\n  if (!presenter) return;\r\n\r\n  var width, height;\r\n  width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n  (isIOS()) ? (height = document.documentElement.clientHeight) : (height = window.innerHeight); //IOS DEVICES CHECK\r\n\r\n  if (width != w || height != h) presenter._resizable = false;\r\n  else presenter._resizable = true;\r\n}\r\n\r\nfunction anchorPanels() {\r\n\tif ($('#pickpoint-box')[0] && $('#pick')[0]) \r\n\t{\r\n\t\t$('#pickpoint-box').css('left', ($('#pick').position().left + $('#pick').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#pickpoint-box').css('top', ($('#pick').position().top + $('#toolbar').position().top));\r\n\t}\r\n\tif ($('#measure-box')[0] && $('#measure')[0])\r\n\t{\r\n\t\t$('#measure-box').css('left', ($('#measure').position().left + $('#measure').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#measure-box').css('top', ($('#measure').position().top + $('#toolbar').position().top));\r\n\t}\r\n\tif ($('#sections-box')[0] && $('#sections')[0]) \r\n\t{\r\n\t\t$('#sections-box').css('left', ($('#sections').position().left + $('#sections').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#sections-box').css('top', ($('#sections').position().top + $('#toolbar').position().top));\r\n\t}\r\n}\r\n\r\n// +++ INTERFACE UTILITY FUNCTIONS +++ //\r\n\r\nfunction isIOS() {\r\n\tvar isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n\treturn isIOS;\r\n}\r\n\r\nfunction isMobile() {\r\n\tvar isMobile = (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)));\r\n\treturn isMobile;\r\n}\r\n"]}