{"version":3,"sources":["spidergl.js","presenter.js","ply.js","trackball_pantilt.js","trackball_sphere.js","trackball_turntable.js","trackball_turntable_pan.js","init.js"],"names":["SpiderGL","TAG","openNamespace","e","Utility","getDefaultObject","globalObject","DEFAULT_GLOBAL_OBJECT","constantPrefix","DEFAULT_CONSTANT_PREFIX","functionPrefix","DEFAULT_FUNCTION_PREFIX","classPrefix","DEFAULT_CLASS_PREFIX","t","RegExp","r","test","i","n","a","s","substr","toUpperCase","o","u","d","p","h","_","f","window","Version","VERSION_MAJOR","VERSION_MINOR","VERSION_REVISION","VERSION_STRING","Core","DEFAULT","DONT_CARE","EMPTY_STRING","EMPTY_OBJECT","EMPTY_ARRAY","EMPTY_FUNCTION","generateUID","_lastUID","ObjectBase","this","_uid","prototype","uid","Type","LITTLE_ENDIAN","Uint8Array","Uint16Array","buffer","BIG_ENDIAN","NO_TYPE","INT8","UINT8","INT16","UINT16","INT32","UINT32","FLOAT32","SIZEOF_INT8","Int8Array","BYTES_PER_ELEMENT","SIZEOF_UINT8","SIZEOF_INT16","Int16Array","SIZEOF_UINT16","SIZEOF_INT32","Int32Array","SIZEOF_UINT32","Uint32Array","SIZEOF_FLOAT32","Float32Array","typeSize","typeToGL","WebGLRenderingContext","NONE","BYTE","UNSIGNED_BYTE","SHORT","UNSIGNED_SHORT","INT","UNSIGNED_INT","FLOAT","typeFromGL","typeSizeFromGL","typeToTypedArrayConstructor","ArrayBuffer","POINTS","LINES","LINE_LOOP","LINE_STRIP","TRIANGLES","TRIANGLE_FAN","TRIANGLE_STRIP","primitiveToGL","instanceOf","isNumber","isString","isFunction","isArray","constructor","Array","isTypedArray","extend","__lookupGetter__","__defineGetter__","__lookupSetter__","__defineSetter__","defineClassGetter","defineClassSetter","defineObjectGetter","defineObjectSetter","getDefaultValue","setDefaultValues","getAttrib4fv","getTime","Date","Timer","_tStart","_tElapsed","_accumElapsed","now","start","isStarted","isPaused","restart","elapsed","stop","pause","resume","Browser","isOpera","opr","addons","opera","navigator","userAgent","indexOf","isFirefox","InstallTrigger","toLowerCase","isSafari","match","HTMLElement","safari","pushNotification","toString","isIE","document","documentMode","isEdge","StyleMedia","isChrome","chrome","webstore","DOM","getElementById","getElementText","firstChild","nodeType","textContent","nextSibling","IO","Request","call","async","DEFAULT_ASYNC","send","DEFAULT_SEND","onProgress","onCancel","onError","onSuccess","onFinish","_url","_async","_status","_sent","_aborted","_data","_loaded","_total","_events","progress","main","listeners","cancel","error","success","finish","ONGOING","CANCELLED","FAILED","SUCCEEDED","_indexOf","length","_setMainListener","addEventListener","removeEventListener","_dispatch","arguments","slice","push","apply","_doPostProgress","_doPostCancel","_doPostError","_doPostSuccess","_doPostFinish","_doOnProgress","_doOnCancel","_finishTime","_doOnError","_doOnSuccess","_doOnFinish","_doSend","_doCancel","canSend","url","status","data","bytesLoaded","bytesTotal","sent","ongoing","cancelled","failed","succeeded","finished","startTime","_startTime","finishTime","elapsedTime","splice","XHRRequestBase","XMLHttpRequest","_xhr","onprogress","_xhrOnProgress","onabort","onerror","onload","_range","open","range","setRequestHeader","_prepareXHR","abort","lengthComputable","loaded","total","XHRRequest","responseText","xhr","response","TextRequest","text","readText","requestText","JSONRequest","JSON","parse","json","readJSON","requestJSON","BinaryRequest","responseType","_setArrayBuffer","mozResponseArrayBuffer","String","charCodeAt","readBinary","requestBinary","ImageRequest","Image","_img","_imgOnProgress","src","image","requestImage","AggregateRequest","_proxyOnProgress","_reqOnProgress","_proxyOnCancel","_reqOnCancel","_proxyOnError","_reqOnError","_proxyOnSuccess","_reqOnSuccess","_proxyOnFinish","_reqOnFinish","_aggrStartTime","_aggrFinishTime","_eventReq","_cancelledReqs","_failedReqs","_succeededReqs","_requests","requests","_installProxies","addRequest","_requestsFinished","_uninstallProxies","eventSenderRequest","requests$","removeRequest","Math","DEG_TO_RAD","PI","E","LN2","LN10","LOG2E","LOG10E","RAD_TO_DEG","SQRT2","MAX_VALUE","Number","MIN_VALUE","MAX_NUMBER","MIN_NUMBER","NAN","NaN","INFINITY","abs","acos","asin","atan","atan2","ceil","clamp","cos","degToRad","exp","floor","lerp","ln","log","log2","log10","max","min","pow","radToDeg","random","random01","random11","randomRange","round","sin","sqrt","tan","Vec2","dup","scalar","zero","one","maxNumber","minNumber","to3","to4","neg","add","adds","sub","subs","ssub","mul","muls","div","divs","sdiv","rcp","dot","cross","perp","sqLength","normalize","copy$","neg$","add$","adds$","sub$","subs$","ssub$","mul$","muls$","div$","divs$","sdiv$","perp$","normalize$","Vec3","to2","Vec4","project","Mat3","diag","identity","to44","mul2","mul3","transpose","Mat4","to33","elem","elem$","row","row$","col","col$","isIdentity","l","c","L","S","g","G","m","T","M","b","v","x","y","A","R","P","I","D","F","mul4","compMul","compDiv","determinant","inverse","inverseTranspose33","trace","translation","rotationAngleAxis","scaling","lookAt","translate$","ortho","frustum","perspective","identity$","compMul$","compDiv$","transpose$","invert$","rotateAngleAxis$","scale$","Quat","from33","from44","fromAngleAxis","toAngleAxis","fromEulerAngles","toEulerAngles","unproject","Space","MatrixStack","_onChange","reset","_invalidate","_i","_t","_it","_s","_l","_m","onChange","size","matrix$","matrix","top$","top","inverse$","inverseTranspose$","inverseTranspose","pop","load","loadIdentity","multiply","translate","rotate","scale","ViewportStack","_r","rect$","rect","inner","DepthRangeStack","range$","TransformationStack","_mv","_vp","_mvp","_n","_c","_v","_p","_viewport","_depth","viewport","viewportRect$","viewportRect","depth","depthRange$","depthRange","model","modelMatrix$","modelMatrix","modelMatrixInverse$","modelMatrixInverse","modelMatrixTranspose$","modelMatrixTranspose","modelMatrixInverseTranspose$","modelMatrixInverseTranspose","view","viewMatrix$","viewMatrix","viewMatrixInverse$","viewMatrixInverse","viewMatrixTranspose$","viewMatrixTranspose","viewMatrixInverseTranspose$","viewMatrixInverseTranspose","projection","projectionMatrix$","projectionMatrix","projectionMatrixInverse$","projectionMatrixInverse","projectionMatrixTranspose$","projectionMatrixTranspose","projectionMatrixInverseTranspose$","projectionMatrixInverseTranspose","modelViewMatrix$","modelViewMatrix","modelViewMatrixInverse$","modelViewMatrixInverse","modelViewMatrixTranspose$","modelViewMatrixTranspose","modelViewMatrixInverseTranspose$","it","modelViewMatrixInverseTranspose","viewProjectionMatrix$","viewProjectionMatrix","viewProjectionMatrixInverse$","viewProjectionMatrixInverse","viewProjectionMatrixTranspose$","viewProjectionMatrixTranspose","viewProjectionMatrixInverseTranspose$","viewProjectionMatrixInverseTranspose","modelViewProjectionMatrix$","modelViewProjectionMatrix","modelViewProjectionMatrixInverse$","modelViewProjectionMatrixInverse","modelViewProjectionMatrixTranspose$","modelViewProjectionMatrixTranspose","modelViewProjectionMatrixInverseTranspose$","modelViewProjectionMatrixInverseTranspose","worldSpaceNormalMatrix$","worldSpaceNormalMatrix","viewSpaceNormalMatrix$","viewSpaceNormalMatrix","modelSpaceViewerPosition$","mp","modelSpaceViewerPosition","worldSpaceViewerPosition$","wp","worldSpaceViewerPosition","modelSpaceViewDirection$","md","modelSpaceViewDirection","worldSpaceViewDirection$","wd","worldSpaceViewDirection","WebGL","Context","WEBGL_STRING","DEFAULT_UNPACK_FLIP_Y","DEFAULT_UNPACK_PREMULTIPLY_ALPHA","DEFAULT_UNPACK_COLORSPACE_CONVERSION","get","HTMLCanvasElement","getContext","_prepareContex","_spidergl","gl","glFunctions","_addExtension","getExtension","_ext","sgl","_setup_SGL_current_binding","cb","currentBuffer","ARRAY_BUFFER","getParameter","ARRAY_BUFFER_BINDING","ELEMENT_ARRAY_BUFFER","ELEMENT_ARRAY_BUFFER_BINDING","bufferStack","bindBuffer","getCurrentBuffer","pushBuffer","popBuffer","currentFramebuffer","FRAMEBUFFER","FRAMEBUFFER_BINDING","framebufferStack","bindFramebuffer","getCurrentFramebuffer","pushFramebuffer","popFramebuffer","currentProgram","CURRENT_PROGRAM","programStack","useProgram","getCurrentProgram","pushProgram","popProgram","currentRenderbuffer","RENDERBUFFER","RENDERBUFFER_BINDING","renderbufferStack","bindRenderbuffer","getCurrentRenderbuffer","pushRenderbuffer","popRenderbuffer","currentShader","VERTEX_SHADER","FRAGMENT_SHADER","shaderStack","bindShader","getCurrentShader","pushShader","popShader","currentTexture","ACTIVE_TEXTURE","MAX_TEXTURE_IMAGE_UNITS","textureStack","textureUnitStack","TEXTURE0","activeTexture","TEXTURE_2D","TEXTURE_BINDING_2D","TEXTURE_CUBE_MAP","TEXTURE_BINDING_CUBE_MAP","currentTextureUnit","getCurrentTextureUnit","pushTextureUnit","popTextureUnit","bindTexture","getCurrentTexture","pushTexture","popTexture","_setup_SGL_wrapper_notify","wn","deleteBuffer","_gl_deleteBuffer","isBuffer","_gl_isBuffer","_gl_bindBuffer","getBufferParameter","_gl_getBufferParameter","bufferData","_gl_bufferData","bufferSubData","_gl_bufferSubData","vertexAttribPointer","_gl_vertexAttribPointer","drawElements","_gl_drawElements","deleteFramebuffer","_gl_deleteFramebuffer","isFramebuffer","_gl_isFramebuffer","_gl_bindFramebuffer","checkFramebufferStatus","_gl_checkFramebufferStatus","getFramebufferAttachmentParameter","_gl_getFramebufferAttachmentParameter","framebufferRenderbuffer","_gl_framebufferRenderbuffer","framebufferTexture2D","_gl_framebufferTexture2D","clear","_gl_clear","readPixels","_gl_readPixels","deleteProgram","_gl_deleteProgram","isProgram","_gl_isProgram","_gl_useProgram","getActiveAttrib","_gl_getActiveAttrib","getActiveUniform","_gl_getActiveUniform","getAttachedShaders","_gl_getAttachedShaders","getAttribLocation","_gl_getAttribLocation","getProgramParameter","_gl_getProgramParameter","getProgramInfoLog","_gl_getProgramInfoLog","getUniform","_gl_getUniform","getUniformLocation","_gl_getUniformLocation","attachShader","_gl_attachShader","bindAttribLocation","_gl_bindAttribLocation","detachShader","_gl_detachShader","linkProgram","_gl_linkProgram","uniform1f","_gl_uniform1f","uniform1fv","_gl_uniform1fv","uniform1i","_gl_uniform1i","uniform1iv","_gl_uniform1iv","uniform2f","_gl_uniform2f","uniform2fv","_gl_uniform2fv","uniform2i","_gl_uniform2i","uniform2iv","_gl_uniform2iv","uniform3f","_gl_uniform3f","uniform3fv","_gl_uniform3fv","uniform3i","_gl_uniform3i","uniform3iv","_gl_uniform3iv","uniform4f","_gl_uniform4f","uniform4fv","_gl_uniform4fv","uniform4i","_gl_uniform4i","uniform4iv","_gl_uniform4iv","uniformMatrix2fv","_gl_uniformMatrix2fv","uniformMatrix3fv","_gl_uniformMatrix3fv","uniformMatrix4fv","_gl_uniformMatrix4fv","validateProgram","_gl_validateProgram","deleteRenderbuffer","_gl_deleteRenderbuffer","isRenderbuffer","_gl_isRenderbuffer","_gl_bindRenderbuffer","getRenderbufferParameter","_gl_getRenderbufferParameter","renderbufferStorage","_gl_renderbufferStorage","deleteShader","_gl_deleteShader","isShader","_gl_isShader","getShaderParameter","_gl_getShaderParameter","getShaderInfoLog","_gl_getShaderInfoLog","getShaderSource","_gl_getShaderSource","compileShader","_gl_compileShader","shaderSource","_gl_shaderSource","textureTargetMap","TEXTURE_CUBE_MAP_POSITIVE_X","TEXTURE_CUBE_MAP_NEGATIVE_X","TEXTURE_CUBE_MAP_POSITIVE_Y","TEXTURE_CUBE_MAP_NEGATIVE_Y","TEXTURE_CUBE_MAP_POSITIVE_Z","TEXTURE_CUBE_MAP_NEGATIVE_Z","deleteTexture","_gl_deleteTexture","isTexture","_gl_isTexture","_gl_bindTexture","getTexParameter","_gl_getTexParameter","copyTexImage2D","_gl_copyTexImage2D","copyTexSubImage2D","_gl_copyTexSubImage2D","generateMipmap","_gl_generateMipmap","texImage2D","_gl_texImage2D","texParameterf","_gl_texParameterf","texParameteri","_gl_texParameteri","texSubImage2D","_gl_texSubImage2D","_setup_SGL_direct_state_access","dsa","shaderIsNull","hijack","isHijacked","getHijacked","setStandardGLUnpack","pixelStorei","UNPACK_FLIP_Y_WEBGL","UNPACK_PREMULTIPLY_ALPHA_WEBGL","UNPACK_COLORSPACE_CONVERSION_WEBGL","ObjectGL","handle","_gl","_cb","_dsa","_h","TARGET","unbind","target","isValid","isReady","destroy","bind","Buffer","WebGLBuffer","usage","DEFAULT_USAGE","BUFFER_SIZE","BUFFER_USAGE","createBuffer","_size","_usage","setData","setSize","STATIC_DRAW","DEFAULT_SUB_DATA_OFFSET","byteLength","setSubData","VertexBuffer","DEFAULT_ATTRIBUTE_INDEX","DEFAULT_ATTRIBUTE_SIZE","DEFAULT_ATTRIBUTE_TYPE","DEFAULT_ATTRIBUTE_NORMALIZED","DEFAULT_ATTRIBUTE_STRIDE","DEFAULT_ATTRIBUTE_OFFSET","DEFAULT_ATTRIBUTE_ENABLE","index","glType","normalized","stride","offset","enable","enableVertexAttribArray","IndexBuffer","DEFAULT_DRAW_ELEMENTS_MODE","DEFAULT_DRAW_ELEMENTS_COUNT","DEFAULT_DRAW_ELEMENTS_TYPE","DEFAULT_DRAW_ELEMENTS_OFFSET","glMode","count","Framebuffer","WebGLFramebuffer","autoViewport","DEFAULT_AUTO_VIEWPORT","createFramebuffer","_attachments","_autoViewport","_attachmentName","att","FRAMEBUFFER_ATTACHMENT_OBJECT_NAME","FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE","_importRenderbuffer","TEXTURE","FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL","FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE","_importTexture","setAttachments","DEFAULT_ATTACHMENT_TEXTURE_LEVEL","DEFAULT_ATTACHMENT_CUBE_MAP_FACE","DEFAULT_READ_PIXELS_X","DEFAULT_READ_PIXELS_Y","DEFAULT_READ_PIXELS_WIDTH","DEFAULT_READ_PIXELS_HEIGHT","DEFAULT_READ_PIXELS_FORMAT","RGBA","DEFAULT_CLEAR_MASK","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","STENCIL_BUFFER_BIT","DEFAULT_READ_PIXELS_TYPE","COLOR_ATTACHMENT0","DEPTH_ATTACHMENT","STENCIL_ATTACHMENT","DEPTH_STENCIL_ATTACHMENT","attachment","resource","level","face","Texture2D","TextureCubeMap","width","height","Renderbuffer","_setAttachment","WebGLTexture","WebGLRenderbuffer","Texture","isComplete","FRAMEBUFFER_COMPLETE","color","depthStencil","stencil","getAttachments","detachAll","colorTarget","depthTarget","stencilTarget","depthStencilTarget","format","type","applyViewport","Program","WebGLProgram","autoLink","DEFAULT_AUTO_LINK","LINK_STATUS","createProgram","_shaders","_linked","_log","_autoLink","_attributes","_uniforms","_importShader","_addShaders","shaders","_setAttributes","attributes","link","_postLink","setUniforms","uniforms","_uniformSetFunctions","BOOL","location","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","SAMPLER_CUBE","_shaderHandleIndex","_shaderIndex","SHADER_TYPE","VertexShader","FragmentShader","_updateActiveInfo","ACTIVE_ATTRIBUTES","name","ACTIVE_UNIFORMS","setValue","lastIndexOf","Shader","WebGLShader","_removeShaders","isLinked","addShaders","removeShaders","hasShader","getShaders","validate","VALIDATE_STATUS","setAttributes","getAttributesNames","getAttributesIndices","getAttributesInfo","getUniformsNames","getUniformsValues","getUniformsInfo","RENDERBUFFER_INTERNAL_FORMAT","RENDERBUFFER_WIDTH","RENDERBUFFER_HEIGHT","createRenderbuffer","_width","_height","_format","internalFormat","setStorage","source","autoCompile","DEFAULT_AUTO_COMPILE","COMPILE_STATUS","DELETE_STATUS","createShader","_source","_compiled","_autoCompile","setSource","_postCompile","isCompiled","compile","magFilter","DEFAULT_MAG_FILTER","minFilter","DEFAULT_MIN_FILTER","wrapS","DEFAULT_WRAP_S","wrapT","DEFAULT_WRAP_T","flipYPolicy","premultiplyAlphaPolicy","colorspaceConversionPolicy","autoMipmap","DEFAULT_AUTO_GENERATE_MIPMAP","createTexture","_magFilter","TEXTURE_MAG_FILTER","_minFilter","TEXTURE_MIN_FILTER","_wrapS","TEXTURE_WRAP_S","_wrapT","TEXTURE_WRAP_T","_flipY","_premultiplyAlpha","_colorspaceConversion","_autoMipmap","_missingFaces","_FACE_ALL_BITS","setSampler","DEFAULT_BORDER","DEFAULT_FORMAT","DEFAULT_INTERNAL_FORMAT","DEFAULT_LEVEL","LINEAR","DEFAULT_TYPE","REPEAT","DEFAULT_X_OFFSET","DEFAULT_Y_OFFSET","_FACE_POSITIVE_X_BIT","_FACE_NEGATIVE_X_BIT","_FACE_POSITIVE_Y_BIT","_FACE_NEGATIVE_Y_BIT","_FACE_POSITIVE_Z_BIT","_FACE_NEGATIVE_Z_BIT","_faceBits","_setTexParameter","_setImageData","border","xoffset","yoffset","flipY","premultiplyAlpha","colorspaceConversion","HTMLImageElement","HTMLVideoElement","ImageData","_setImage","_setSubImage","premultuplyAlphaPolicy","_premultuplyAlpha","w","getSampler","setImage","setSubImage","_faceTargets","Model","_createSimpleDescriptor","_descriptor","_fixDescriptor","_renderData","updateGL","updateRenderData","DEFAULT_VERTEX_STREAM_SIZE","DEFAULT_VERTEX_STREAM_TYPE","DEFAULT_VERTEX_STREAM_NORMALIZED","DEFAULT_VERTEX_STREAM_STRIDE","DEFAULT_VERTEX_STREAM_OFFSET","DEFAULT_PRIMITIVE_STREAM_MODE","DEFAULT_PRIMITIVE_STREAM_FIRST","DEFAULT_PRIMITIVE_STREAM_COUNT","DEFAULT_PRIMITIVE_STREAM_TYPE","DEFAULT_PRIMITIVE_STREAM_OFFSET","DEFAULT_SIMPLE_MODEL_VERTEX_MAP","position","semantic","value","normal","texcoord","user","DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP","triangles","mode","triangleStrip","triangleFan","lines","lineStrip","lineLoop","points","version","meta","access","logic","_fixDescriptorMeta","_fixDescriptorData","_fixDescriptorAccess","_fixDescriptorSemantic","_fixDescriptorLogic","author","date","description","vertexBuffers","indexBuffers","_fixDescriptorDataVertexBuffers","_fixDescriptorDataIndexBuffers","_fixDescriptorDataVertexBuffer","_fixDescriptorDataBuffer","_fixDescriptorDataIndexBuffer","untypedArray","typedArray","glBuffer","vertexStreams","primitiveStreams","_fixDescriptorAccessVertexStreams","_fixDescriptorAccessPrimitiveStreams","_fixDescriptorAccessVertexStream","_fixDescriptorAccessPrimitiveStream","first","bindings","chunks","_fixDescriptorSemanticBindings","_fixDescriptorSemanticChunks","_fixDescriptorSemanticBinding","_fixDescriptorSemanticBindingVertexStreams","_fixDescriptorSemanticBindingPrimitiveStreams","_fixDescriptorSemanticBindingVertexStream","_fixDescriptorSemanticBindingPrimitiveStream","_fixDescriptorSemanticChunk","techniques","_fixDescriptorSemanticChunkTechniques","_fixDescriptorSemanticChunkTechnique","binding","parts","_fixDescriptorLogicParts","_fixDescriptorLogicPart","_fixDescriptorLogicPartChunks","vertices","primitives","options","mainBinding","mainChunk","common","mainPart","descriptor","renderData","updateTypedArrays","destroyGL","partMap","buffered","constant","stream","streams","array","Technique","program","globals","_fixSemantic","_fixVertexStreams","_fixGlobals","charAt","substring","parseInt","vertexShader","fragmentShader","attributesMap","globalsMap","ModelRenderer","_vertexAttributesCount","MAX_VERTEX_ATTRIBS","_textureUnitsCount","_internalFramebuffer","_reset","_technique","_model","_partName","_chunkName","_primMode","_framebuffer","_inBegin","_enabledArrays","_boundTextures","_attribValues","_primitiveStreams","_techniqueDirty","_modelDirty","_modelPartDirty","_modelChunkDirty","_primModeDirty","_framebufferDirty","_viewportDirty","_dirty","_resetContext","disableVertexAttribArray","_update","vertexAttrib1fv","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","end","begin","unit","isInBegin","setTechnique","technique","setModel","setPart","_part","part","setChunk","_chunk","chunk","setPrimitiveMode","primitiveMode","setDefaultGlobals","setGlobals","setFramebuffer","activateOffScreenFramebuffer","activateMainFramebuffer","setFramebufferAttachments","setColorRenderTarget","setDepthRenderTarget","setStencilRenderTarget","setDepthStencilRenderTarget","clearFramebuffer","clearColor","clearDepth","clearStencil","Stencil_BUFFER_BIT","setViewport","setTexture","canRender","render","drawArrays","renderModelPart","renderModel","UserInterface","CanvasHandler","canvas","_canvas","_handler","_ignoreKeyRepeat","ignoreKeyRepeat","DEFAULT_IGNORE_KEY_REPEAT","_keysDown","_mouseButtonsDown","_dragging","_dragStartPos","_dragEndPos","_dragDeltaPos","_cursorPos","_cursorPrevPos","_cursorDeltaPos","_cursorDeltaTime","_cursorIncrPos","_cursorIncrTime","_clickPos","_clickPrevPos","_touches","_touchZoomDelta","_touchPanResolved","_drawEventPending","_drawEventHandler","_onDraw","_postDrawEventFunction","_postDrawEvent","_animateTime","_animatePrevTime","_animateDeltaTime","_animateRate","_animateID","_animateEventHandler","_onAnimate","_animateMS","_animateWithTimeout","_fastAnimate","_fpsUpdateMS","_fpsTime","_fpsCount","_fps","_delegateDraw","_FAST_ANIMATE_MESSAGE_NAME","stopPropagation","_FAST_DRAW_MESSAGE_NAME","tabIndex","_onTerminate","_onKeyDown","_onKeyUp","_onKeyPress","_onMouseButtonDown","_onMouseButtonUp","_onMouseMove","_onMouseOut","_onClick","_onDoubleClick","_onResize","_onMouseWheel","_onBlur","SglBrowser","pointerType","_onTouchStart","_onTouchEnd","_onTouchMove","_onWindowMouseButtonUp","_onWindowMouseMove","_onWindowResize","standardGLUnpack","DEFAULT_STANDARD_GL_UNPACK","animateRate","DEFAULT_ANIMATE_RATE","DEFAULT_PROPERTY_NAME","_firstNotify","_onInitialize","postDrawEvent","_postDrawCount","requestAnimationFrame","_getMouseClientPos","getBoundingClientRect","changedTouches","clientX","left","clientY","timeStamp","keyCode","fromCharCode","focus","targetTouches","id","pointerId","evt","preventDefault","button","_resolveTouchZoom","_resolveTouchPan","event","wheelDelta","detail","setTimeout","postMessage","postDrawCount","animateTime","animatePrevTime","animateDeltaTime","clearInterval","setInterval","framesPerSecond","isKeyDown","isMouseButtonDown","isDragging","dragStartX","dragStartY","dragEndX","dragEndY","dragDeltaX","dragDeltaY","cursorX","cursorY","cursorPrevX","cursorPrevY","cursorDeltaX","cursorDeltaY","draw","handleCanvas","uiName","handleCanvasOnLoad","onLoad","HOP_VERSION","HOP_ALL","HOP_DEBUGMODE","HOP_DEFAULTLIGHT","HOP_DEFAULTPOINTSIZE","SGL_TRACKBALL_NO_ACTION","SGL_TRACKBALL_ROTATE","SGL_TRACKBALL_PAN","SGL_TRACKBALL_DOLLY","SGL_TRACKBALL_SCALE","Presenter","_supportsWebGL","sglHandleCanvas","console","_parseScene","background","_parseBackground","meshes","_parseMeshes","texturedQuads","_parseTexturedQuads","modelInstances","_parseModelInstances","spots","_parseSpots","trackball","_parseTrackball","space","_parseSpace","config","_parseConfig","sglGetDefaultObject","isEnvironment","_objectsToProcess","_objectsToLoad","_parseMesh","mType","transform","_parseTransform","_parseTexturedQuad","_parseModelInstance","mesh","rendermode","useSolidColor","specularColor","backfaceColor","alpha","useTransparency","useLighting","cursor","ID","visible","tags","clippable","measurable","_instancesProgressiveID","_parseSpot","alphaHigh","useStencil","_spotsProgressiveID","TurnTableTrackball","trackOptions","locked","centerMode","radiusMode","whichInstanceCenter","whichInstanceRadius","explicitCenter","explicitRadius","cameraFOV","cameraNearFar","cameraType","sceneLighting","pickedpointColor","measurementColor","showClippingPlanes","showClippingBorder","clippingBorderSize","clippingBorderColor","pointSize","pointSizeMinMax","autoSaveScreenshot","screenshotBaseName","SglMat4","rotation","overwrite","matrixT","matrixR","matrixS","mrX","sglDegToRad","mrY","mrZ","_createStandardPointsProgram","ui","pointsVertexShader","SglVertexShader","_isDebugging","pointsFragmentShader","SglFragmentShader","SglProgram","aPosition","aNormal","aColor","aPointSize","uWorldViewProjectionMatrix","uViewSpaceNormalMatrix","SglMat3","uWorldViewMatrix","uModelMatrix","uViewSpaceLightDirection","uPointSize","uAlpha","uUseSolidColor","uUseLighting","uSolidColor","uSpecularColor","uClipPoint","uClipAxis","uClipPlane","uClipColor","uClipColorSize","_createStandardFacesProgram","facesVertexShader","facesFragmentShader","aTextureCoord","uBackFaceColor","uSampler","_createUtilsProgram","utilsVertexShader","utilsFragmentShader","utilsProgram","uColorID","uMode","_createColorShadedProgram","colorShadedVertexShader","colorShadedFragmentShader","_createStandardPointsTechnique","SglTechnique","_createStandardFacesTechnique","_createUtilsTechnique","_createColorShadedTechnique","_createSimpleLinetechnique","uLineColor","uPointA","uPointB","_createMultiLinesPointstechnique","uZOff","_onMeshReady","_objectLoaded","_onTextureReady","_onBackgroundReady","_testReady","_onLoadedEvent","that","_sceneReady","_scenePrepare","repaint","_scene","instances","renderable","inst","renderMode","spt","_isSceneReady","_sceneParsed","_pickingRefresh","pickedPixel","_pickpoint","_onEndPickingPoint","_onEndMeasurement","_onPickedSpot","_onEnterSpot","_onLeaveSpot","_drawScenePickingSpots","_Color2ID","_lastSpotID","_pickedSpot","_onHover","_isMeasuring","_lastCursor","style","_lastPickedSpot","_onPickedInstance","_onEnterInstance","_onLeaveInstance","_drawScenePickingInstances","_lastInstanceID","_pickedInstance","_lastPickedInstance","_measureRefresh","_isMeasuringDistance","ppoint","_drawScenePickingXYZ","_measurementStage","_pointA","_pointB","measurement","SglVec3","_startMeasurement","_stopMeasurement","_isMeasuringPickpoint","_pickpointRefresh","_pickedPoint","_pickValid","_startPickPoint","_stopPickPoint","_setSceneCenterRadius","sceneCenter","sceneRadiusInv","instCenter","datasetCenter","SglVec4","smin","smax","imin","imax","radius","datasetRadius","vector111","scalefactor","scenter","_destroyPickFramebuffer","pickFramebuffer","pickColorTexture","pickDepthRenderbuffer","_createPickFramebuffer","SglTexture2D","SglRenderbuffer","DEPTH_COMPONENT16","SglFramebuffer","_setupDraw","xform","FOV","nearP","farP","cDistance","distance","Nexus","beginFrame","_ID2Color","intID","IDr","IDg","_onPlyLoaded","req","thatmesh","plyData","modelDescriptor","importPly","TMR","SglModel","extra","boundingBox","textureUrl","texUrl","tmpUrl","split","j","concat","texture","hasTexture","_drawScene","renderer","CurrFacesProgram","facesProgram","CurrPointsProgram","pointsProgram","CurrFacesTechnique","faceTechnique","CurrPointsTechnique","pointTechnique","CCProgram","colorShadedProgram","CCTechnique","colorShadedTechnique","lineTechnique","simpleLineTechnique","entitiesTechnique","multiLinesPointsTechnique","entities","bkg","DEPTH_TEST","instance","thisClipAxis","_clipAxis","thisClipPlane","_clipPlane","thisClipBordersize","_lightDirection","_clipPoint","nexus","updateView","depthMask","BLEND","blendFunc","SRC_ALPHA","ONE","disable","depthFunc","LESS","lineUniforms","simpleLineModel","GREATER","ent","entity","entityUniforms","zOff","spot","colorMask","STENCIL_TEST","stencilFunc","ALWAYS","stencilOp","KEEP","INVERT","EQUAL","planepoint","k","_sceneBboxCenter","rotm","_clipPlaneAH","_clipPlaneAV","psize","_sceneBboxDiag","QuadUniforms","simpleQuadXModel","_sceneBboxMax","_sceneBboxMin","simpleQuadYModel","simpleQuadZModel","endFrame","isCapturingScreenshot","screenshotData","toDataURL","replace","currentdate","fName","getHours","getMinutes","getSeconds","msToBlob","blob","msSaveBlob","createElement","href","download","click","CurrProgram","CurrTechnique","utilsTechnique","pixel","ppointc","rr","gg","bb","colorID","_drawNull","_createMeshModels","keys","Object","ext","nexus_instance","Renderer","onUpdate","sglRequestBinary","_createLineModel","_createQuadModels","onInitialize","vertexAttrib3f","vertexAttrib4f","vertexAttrib2f","vertexAttrib1f","SglModelRenderer","SglTransformationStack","_nexusTargetFps","_nexusTargetError","_nexusCacheSize","installDefaultShaders","_keycombo","_targetInstanceName","_targetHotSpotName","_animating","_movingLight","_resizable","_clickable","onDrag","dxl","dyl","rotateLight","action","diff","testMatrix","_matrix","track","onMouseMove","onMouseOut","createEvent","initEvent","dispatchEvent","onMouseButtonDown","onClick","xy","clickDeltaPos","clickDeltaTime","clickDeltaDist","recenter","onKeyDown","key","ctrlKey","onKeyPress","charCode","Debug","nodes","toggleCameraType","getState","onKeyUp","onMouseWheel","altKey","testValue","factor","onAnimate","dt","tick","onDraw","setScene","enableLightTrackball","scene","setup","setTargetError","setTargetFps","setMaxCacheSize","supportsWebGL","toggleDebugMode","saveScreenshot","createEntity","eName","positionList","nEntity","numVerts","vInd","deleteEntity","setNexusTargetFps","fps","getNexusTargetFps","setNexusTargetError","getNexusTargetError","setNexusCacheSize","getNexusCacheSize","resetTrackball","getTrackballPosition","setTrackballPosition","newposition","setState","animateToTrackballPosition","newtime","animateToState","isAnimate","setCenterModeFirst","setCenterModeScene","setCenterModeSpecific","instancename","setCenterModeExplicit","newcenter","isFinite","setRadiusModeFirst","setRadiusModeScene","setRadiusModeSpecific","setRadiusModeExplicit","newradius","setInstanceSolidColorByName","newState","redraw","newColor","setInstanceSolidColor","tag","tg","toggleInstanceSolidColorByName","toggleInstanceSolidColor","isInstanceSolidColorEnabledByName","solidcolor","isInstanceSolidColorEnabled","setInstanceTransparencyByName","newAlpha","setInstanceTransparency","toggleInstanceTransparencyByName","toggleInstanceTransparency","isInstanceTransparencyEnabledByName","transparency","isInstanceTransparencyEnabled","setInstanceSpecularityByName","hardness","setInstanceSpecularity","setInstanceBackfaceByName","modecode","setInstanceBackface","setInstanceVisibilityByName","setInstanceVisibility","toggleInstanceVisibilityByName","toggleInstanceVisibility","isInstanceVisibilityEnabledByName","visibility","isInstanceVisibilityEnabled","setSpotVisibilityByName","setSpotVisibility","toggleSpotVisibilityByName","toggleSpotVisibility","isSpotVisibilityEnabledByName","isSpotVisibilityEnabled","resetClippingXYZ","_calculateBounding","setClippingXYZ","cx","cy","cz","setClippingX","setClippingY","setClippingZ","getClippingX","getClippingY","getClippingZ","setClippingPointXYZabs","clx","cly","clz","setClippingPointXabs","setClippingPointYabs","setClippingPointZabs","setClippingPointXYZ","nClipPoint","setClippingPointX","setClippingPointY","setClippingPointZ","setClippingRendermode","showPlanes","showBorder","borderSize","borderColor","getClippingRendermode","resetClippingPlane","setClippingPlaneExplicit","axis","setClippingPlane","angleH","angleV","sign","delta","deltaabs","sceneOff","zoomIn","zoomOut","z","on","isLightTrackballEnabled","enableOnHover","isOnHoverEnabled","enableMeasurementTool","isMeasurementToolEnabled","enablePickpointMode","isPickpointModeEnabled","isAnyMeasurementEnabled","setCameraPerspective","setCameraOrthographic","getCameraType","toggleTrackballLock","setTrackballLock","isTrackballLockEnabled","enableSceneLighting","isSceneLightingEnabled","setInstanceLightingByName","setInstanceLighting","toggleInstanceLightingByName","toggleInstanceLighting","isInstanceLightingEnabledByName","Lighting","isInstanceLightingEnabled","parsePly","canonicTypes","char","int8","uchar","uint8","short","int16","ushort","uint16","int","int32","uint","uint32","float","float32","double","float64","trim","extractHeader","u8","header","found","currC","prevC","pos","splitHeader","trimmed","tokens","parseHeader","prop","tn","info","elements","elementMap","comments","others","binary","littleEndian","properties","propertyMap","tabStr","setupLines","tabs","generateReadValue","assignExpr","types","newIdentifiers","nIde","vIde","iIde","generateReadProperty","generateReadElement","props","generateReadElements","elemIndex","generateReadMesh","elems","elementLines","ides","ide","sort","join","getMeshInfo","mainParsePly","handler","emptyFunc","callbacks","onBegin","onHeader","onBeginContent","onBeginElements","onElement","onEndElements","onEndContent","onEnd","dataView","DataView","map","_textureUrl","readMeshStr","readMeshFunc","eval","canonicType","emptyFunction","propertiesTypes","PlyHandler","_buffer","_modelDescriptor","_verticesCount","_vertexAttributes","_vertexStride","_vertexBuffer","_handleVertex","_facesCount","_indexBuffer","_handleFace","_view","_hasPosition","_hasNormal","_hasColor","_hasTexCoord","_renderMode","_boundingBox","mainImportPly","ptypes","verticesCount","vertexLines","vertexAttributes","vertexStride","hasPosition","hasNormal","hasColor","hasTexCoord","facesCount","faceLines","_mesh","vertexFuncStr","faceFuncStr","elementInfo","_handleElement","element","control","modelVertexBuffers","modelIndexBuffers","modelVertexStreams","modelPrimitiveStreams","modelBindings","modelChunks","modelParts","Float64Array","vertexBufferView","indexBufferView","chunksCount","chunkVertexBuffers","chunkVerticesCount","chunkIndexBuffers","chunkIndicesCount","facesLeft","currFaceIndex","indicesBuffer","verticesMap","verticesNew","indicesCount","chunkVertexBuffer","chunkVertexBufferView","chunkIndexBuffer","set","subarray","partChunks","indexBufferName","bindingName","chunkName","vertexBufferName","attr","vertexStreamName","pointStreamName","triStreamName","unshift","PanTiltTrackball","opt","startCenter","startPanX","startPanY","startAngleX","startAngleY","startDistance","minMaxDist","minMaxPanX","minMaxPanY","minMaxAngleX","minMaxAngleY","pathStates","animationLocked","animationTime","_action","_new_action","_pathStates","_animationLocked","_pathPosNum","_center","_startPanX","_startPanY","_startAngleX","_startAngleY","_startDistance","_panX","_panY","_angleX","_angleY","_distance","_targetPanX","_targetPanY","_targetAngleX","_targetAngleY","_targetDistance","_isAnimating","_speedPanX","_speedPanY","_speedAngleX","_speedAngleY","_speedDistance","_isAutoWalking","_animationTime","_minMaxDist","_minMaxPanX","_minMaxPanY","_minMaxAngleX","_minMaxAngleY","_start","_clamp","low","high","_computeMatrix","onTrackballUpdate","sglRadToDeg","newstate","timePanX","timePanY","timeAngleX","timeAngleY","timeDistance","maxtime","animationtime","state","time","newpoint","newpanX","presenter","newpanY","deltaPanX","deltaPanY","deltaAngleX","deltaAngleY","deltaDistance","diffPanX","diffPanY","diffAngleX","diffAngleY","diffDistance","dx","dy","pan","panSpeed","SphereTrackball","_sphereMatrix","_pts","_projectOnSphere","sglSqrt","_transform","_transformOnSphere","_translate","invMat","trMat","newpanZ","dolly","mInv","v0","v1","angle","rotMat","dz","startPhi","startTheta","minMaxPhi","minMaxTheta","_startPhi","_startTheta","_phi","_theta","_targetPhi","_targetTheta","_speedPhi","_speedTheta","_limitPhi","_minMaxPhi","_minMaxTheta","clampedangle","speedphi","timePhi","timeTheta","deltaPhi","deltaTheta","diffPhi","diffTheta","TurntablePanTrackball","startPanZ","minMaxPanZ","_startPanZ","_panZ","_targetPanZ","_speedPanZ","_minMaxPanZ","timePanZ","deltaPanZ","diffPanZ","Xvec","Yvec","Zvec","init3dhop","interval","ismousedown","isIOS","$","append","mouseenter","css","mouseout","mousedown","actionsToolbar","mouseup","isMobile","getSelection","removeAllRanges","selection","createRange","empty","msFullscreenElement","mozFullScreen","webkitIsFullScreen","exitFullscreen","enterFullscreen","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","documentElement","clientWidth","innerWidth","innerHeight","parent","resizeCanvas","mouseleave","anchorPanels","set3dhlg","right","bottom","html","mouseover","animate","lightSwitch","undefined","lightingSwitch","hotspotSwitch","pickpointSwitch","fadeIn","measureSwitch","colorSwitch","cameraSwitch","helpSwitch","sectiontoolSwitch","sectiontoolInit","xplaneSlider","step","defaultValue","oninput","sectionxSwitch","valueAsNumber","onchange","yplaneSlider","sectionySwitch","zplaneSlider","sectionzSwitch","xplaneFlip","defaultChecked","checked","yplaneFlip","zplaneFlip","planesCheck","edgesCheck","sectiontoolReset","fullscreenSwitch","_nativeWidth","_nativeHeight","viewer","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","showPanel","measurementSwitch","moveToolbar","movePickpointbox","moveMeasurementbox","moveSectionsbox","moveMeasurebox","MSStream","vendor"],"mappings":"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","file":"3dviewer.min.js","sourcesContent":["/*\nSpiderGL Computer Graphics Library\nCopyright (c) 2010, Marco Di Benedetto - Visual Computing Lab, ISTI - CNR\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n    * Redistributions of source code must retain the above copyright\n      notice, this list of conditions and the following disclaimer.\n    * Redistributions in binary form must reproduce the above copyright\n      notice, this list of conditions and the following disclaimer in the\n      documentation and/or other materials provided with the distribution.\n    * Neither the name of SpiderGL nor the\n      names of its contributors may be used to endorse or promote products\n      derived from this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND\nANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\nWARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL PAUL BRUNT BE LIABLE FOR ANY\nDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\nLOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\nON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\nSOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nvar SpiderGL={TAG:0,openNamespace:function(e){e=SpiderGL.Utility.getDefaultObject({globalObject:SpiderGL.openNamespace.DEFAULT_GLOBAL_OBJECT,constantPrefix:SpiderGL.openNamespace.DEFAULT_CONSTANT_PREFIX,functionPrefix:SpiderGL.openNamespace.DEFAULT_FUNCTION_PREFIX,classPrefix:SpiderGL.openNamespace.DEFAULT_CLASS_PREFIX},e);var t=new RegExp(\"^(([_$0-9A-Z])+)$\");function r(e){return t.test(e)}var i=new RegExp(\"^([A-Z])\");var n=new RegExp(\"^(([a-z])+([_$0-9A-Za-z])*)$\");function a(e){return n.test(e)}function s(e){return e.substr(0,1).toUpperCase()+e.substr(1)}var o={},u={},d={};function p(e){var t;if(e)for(var n in e)if(\"_\"!=n.substr(0,1)){var s=e[n];t=n,i.test(t)&&!r(t)?o[n]=s:a(n)?u[n]=s:r(n)&&(d[n]=s)}}var h=[\"Core\",\"DOM\",\"IO\",\"Math\",\"Mesh\",\"Model\",\"Semantic\",\"Space\",\"Type\",\"UserInterface\",\"Utility\",\"Version\",\"WebGL\"];for(var _ in h)p(SpiderGL[h[_]]);for(var _ in o){var f=e.classPrefix+s(_);e.globalObject[f]=o[_]}for(var _ in u){f=e.functionPrefix+s(_);e.globalObject[f]=u[_]}for(var _ in d){f=e.constantPrefix+s(_);e.globalObject[f]=d[_]}}};SpiderGL.openNamespace.DEFAULT_GLOBAL_OBJECT=window,SpiderGL.openNamespace.DEFAULT_CONSTANT_PREFIX=\"SGL_\",SpiderGL.openNamespace.DEFAULT_FUNCTION_PREFIX=\"sgl\",SpiderGL.openNamespace.DEFAULT_CLASS_PREFIX=\"Sgl\",SpiderGL.Version={},SpiderGL.Version.VERSION_MAJOR=0,SpiderGL.Version.VERSION_MINOR=2,SpiderGL.Version.VERSION_REVISION=10,SpiderGL.Version.VERSION_STRING=SpiderGL.Version.VERSION_MAJOR+\".\"+SpiderGL.Version.VERSION_MINOR+\".\"+SpiderGL.Version.VERSION_REVISION,SpiderGL.Core={},SpiderGL.Core.DEFAULT={},SpiderGL.Core.DONT_CARE={},SpiderGL.Core.EMPTY_STRING=\"\",SpiderGL.Core.EMPTY_OBJECT={},SpiderGL.Core.EMPTY_ARRAY=[],SpiderGL.Core.EMPTY_FUNCTION=function(){},SpiderGL.Core.generateUID=function(){return SpiderGL.Core.generateUID._lastUID++,SpiderGL.Core.generateUID._lastUID},SpiderGL.Core.generateUID._lastUID=0,SpiderGL.Core.ObjectBase=function(){this._uid=SpiderGL.Core.generateUID()},SpiderGL.Core.ObjectBase.prototype={get uid(){return this._uid}},SpiderGL.Type={},SpiderGL.Type.LITTLE_ENDIAN=function(){var e=new Uint8Array([18,52]);return 13330==new Uint16Array(e.buffer)[0]}(),SpiderGL.Type.BIG_ENDIAN=!SpiderGL.Type.BIG_ENDIAN,SpiderGL.Type.NO_TYPE=0,SpiderGL.Type.INT8=1,SpiderGL.Type.UINT8=2,SpiderGL.Type.INT16=3,SpiderGL.Type.UINT16=4,SpiderGL.Type.INT32=5,SpiderGL.Type.UINT32=6,SpiderGL.Type.FLOAT32=7,SpiderGL.Type.SIZEOF_INT8=Int8Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT8=Uint8Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_INT16=Int16Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT16=Uint16Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_INT32=Int32Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_UINT32=Uint32Array.BYTES_PER_ELEMENT,SpiderGL.Type.SIZEOF_FLOAT32=Float32Array.BYTES_PER_ELEMENT,SpiderGL.Type.typeSize=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=0,e[SpiderGL.Type.INT8]=SpiderGL.Type.SIZEOF_INT8,e[SpiderGL.Type.UINT8]=SpiderGL.Type.SIZEOF_UINT8,e[SpiderGL.Type.INT16]=SpiderGL.Type.SIZEOF_INT16,e[SpiderGL.Type.UINT16]=SpiderGL.Type.SIZEOF_UINT16,e[SpiderGL.Type.INT32]=SpiderGL.Type.SIZEOF_INT32,e[SpiderGL.Type.UINT32]=SpiderGL.Type.SIZEOF_UINT32,e[SpiderGL.Type.FLOAT32]=SpiderGL.Type.SIZEOF_FLOAT32,function(t){return e[t]}}(),SpiderGL.Type.typeToGL=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=WebGLRenderingContext.prototype.NONE,e[SpiderGL.Type.INT8]=WebGLRenderingContext.prototype.BYTE,e[SpiderGL.Type.UINT8]=WebGLRenderingContext.prototype.UNSIGNED_BYTE,e[SpiderGL.Type.INT16]=WebGLRenderingContext.prototype.SHORT,e[SpiderGL.Type.UINT16]=WebGLRenderingContext.prototype.UNSIGNED_SHORT,e[SpiderGL.Type.INT32]=WebGLRenderingContext.prototype.INT,e[SpiderGL.Type.UINT32]=WebGLRenderingContext.prototype.UNSIGNED_INT,e[SpiderGL.Type.FLOAT32]=WebGLRenderingContext.prototype.FLOAT,function(t){return e[t]}}(),SpiderGL.Type.typeFromGL=function(){var e={};return e[WebGLRenderingContext.prototype.NONE]=SpiderGL.Type.NO_TYPE,e[WebGLRenderingContext.prototype.BYTE]=SpiderGL.Type.INT8,e[WebGLRenderingContext.prototype.UNSIGNED_BYTE]=SpiderGL.Type.UINT8,e[WebGLRenderingContext.prototype.SHORT]=SpiderGL.Type.INT16,e[WebGLRenderingContext.prototype.UNSIGNED_SHORT]=SpiderGL.Type.UINT16,e[WebGLRenderingContext.prototype.INT]=SpiderGL.Type.INT32,e[WebGLRenderingContext.prototype.UNSIGNED_INT]=SpiderGL.Type.UINT32,e[WebGLRenderingContext.prototype.FLOAT]=SpiderGL.Type.FLOAT32,function(t){return e[t]}}(),SpiderGL.Type.typeSizeFromGL=function(e){var t=SpiderGL.Type.typeFromGL(e);return SpiderGL.Type.typeSize(t)},SpiderGL.Type.typeToTypedArrayConstructor=function(){var e={};return e[SpiderGL.Type.NO_TYPE]=ArrayBuffer,e[SpiderGL.Type.INT8]=Int8Array,e[SpiderGL.Type.UINT8]=Uint8Array,e[SpiderGL.Type.INT16]=Int16Array,e[SpiderGL.Type.UINT16]=Uint16Array,e[SpiderGL.Type.INT32]=Int32Array,e[SpiderGL.Type.UINT32]=Uint32Array,e[SpiderGL.Type.FLOAT32]=Float32Array,function(t){return e[t]}}(),SpiderGL.Type.POINTS=0,SpiderGL.Type.LINES=1,SpiderGL.Type.LINE_LOOP=2,SpiderGL.Type.LINE_STRIP=3,SpiderGL.Type.TRIANGLES=4,SpiderGL.Type.TRIANGLE_FAN=5,SpiderGL.Type.TRIANGLE_STRIP=6,SpiderGL.Type.primitiveToGL=function(){var e={};return e[SpiderGL.Type.POINTS]=WebGLRenderingContext.prototype.POINTS,e[SpiderGL.Type.LINES]=WebGLRenderingContext.prototype.LINES,e[SpiderGL.Type.LINE_LOOP]=WebGLRenderingContext.prototype.LINE_LOOP,e[SpiderGL.Type.LINE_STRIP]=WebGLRenderingContext.prototype.LINE_STRIP,e[SpiderGL.Type.TRIANGLES]=WebGLRenderingContext.prototype.TRIANGLES,e[SpiderGL.Type.TRIANGLE_FAN]=WebGLRenderingContext.prototype.TRIANGLE_FAN,e[SpiderGL.Type.TRIANGLE_STRIP]=WebGLRenderingContext.prototype.TRIANGLE_STRIP,function(t){return e[t]}}(),SpiderGL.Type.instanceOf=function(e,t){return e instanceof t},SpiderGL.Type.isNumber=function(e){return\"number\"==typeof e},SpiderGL.Type.isString=function(e){return\"string\"==typeof e},SpiderGL.Type.isFunction=function(e){return\"function\"==typeof e},SpiderGL.Type.isArray=function(e){return e&&e.constructor===Array},SpiderGL.Type.isTypedArray=function(e){return e&&void 0!==e.buffer&&e.buffer instanceof ArrayBuffer},SpiderGL.Type.extend=function(e,t){function r(){}r.prototype=t.prototype;var i=e.prototype,n=new r;n.constructor=e;var a=null,s=null;for(var o in i)(a=i.__lookupGetter__(o))&&n.__defineGetter__(o,a),(s=i.__lookupSetter__(o))&&n.__defineSetter__(o,s),a||s||(n[o]=i[o]);e.prototype=n},SpiderGL.Type.defineClassGetter=function(e,t,r){e.prototype.__defineGetter__(t,r)},SpiderGL.Type.defineClassSetter=function(e,t,r){e.prototype.__defineSetter__(t,r)},SpiderGL.Type.defineObjectGetter=function(e,t,r){e.__defineGetter__(t,r)},SpiderGL.Type.defineObjectSetter=function(e,t,r){e.__defineSetter__(t,r)},SpiderGL.Utility={},SpiderGL.Utility.getDefaultValue=function(e,t){return void 0===e||e===SpiderGL.Core.DEFAULT?t:e},SpiderGL.Utility.getDefaultObject=function(e,t){if(t){var r=SpiderGL.Core.DEFAULT;for(var i in t)t[i]!=r&&(e[i]=t[i])}return e},SpiderGL.Utility.setDefaultValues=function(e,t){if(!t)return e;var r=SpiderGL.Core.DEFAULT;for(var i in t)t[i]==r&&void 0!==e[i]&&(t[i]=e[i]);for(var i in e)void 0===t[i]&&(t[i]=e[i]);return t},SpiderGL.Utility.getAttrib4fv=function(e){return SpiderGL.Type.isNumber(e)?[e,0,0,1]:e?[null!=e[0]?e[0]:0,null!=e[1]?e[1]:0,null!=e[2]?e[2]:0,null!=e[3]?e[3]:1]:[0,0,0,1]},SpiderGL.Utility.getTime=function(){return(new Date).getTime()},SpiderGL.Utility.Timer=function(){this._tStart=-1,this._tElapsed=0},SpiderGL.Utility.Timer.prototype={_accumElapsed:function(){this._tElapsed+=this.now-this._tStart},get now(){return Date.now()},start:function(){this.isStarted||this.isPaused||(this._tStart=this.now,this._tElapsed=0)},restart:function(){var e=this.elapsed;return this._tStart=this.now,this._tElapsed=0,e},stop:function(){this.isStarted&&(this.isPaused||(this._accumElapsed(),this._tStart=-1))},get isStarted(){return this._tStart>=0},pause:function(){this.isStarted&&(this.isPaused||(this._accumElapsed(),this._tStart=-2))},resume:function(){this.isStarted&&this.isPaused&&(this._tStart=this.now)},get isPaused(){return-2==this._tStart},get elapsed(){return this.isStarted?this._tElapsed+(this.now-this._tStart):this._tElapsed}},SpiderGL.Utility.Browser=function(){},SpiderGL.Utility.Browser.prototype={get isOpera(){return!!window.opr&&!!opr.addons||!!window.opera||navigator.userAgent.indexOf(\" OPR/\")>=0},get isFirefox(){return\"undefined\"!=typeof InstallTrigger||navigator.userAgent.toLowerCase().indexOf(\"fxios\")>-1},get isSafari(){return!!navigator.userAgent.match(/Version\\/[\\d\\.]+.*Safari/)||/constructor/i.test(window.HTMLElement)||\"[object SafariRemoteNotification]\"===(!window.safari||\"undefined\"!=typeof safari&&safari.pushNotification).toString()},get isIE(){return!!document.documentMode},get isEdge(){return!this.isIE&&!!window.StyleMedia},get isChrome(){return!!window.chrome&&!!window.chrome.webstore}},SpiderGL.DOM={},SpiderGL.DOM.getElementById=function(e){return document.getElementById(e)},SpiderGL.DOM.getElementText=function(e){var t=document.getElementById(e);if(!t)return null;var r=\"\";for(t=t.firstChild;t;)3==t.nodeType&&(r+=t.textContent),t=t.nextSibling;return r},SpiderGL.IO={},SpiderGL.IO.Request=function(e,t){SpiderGL.Core.ObjectBase.call(this),t=SpiderGL.Utility.getDefaultObject({async:SpiderGL.IO.Request.DEFAULT_ASYNC,send:SpiderGL.IO.Request.DEFAULT_SEND,onProgress:null,onCancel:null,onError:null,onSuccess:null,onFinish:null},t),this._url=e,this._async=t.async,this._status=SpiderGL.IO.Request.NONE,this._sent=!1,this._aborted=!1,this._data=null,this._loaded=0,this._total=0,this._events={progress:{main:null,listeners:[]},cancel:{main:null,listeners:[]},error:{main:null,listeners:[]},success:{main:null,listeners:[]},finish:{main:null,listeners:[]}},this.onProgress=t.onProgress,this.onCancel=t.onCancel,this.onError=t.onError,this.onSuccess=t.onSuccess,this.onFinish=t.onFinish},SpiderGL.IO.Request.NONE=0,SpiderGL.IO.Request.ONGOING=1,SpiderGL.IO.Request.CANCELLED=2,SpiderGL.IO.Request.FAILED=3,SpiderGL.IO.Request.SUCCEEDED=4,SpiderGL.IO.Request.DEFAULT_ASYNC=!0,SpiderGL.IO.Request.DEFAULT_SEND=!0,SpiderGL.IO.Request.prototype={_indexOf:function(e,t){for(var r=0,i=e.length;r<i;++r)if(e[r]==t)return r;return-1},_setMainListener:function(e,t){var r=this._events[e];r&&r.main!=t&&(t?this.addEventListener(e,t):this.removeEventListener(e,t),r.main=t)},_dispatch:function(){var e=arguments[0],t=this._events[e];if(t){var r=Array.prototype.slice.call(arguments,1);r.push(this);for(var i=t.listeners,n=0,a=i.length;n<a;++n)i[n].apply(null,r)}},_doPostProgress:function(){},_doPostCancel:function(){},_doPostError:function(){},_doPostSuccess:function(){},_doPostFinish:function(){},_doOnProgress:function(e,t){this._aborted||(this._loaded=e,this._total=t,this._doPostProgress(),this._dispatch(\"progress\",this._loaded,this._total))},_doOnCancel:function(){this._aborted||(this._status=SpiderGL.IO.Request.CANCELLED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostCancel(),this._dispatch(\"cancel\"))},_doOnError:function(){this._aborted||(this._status=SpiderGL.IO.Request.FAILED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostError(),this._dispatch(\"error\"))},_doOnSuccess:function(){this._aborted||(this._status=SpiderGL.IO.Request.SUCCEEDED,this._finishTime=SpiderGL.Utility.getTime(),this._doPostSuccess(),this._dispatch(\"success\"))},_doOnFinish:function(){this._doPostFinish(),this._dispatch(\"finish\")},_doSend:function(){return!1},_doCancel:function(){return!1},get canSend(){return this._url&&!this._sent},get url(){return this._url},set url(e){this.cancel(),this._url=e},get status(){return this._status},get data(){return this._data},get bytesLoaded(){return this._loaded},get bytesTotal(){return this._total},get sent(){return this._sent},get ongoing(){return this._status==SpiderGL.IO.Request.ONGOING},get cancelled(){return this._status==SpiderGL.IO.Request.CANCELLED},get failed(){return this._status==SpiderGL.IO.Request.FAILED},get succeeded(){return this._status==SpiderGL.IO.Request.SUCCEEDED},get finished(){return this.succeeded||this.failed||this.cancelled},get startTime(){return this._startTime},get finishTime(){return this._finishTime},get elapsedTime(){return this._startTime<0?0:this._finishTime<0?SpiderGL.Utility.getTime()-this._startTime:this._finishTime-this._startTime},addEventListener:function(e,t){if(t){var r=this._events[e];if(r)this._indexOf(r.listeners,t)>=0||r.listeners.push(t)}},removeEventListener:function(e,t){var r=this._events[e];if(r){var i=this._indexOf(r.listeners,t);i<0||r.listeners.splice(i,1)}},get onProgress(){return this._events.progress.main},set onProgress(e){this._setMainListener(\"progress\",e)},get onCancel(){return this._events.cancel.main},set onCancel(e){this._setMainListener(\"cancel\",e)},get onError(){return this._events.error.main},set onError(e){this._setMainListener(\"error\",e)},get onSuccess(){return this._events.success.main},set onSuccess(e){this._setMainListener(\"success\",e)},get onFinish(){return this._events.finish.main},set onFinish(e){this._setMainListener(\"finish\",e)},cancel:function(){if(!this.ongoing)return!1;this._status=SpiderGL.IO.Request.CANCELLED,this._aborted=!0;var e=this._doCancel();return this._finishTime=SpiderGL.Utility.getTime(),e},send:function(){if(!this.canSend)return!1;this._data=null,this._status=SpiderGL.IO.Request.ONGOING,this._aborted=!1,this._sent=!0,this._finishTime=-1,this._startTime=SpiderGL.Utility.getTime();var e=this._doSend();return e||(this._startTime=-1,this._status=SpiderGL.IO.Request.NONE,this._sent=!1),e}},SpiderGL.Type.extend(SpiderGL.IO.Request,SpiderGL.Core.ObjectBase),SpiderGL.IO.XHRRequestBase=function(e,t){t=t||{},SpiderGL.IO.Request.call(this,e,t);var r=this,i=new XMLHttpRequest;if(this._xhr=i,i.onprogress=function(e){r._xhrOnProgress(e)},i.onabort=function(){r._doOnCancel(),r._doOnFinish()},i.onerror=function(){r._doOnError(),r._doOnFinish()},i.onload=function(){var e=i.status;0===e||200===e||r._range&&206==e?r._doOnSuccess():r._doOnError(),r._doOnFinish()},this._range=null,this._xhr.open(\"GET\",this._url,this._async),\"range\"in t){this._range=[t.range[0],t.range[1]];var n=\"bytes=\"+t.range[0]+\"-\"+t.range[1];i.setRequestHeader(\"Range\",n)}this._prepareXHR(),SpiderGL.Utility.getDefaultValue(t.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.XHRRequestBase.prototype={_prepareXHR:function(){},_doCancel:function(){return this._xhr.abort(),this._xhr=new XMLHttpRequest,this._xhr.open(\"GET\",this._url,this._async),this._prepareXHR(),!0},_doSend:function(){return this._xhr.send(),!0},_xhrOnProgress:function(e){var t=0,r=0;e&&e.lengthComputable&&(t=e.loaded,r=e.total),this._doOnProgress(t,r)}},SpiderGL.Type.extend(SpiderGL.IO.XHRRequestBase,SpiderGL.IO.Request),SpiderGL.IO.XHRRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.XHRRequest.prototype={_doPostSuccess:function(){this._data=this._xhr.responseText},get xhr(){return this._xhr},get response(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.XHRRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.TextRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.TextRequest.prototype={_doPostSuccess:function(){this._data=this._xhr.responseText},get text(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.TextRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readText=function(e){return new SpiderGL.IO.TextRequest(e,{async:!1}).text},SpiderGL.IO.requestText=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.TextRequest(e,t)},SpiderGL.IO.JSONRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.JSONRequest.prototype={_doPostSuccess:function(){this._data=JSON.parse(this._xhr.responseText)},get text(){return this._xhr.responseText},get json(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.JSONRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readJSON=function(e){return new SpiderGL.IO.JSONRequest(e,{async:!1}).json},SpiderGL.IO.requestJSON=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.JSONRequest(e,t)},SpiderGL.IO.BinaryRequest=function(e,t){SpiderGL.IO.XHRRequestBase.call(this,e,t)},SpiderGL.IO.BinaryRequest.prototype={_prepareXHR:function(){var e=this._xhr;e.responseType=\"arraybuffer\"},_setArrayBuffer:function(){var e=this._xhr;if(\"arraybuffer\"==e.responseType)this._data=e.response;else if(null!=e.mozResponseArrayBuffer)this._data=e.mozResponseArrayBuffer;else if(null!=e.responseText){for(var t=new String(e.responseText),r=new Array(t.length),i=0,n=t.length;i<n;++i)r[i]=255&t.charCodeAt(i);this._data=new Uint8Array(r).buffer}else this._data=null},_doPostSuccess:function(){this._setArrayBuffer()},get data(){return this.ongoing&&this._setArrayBuffer(),this._data},get buffer(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.BinaryRequest,SpiderGL.IO.XHRRequestBase),SpiderGL.IO.readBinary=function(e){return new SpiderGL.IO.BinaryRequest(e,{async:!1}).buffer},SpiderGL.IO.requestBinary=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.BinaryRequest(e,t)},SpiderGL.IO.ImageRequest=function(e,t){t=t||{},SpiderGL.IO.Request.call(this,e,t);var r=this,i=new Image;this._img=i,this._data=i,i.onabort=function(){r._doOnCancel(),r._doOnFinish()},i.onerror=function(){r._doOnError(),r._doOnFinish()},i.onload=function(){r._doOnSuccess(),r._doOnFinish()},void 0!==i.onprogress&&(i.onprogress=function(e){r._imgOnProgress(e)}),SpiderGL.Utility.getDefaultValue(t.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.ImageRequest.prototype={_doPostSuccess:function(){this._data=this._img},_doCancel:function(){return this._img.src=null,this._img=new Image,!0},_doSend:function(){return this._img.src=this._url,!0},_imgOnProgress:function(e){var t=0,r=0;e&&e.lengthComputable&&(t=e.loaded,r=e.total),this._doOnProgress(t,r)},get image(){return this.data}},SpiderGL.Type.extend(SpiderGL.IO.ImageRequest,SpiderGL.IO.Request),SpiderGL.IO.requestImage=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({},t)).async=!0,t.send=!0,new SpiderGL.IO.ImageRequest(e,t)},SpiderGL.IO.AggregateRequest=function(e){e=e||{},SpiderGL.IO.Request.call(this,\"*\",e);var t=this;this._proxyOnProgress=function(e,r,i){t._reqOnProgress(e,r,i)},this._proxyOnCancel=function(e){t._reqOnCancel(e)},this._proxyOnError=function(e){t._reqOnError(e)},this._proxyOnSuccess=function(e){t._reqOnSuccess(e)},this._proxyOnFinish=function(e){t._reqOnFinish(e)},this._aggrStartTime=-1,this._aggrFinishTime=-1,this._eventReq=null,this._cancelledReqs=0,this._failedReqs=0,this._succeededReqs=0,this._requests=[];var r=e.requests;if(r)for(var i=0,n=r.length;i<n;++i){var a=r[i];a&&!a.sent&&(this._installProxies(a),this.addRequest(a))}SpiderGL.Utility.getDefaultValue(e.send,SpiderGL.IO.Request.DEFAULT_SEND)&&this.send()},SpiderGL.IO.AggregateRequest.prototype={_doPostCancel:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doPostError:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doPostSuccess:function(){this._requestsFinished||(this._status=SpiderGL.IO.Request.ONGOING)},_doCancel:function(){for(var e=this._requests,t=0,r=e.length;t<r;++t)e[t].cancel();this._aggrFinishTime=SpiderGL.Utility.getTime()},_doSend:function(){this._aggrStartTime=SpiderGL.Utility.getTime();for(var e=this._requests,t=0,r=e.length;t<r;++t)e[t].send()},get _requestsFinished(){return this._cancelledReqs+this._failedReqs+this._succeededReqs==this._requests.length},_installProxies:function(e){e.addEventListener(\"progress\",this._proxyOnProgress),e.addEventListener(\"cancel\",this._proxyOnCancel),e.addEventListener(\"error\",this._proxyOnError),e.addEventListener(\"success\",this._proxyOnSuccess),e.addEventListener(\"finish\",this._proxyOnFinish)},_uninstallProxies:function(e){e.removeEventListener(\"progress\",this._proxyOnProgress),e.removeEventListener(\"cancel\",this._proxyOnCancel),e.removeEventListener(\"error\",this._proxyOnError),e.removeEventListener(\"success\",this._proxyOnSuccess),e.removeEventListener(\"finish\",this._proxyOnFinish)},_reqOnProgress:function(e,t,r){this._indexOf(this._requests,r)<0||(this._eventReq=r,this._doOnProgress(e,t),this._eventReq=null)},_reqOnCancel:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._cancelledReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._cancelledReqs==this._requests.length&&(this._eventReq=this,this._doOnCancel())),this._eventReq=null)},_reqOnError:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._failedReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._eventReq=this,this._doOnError()),this._eventReq=null)},_reqOnSuccess:function(e){this._indexOf(this._requests,e)<0||(this._eventReq=e,this._succeededReqs++,this._requestsFinished&&(this._aggrFinishTime=SpiderGL.Utility.getTime(),this._eventReq=this,this._failedReqs>0?this._doOnError():this._doOnSuccess()),this._eventReq=null)},_reqOnFinish:function(e){this._indexOf(this._requests,e)<0||(this._uninstallProxies(e),this._eventReq=e,this._requestsFinished&&(this._eventReq=this,this._doOnFinish()),this._eventReq=null)},get eventSenderRequest(){return this._eventReq},get requests(){return this._requests.slice()},get requests$(){return this._requests},get startTime(){return this._aggrStartTime},get finishTime(){return this._aggrFinishTime},get elapsedTime(){return this._aggrStartTime<0?0:this._aggrFinishTime<0?SpiderGL.Utility.getTime()-this._aggrStartTime:this._aggrFinishTime-this._aggrStartTime},addRequest:function(e){e&&!this._sent&&(this._indexOf(this._requests,e)>=0||this._requests.push(e))},removeRequest:function(e){if(e&&!this._sent){var t=this._indexOf(this._requests,e);t<0||this._requests.splice(t,1)}}},SpiderGL.Type.extend(SpiderGL.IO.AggregateRequest,SpiderGL.IO.Request),SpiderGL.Math={},SpiderGL.Math.DEG_TO_RAD=Math.PI/180,SpiderGL.Math.E=Math.E,SpiderGL.Math.LN2=Math.LN2,SpiderGL.Math.LN10=Math.LN10,SpiderGL.Math.LOG2E=Math.LOG2E,SpiderGL.Math.LOG10E=Math.LOG10E,SpiderGL.Math.PI=Math.PI,SpiderGL.Math.RAD_TO_DEG=180/Math.PI,SpiderGL.Math.SQRT2=Math.SQRT2,SpiderGL.Math.MAX_VALUE=Number.MAX_VALUE,SpiderGL.Math.MIN_VALUE=Number.MIN_VALUE,SpiderGL.Math.MAX_NUMBER=SpiderGL.Math.MAX_VALUE,SpiderGL.Math.MIN_NUMBER=-SpiderGL.Math.MAX_VALUE,SpiderGL.Math.NAN=Number.NaN,SpiderGL.Math.INFINITY=1/0,SpiderGL.Math.abs=function(e){return Math.abs(e)},SpiderGL.Math.acos=function(e){return Math.acos(e)},SpiderGL.Math.asin=function(e){return Math.asin(e)},SpiderGL.Math.atan=function(e){return Math.atan(e)},SpiderGL.Math.atan2=function(e,t){return Math.atan2(e,t)},SpiderGL.Math.ceil=function(e){return Math.ceil(e)},SpiderGL.Math.clamp=function(e,t,r){return e<=t?t:e>=r?r:e},SpiderGL.Math.cos=function(e){return Math.cos(e)},SpiderGL.Math.degToRad=function(e){return e*SpiderGL.Math.DEG_TO_RAD},SpiderGL.Math.exp=function(e){return Math.exp(e)},SpiderGL.Math.floor=function(e){return Math.floor(e)},SpiderGL.Math.lerp=function(e,t,r){return e+r*(t-e)},SpiderGL.Math.ln=function(e){return Math.log(e)},SpiderGL.Math.log=function(e){return Math.log(e)},SpiderGL.Math.log2=function(e){return SpiderGL.Math.log(e)/SpiderGL.Math.LN2},SpiderGL.Math.log10=function(e){return SpiderGL.Math.log(e)/SpiderGL.Math.LN10},SpiderGL.Math.max=function(e){return Math.max.apply(Math,arguments)},SpiderGL.Math.min=function(e){return Math.min.apply(Math,arguments)},SpiderGL.Math.pow=function(e,t){return Math.pow(e,t)},SpiderGL.Math.radToDeg=function(e){return e*SpiderGL.Math.RAD_TO_DEG},SpiderGL.Math.random=function(){return Math.random()},SpiderGL.Math.random01=function(){return SpiderGL.Math.random()},SpiderGL.Math.random11=function(){return 2*SpiderGL.Math.random()-1},SpiderGL.Math.randomRange=function(e,t){return e+SpiderGL.Math.random()*(t-e)},SpiderGL.Math.round=function(e){return Math.round(e)},SpiderGL.Math.sin=function(e){return Math.sin(e)},SpiderGL.Math.sqrt=function(e){return Math.sqrt(e)},SpiderGL.Math.tan=function(e){return Math.tan(e)},SpiderGL.Math.Vec2={},SpiderGL.Math.Vec2.dup=function(e){return e.slice(0,2)},SpiderGL.Math.Vec2.scalar=function(e){return[e,e]},SpiderGL.Math.Vec2.zero=function(){return[0,0]},SpiderGL.Math.Vec2.one=function(){return[1,1]},SpiderGL.Math.Vec2.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec2.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec2.to3=function(e,t){return[e[0],e[1],null!=t?t:0]},SpiderGL.Math.Vec2.to4=function(e,t,r){return[e[0],e[1],e[2],null!=t?t:0,null!=r?r:1]},SpiderGL.Math.Vec2.neg=function(e){return[-e[0],-e[1]]},SpiderGL.Math.Vec2.add=function(e,t){return[e[0]+t[0],e[1]+t[1]]},SpiderGL.Math.Vec2.adds=function(e,t){return[e[0]+t,e[1]+t]},SpiderGL.Math.Vec2.sub=function(e,t){return[e[0]-t[0],e[1]-t[1]]},SpiderGL.Math.Vec2.subs=function(e,t){return[e[0]-t,e[1]-t]},SpiderGL.Math.Vec2.ssub=function(e,t){return[e-t[0],e-t[1]]},SpiderGL.Math.Vec2.mul=function(e,t){return[e[0]*t[0],e[1]*t[1]]},SpiderGL.Math.Vec2.muls=function(e,t){return[e[0]*t,e[1]*t]},SpiderGL.Math.Vec2.div=function(e,t){return[e[0]/t[0],e[1]/t[1]]},SpiderGL.Math.Vec2.divs=function(e,t){return[e[0]/t,e[1]/t]},SpiderGL.Math.Vec2.sdiv=function(e,t){return[e/t[0],e/t[1]]},SpiderGL.Math.Vec2.rcp=function(e){return[1/e[0],1/e[1]]},SpiderGL.Math.Vec2.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]},SpiderGL.Math.Vec2.cross=function(e,t){return e[0]*t[1]-e[1]*t[0]},SpiderGL.Math.Vec2.perp=function(e){return[e[1],-e[0]]},SpiderGL.Math.Vec2.sqLength=function(e){return SpiderGL.Math.Vec2.dot(e,e)},SpiderGL.Math.Vec2.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec2.sqLength(e))},SpiderGL.Math.Vec2.normalize=function(e){var t=1/SpiderGL.Math.Vec2.length(e);return SpiderGL.Math.Vec2.muls(e,t)},SpiderGL.Math.Vec2.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1])]},SpiderGL.Math.Vec2.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1])]},SpiderGL.Math.Vec2.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1])]},SpiderGL.Math.Vec2.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1])]},SpiderGL.Math.Vec2.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1])]},SpiderGL.Math.Vec2.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1])]},SpiderGL.Math.Vec2.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1])]},SpiderGL.Math.Vec2.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1])]},SpiderGL.Math.Vec2.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1])]},SpiderGL.Math.Vec2.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1])]},SpiderGL.Math.Vec2.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1])]},SpiderGL.Math.Vec2.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r)]},SpiderGL.Math.Vec2.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1])]},SpiderGL.Math.Vec2.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1])]},SpiderGL.Math.Vec2.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1])]},SpiderGL.Math.Vec2.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1])]},SpiderGL.Math.Vec2.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1])]},SpiderGL.Math.Vec2.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1])]},SpiderGL.Math.Vec2.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1])]},SpiderGL.Math.Vec2.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1])]},SpiderGL.Math.Vec2.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec2.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec2.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec2.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1])]},SpiderGL.Math.Vec2.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1])]},SpiderGL.Math.Vec2.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1])]},SpiderGL.Math.Vec2.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1])]},SpiderGL.Math.Vec2.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1])]},SpiderGL.Math.Vec2.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e},SpiderGL.Math.Vec2.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e},SpiderGL.Math.Vec2.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e},SpiderGL.Math.Vec2.adds$=function(e,t){return e[0]+=t,e[1]+=t,e},SpiderGL.Math.Vec2.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e},SpiderGL.Math.Vec2.subs$=function(e,t){return e[0]-=t,e[1]-=t,e},SpiderGL.Math.Vec2.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t},SpiderGL.Math.Vec2.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e},SpiderGL.Math.Vec2.muls$=function(e,t){return e[0]*=t,e[1]*=t,e},SpiderGL.Math.Vec2.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e},SpiderGL.Math.Vec2.divs$=function(e,t){return e[0]/=t,e[1]/=t,e},SpiderGL.Math.Vec2.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e},SpiderGL.Math.Vec2.perp$=function(e){var t=e[0];return e[0]=e[1],e[1]=-t,e},SpiderGL.Math.Vec2.normalize$=function(e){var t=1/SpiderGL.Math.Vec2.length(e);return SpiderGL.Math.Vec2.muls$(e,t)},SpiderGL.Math.Vec3={},SpiderGL.Math.Vec3.dup=function(e){return e.slice(0,3)},SpiderGL.Math.Vec3.scalar=function(e){return[e,e,e]},SpiderGL.Math.Vec3.zero=function(){return[0,0,0]},SpiderGL.Math.Vec3.one=function(){return[1,1,1]},SpiderGL.Math.Vec3.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec3.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec3.to2=function(e){return[e[0],e[1]]},SpiderGL.Math.Vec3.to4=function(e,t){return[e[0],e[1],e[2],null!=t?t:1]},SpiderGL.Math.Vec3.neg=function(e){return[-e[0],-e[1],-e[2]]},SpiderGL.Math.Vec3.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2]]},SpiderGL.Math.Vec3.adds=function(e,t){return[e[0]+t,e[1]+t,e[2]+t]},SpiderGL.Math.Vec3.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2]]},SpiderGL.Math.Vec3.subs=function(e,t){return[e[0]-t,e[1]-t,e[2]-t]},SpiderGL.Math.Vec3.ssub=function(e,t){return[e-t[0],e-t[1],e-t[2]]},SpiderGL.Math.Vec3.mul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2]]},SpiderGL.Math.Vec3.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t]},SpiderGL.Math.Vec3.div=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2]]},SpiderGL.Math.Vec3.divs=function(e,t){return[e[0]/t,e[1]/t,e[2]/t]},SpiderGL.Math.Vec3.sdiv=function(e,t){return[e/t[0],e/t[1],e/t[2]]},SpiderGL.Math.Vec3.rcp=function(e){return[1/e[0],1/e[1],1/e[2]]},SpiderGL.Math.Vec3.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},SpiderGL.Math.Vec3.cross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},SpiderGL.Math.Vec3.sqLength=function(e){return SpiderGL.Math.Vec3.dot(e,e)},SpiderGL.Math.Vec3.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec3.sqLength(e))},SpiderGL.Math.Vec3.normalize=function(e){var t=1/SpiderGL.Math.Vec3.length(e);return SpiderGL.Math.Vec3.muls(e,t)},SpiderGL.Math.Vec3.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1]),SpiderGL.Math.abs(e[2])]},SpiderGL.Math.Vec3.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1]),SpiderGL.Math.acos(e[2])]},SpiderGL.Math.Vec3.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1]),SpiderGL.Math.asin(e[2])]},SpiderGL.Math.Vec3.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1]),SpiderGL.Math.atan(e[2])]},SpiderGL.Math.Vec3.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1]),SpiderGL.Math.atan2(e[2],t[2])]},SpiderGL.Math.Vec3.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1]),SpiderGL.Math.ceil(e[2])]},SpiderGL.Math.Vec3.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1]),SpiderGL.Math.clamp(e[2],t[2],r[2])]},SpiderGL.Math.Vec3.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1]),SpiderGL.Math.cos(e[2])]},SpiderGL.Math.Vec3.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1]),SpiderGL.Math.degToRad(e[2])]},SpiderGL.Math.Vec3.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1]),SpiderGL.Math.exp(e[2])]},SpiderGL.Math.Vec3.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1]),SpiderGL.Math.floor(e[2])]},SpiderGL.Math.Vec3.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r),SpiderGL.Math.lerp(e[2],t[2],r)]},SpiderGL.Math.Vec3.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1]),SpiderGL.Math.ln(e[2])]},SpiderGL.Math.Vec3.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1]),SpiderGL.Math.log(e[2])]},SpiderGL.Math.Vec3.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1]),SpiderGL.Math.log2(e[2])]},SpiderGL.Math.Vec3.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1]),SpiderGL.Math.log10(e[2])]},SpiderGL.Math.Vec3.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1]),SpiderGL.Math.max(e[2],t[2])]},SpiderGL.Math.Vec3.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1]),SpiderGL.Math.min(e[2],t[2])]},SpiderGL.Math.Vec3.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1]),SpiderGL.Math.pow(e[2],t[2])]},SpiderGL.Math.Vec3.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1]),SpiderGL.Math.radToDeg(e[2])]},SpiderGL.Math.Vec3.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec3.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec3.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec3.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1]),SpiderGL.Math.randomRange(e[2],t[2])]},SpiderGL.Math.Vec3.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1]),SpiderGL.Math.round(e[2])]},SpiderGL.Math.Vec3.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1]),SpiderGL.Math.sin(e[2])]},SpiderGL.Math.Vec3.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1]),SpiderGL.Math.sqrt(e[2])]},SpiderGL.Math.Vec3.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1]),SpiderGL.Math.tan(e[2])]},SpiderGL.Math.Vec3.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},SpiderGL.Math.Vec3.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e},SpiderGL.Math.Vec3.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e},SpiderGL.Math.Vec3.adds$=function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,e},SpiderGL.Math.Vec3.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e},SpiderGL.Math.Vec3.subs$=function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,e},SpiderGL.Math.Vec3.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t[2]=e-t[2],t},SpiderGL.Math.Vec3.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],e},SpiderGL.Math.Vec3.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e},SpiderGL.Math.Vec3.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],e},SpiderGL.Math.Vec3.divs$=function(e,t){return e[0]/=t,e[1]/=t,e[2]/=t,e},SpiderGL.Math.Vec3.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e[2]=t/e[2],e},SpiderGL.Math.Vec3.normalize$=function(e){var t=1/SpiderGL.Math.Vec3.length(e);return SpiderGL.Math.Vec3.muls$(e,t)},SpiderGL.Math.Vec4={},SpiderGL.Math.Vec4.dup=function(e){return e.slice(0,4)},SpiderGL.Math.Vec4.scalar=function(e){return[e,e,e,e]},SpiderGL.Math.Vec4.zero=function(){return[0,0,0,0]},SpiderGL.Math.Vec4.one=function(){return[1,1,1,1]},SpiderGL.Math.Vec4.maxNumber=function(){return[SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER,SpiderGL.Math.MAX_NUMBER]},SpiderGL.Math.Vec4.minNumber=function(){return[SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER,SpiderGL.Math.MIN_NUMBER]},SpiderGL.Math.Vec4.to2=function(e){return[e[0],e[1]]},SpiderGL.Math.Vec4.to3=function(e){return[e[0],e[1],e[2]]},SpiderGL.Math.Vec4.neg=function(e){return[-e[0],-e[1],-e[2],-e[3]]},SpiderGL.Math.Vec4.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3]]},SpiderGL.Math.Vec4.adds=function(e,t){return[e[0]+t,e[1]+t,e[2]+t,e[3]+t]},SpiderGL.Math.Vec4.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3]]},SpiderGL.Math.Vec4.subs=function(e,t){return[e[0]-t,e[1]-t,e[2]-t,e[3]-t]},SpiderGL.Math.Vec4.ssub=function(e,t){return[e-t[0],e-t[1],e-t[2],e-t[3]]},SpiderGL.Math.Vec4.mul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3]]},SpiderGL.Math.Vec4.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]},SpiderGL.Math.Vec4.div=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2],e[3]/t[3]]},SpiderGL.Math.Vec4.divs=function(e,t){return[e[0]/t,e[1]/t,e[2]/t,e[3]/t]},SpiderGL.Math.Vec4.sdiv=function(e,t){return[e/t[0],e/t[1],e/t[2],e/t[3]]},SpiderGL.Math.Vec4.rcp=function(e){return[1/e[0],1/e[1],1/e[2],1/e[3]]},SpiderGL.Math.Vec4.dot=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},SpiderGL.Math.Vec4.cross=function(e,t,r){var i=t[0]*r[1]-t[1]*r[0],n=t[0]*r[2]-t[2]*r[0],a=t[0]*r[3]-t[3]*r[0],s=t[1]*r[2]-t[2]*r[1],o=t[1]*r[3]-t[3]*r[1],u=t[2]*r[3]-t[3]*r[2];return[e[1]*u-e[2]*o+e[3]*s,e[0]*u+e[2]*a-e[3]*n,e[0]*o-e[1]*a+e[3]*i,e[0]*s+e[1]*n-e[2]*i]},SpiderGL.Math.Vec4.sqLength=function(e){return SpiderGL.Math.Vec4.dot(e,e)},SpiderGL.Math.Vec4.length=function(e){return SpiderGL.Math.sqrt(SpiderGL.Math.Vec4.sqLength(e))},SpiderGL.Math.Vec4.normalize=function(e){var t=1/SpiderGL.Math.Vec4.length(e);return SpiderGL.Math.Vec4.muls(e,t)},SpiderGL.Math.Vec4.project=function(e){var t=1/e[3];return[e[0]*t,e[1]*t,e[2]*t,1]},SpiderGL.Math.Vec4.abs=function(e){return[SpiderGL.Math.abs(e[0]),SpiderGL.Math.abs(e[1]),SpiderGL.Math.abs(e[2]),SpiderGL.Math.abs(e[3])]},SpiderGL.Math.Vec4.acos=function(e){return[SpiderGL.Math.acos(e[0]),SpiderGL.Math.acos(e[1]),SpiderGL.Math.acos(e[2]),SpiderGL.Math.acos(e[3])]},SpiderGL.Math.Vec4.asin=function(e){return[SpiderGL.Math.asin(e[0]),SpiderGL.Math.asin(e[1]),SpiderGL.Math.asin(e[2]),SpiderGL.Math.asin(e[3])]},SpiderGL.Math.Vec4.atan=function(e){return[SpiderGL.Math.atan(e[0]),SpiderGL.Math.atan(e[1]),SpiderGL.Math.atan(e[2]),SpiderGL.Math.atan(e[3])]},SpiderGL.Math.Vec4.atan2=function(e,t){return[SpiderGL.Math.atan2(e[0],t[0]),SpiderGL.Math.atan2(e[1],t[1]),SpiderGL.Math.atan2(e[2],t[2]),SpiderGL.Math.atan2(e[3],t[3])]},SpiderGL.Math.Vec4.ceil=function(e){return[SpiderGL.Math.ceil(e[0]),SpiderGL.Math.ceil(e[1]),SpiderGL.Math.ceil(e[2]),SpiderGL.Math.ceil(e[3])]},SpiderGL.Math.Vec4.clamp=function(e,t,r){return[SpiderGL.Math.clamp(e[0],t[0],r[0]),SpiderGL.Math.clamp(e[1],t[1],r[1]),SpiderGL.Math.clamp(e[2],t[2],r[2]),SpiderGL.Math.clamp(e[3],t[3],r[3])]},SpiderGL.Math.Vec4.cos=function(e){return[SpiderGL.Math.cos(e[0]),SpiderGL.Math.cos(e[1]),SpiderGL.Math.cos(e[2]),SpiderGL.Math.cos(e[3])]},SpiderGL.Math.Vec4.degToRad=function(e){return[SpiderGL.Math.degToRad(e[0]),SpiderGL.Math.degToRad(e[1]),SpiderGL.Math.degToRad(e[2]),SpiderGL.Math.degToRad(e[3])]},SpiderGL.Math.Vec4.exp=function(e){return[SpiderGL.Math.exp(e[0]),SpiderGL.Math.exp(e[1]),SpiderGL.Math.exp(e[2]),SpiderGL.Math.exp(e[3])]},SpiderGL.Math.Vec4.floor=function(e){return[SpiderGL.Math.floor(e[0]),SpiderGL.Math.floor(e[1]),SpiderGL.Math.floor(e[2]),SpiderGL.Math.floor(e[3])]},SpiderGL.Math.Vec4.lerp=function(e,t,r){return[SpiderGL.Math.lerp(e[0],t[0],r),SpiderGL.Math.lerp(e[1],t[1],r),SpiderGL.Math.lerp(e[2],t[2],r),SpiderGL.Math.lerp(e[3],t[3],r)]},SpiderGL.Math.Vec4.ln=function(e){return[SpiderGL.Math.ln(e[0]),SpiderGL.Math.ln(e[1]),SpiderGL.Math.ln(e[2]),SpiderGL.Math.ln(e[3])]},SpiderGL.Math.Vec4.log=function(e){return[SpiderGL.Math.log(e[0]),SpiderGL.Math.log(e[1]),SpiderGL.Math.log(e[2]),SpiderGL.Math.log(e[3])]},SpiderGL.Math.Vec4.log2=function(e){return[SpiderGL.Math.log2(e[0]),SpiderGL.Math.log2(e[1]),SpiderGL.Math.log2(e[2]),SpiderGL.Math.log2(e[3])]},SpiderGL.Math.Vec4.log10=function(e){return[SpiderGL.Math.log10(e[0]),SpiderGL.Math.log10(e[1]),SpiderGL.Math.log10(e[2]),SpiderGL.Math.log10(e[3])]},SpiderGL.Math.Vec4.max=function(e,t){return[SpiderGL.Math.max(e[0],t[0]),SpiderGL.Math.max(e[1],t[1]),SpiderGL.Math.max(e[2],t[2]),SpiderGL.Math.max(e[3],t[3])]},SpiderGL.Math.Vec4.min=function(e,t){return[SpiderGL.Math.min(e[0],t[0]),SpiderGL.Math.min(e[1],t[1]),SpiderGL.Math.min(e[2],t[2]),SpiderGL.Math.min(e[3],t[3])]},SpiderGL.Math.Vec4.pow=function(e,t){return[SpiderGL.Math.pow(e[0],t[0]),SpiderGL.Math.pow(e[1],t[1]),SpiderGL.Math.pow(e[2],t[2]),SpiderGL.Math.pow(e[3],t[3])]},SpiderGL.Math.Vec4.radToDeg=function(e){return[SpiderGL.Math.radToDeg(e[0]),SpiderGL.Math.radToDeg(e[1]),SpiderGL.Math.radToDeg(e[2]),SpiderGL.Math.radToDeg(e[3])]},SpiderGL.Math.Vec4.random=function(){return[SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random(),SpiderGL.Math.random()]},SpiderGL.Math.Vec4.random01=function(){return[SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01(),SpiderGL.Math.random01()]},SpiderGL.Math.Vec4.random11=function(){return[SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11(),SpiderGL.Math.random11()]},SpiderGL.Math.Vec4.randomRange=function(e,t){return[SpiderGL.Math.randomRange(e[0],t[0]),SpiderGL.Math.randomRange(e[1],t[1]),SpiderGL.Math.randomRange(e[2],t[2]),SpiderGL.Math.randomRange(e[3],t[3])]},SpiderGL.Math.Vec4.round=function(e){return[SpiderGL.Math.round(e[0]),SpiderGL.Math.round(e[1]),SpiderGL.Math.round(e[2]),SpiderGL.Math.round(e[3])]},SpiderGL.Math.Vec4.sin=function(e){return[SpiderGL.Math.sin(e[0]),SpiderGL.Math.sin(e[1]),SpiderGL.Math.sin(e[2]),SpiderGL.Math.sin(e[3])]},SpiderGL.Math.Vec4.sqrt=function(e){return[SpiderGL.Math.sqrt(e[0]),SpiderGL.Math.sqrt(e[1]),SpiderGL.Math.sqrt(e[2]),SpiderGL.Math.sqrt(e[3])]},SpiderGL.Math.Vec4.tan=function(e){return[SpiderGL.Math.tan(e[0]),SpiderGL.Math.tan(e[1]),SpiderGL.Math.tan(e[2]),SpiderGL.Math.tan(e[3])]},SpiderGL.Math.Vec4.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},SpiderGL.Math.Vec4.neg$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e[3]=-e[3],e},SpiderGL.Math.Vec4.add$=function(e,t){return e[0]+=t[0],e[1]+=t[1],e[2]+=t[2],e[3]+=t[3],e},SpiderGL.Math.Vec4.adds$=function(e,t){return e[0]+=t,e[1]+=t,e[2]+=t,e[3]+=t,e},SpiderGL.Math.Vec4.sub$=function(e,t){return e[0]-=t[0],e[1]-=t[1],e[2]-=t[2],e[3]-=t[3],e},SpiderGL.Math.Vec4.subs$=function(e,t){return e[0]-=t,e[1]-=t,e[2]-=t,e[3]-=t,e},SpiderGL.Math.Vec4.ssub$=function(e,t){return t[0]=e-t[0],t[1]=e-t[1],t[2]=e-t[2],t[3]=e-t[3],t},SpiderGL.Math.Vec4.mul$=function(e,t){return e[0]*=t[0],e[1]*=t[1],e[2]*=t[2],e[3]*=t[3],e},SpiderGL.Math.Vec4.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e},SpiderGL.Math.Vec4.div$=function(e,t){return e[0]/=t[0],e[1]/=t[1],e[2]/=t[2],e[3]/=t[3],e},SpiderGL.Math.Vec4.divs$=function(e,t){return e[0]/=t,e[1]/=t,e[2]/=t,e[3]/=t,e},SpiderGL.Math.Vec4.sdiv$=function(e,t){return e[0]=t/e[0],e[1]=t/e[1],e[2]=t/e[2],e[3]=t/e[3],e},SpiderGL.Math.Vec4.normalize$=function(e){var t=1/SpiderGL.Math.Vec4.length(e);return SpiderGL.Math.Vec4.muls$(e,t)},SpiderGL.Math.Mat3={},SpiderGL.Math.Mat3.dup=function(e){return e.slice(0,9)},SpiderGL.Math.Mat3.scalar=function(e){return[e,e,e,e,e,e,e,e,e]},SpiderGL.Math.Mat3.zero=function(){return[0,0,0,0,0,0,0,0,0]},SpiderGL.Math.Mat3.one=function(){return[1,1,1,1,1,1,1,1,1]},SpiderGL.Math.Mat3.diag=function(e){return[e[0],0,0,0,e[0],0,0,0,e[0]]},SpiderGL.Math.Mat3.identity=function(){return[1,0,0,0,1,0,0,0,1]},SpiderGL.Math.Mat3.to44=function(e){return[e[0],e[1],e[2],0,e[3],e[4],e[5],0,e[6],e[7],e[8],0,0,0,0,1]},SpiderGL.Math.Mat3.mul2=function(e,t,r){return r=null==r?0:r,[e[0]*t[0]+e[3]*t[1]+e[6]*r,e[1]*t[0]+e[4]*t[1]+e[7]*r]},SpiderGL.Math.Mat3.mul3=function(e,t){return[e[0]*t[0]+e[3]*t[1]+e[6]*t[2],e[1]*t[0]+e[4]*t[1]+e[7]*t[2],e[2]*t[0]+e[5]*t[1]+e[8]*t[2]]},SpiderGL.Math.Mat3.transpose=function(e){return[e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]]},SpiderGL.Math.Mat4={},SpiderGL.Math.Mat4.dup=function(e){return e.slice(0,16)},SpiderGL.Math.Mat4.scalar=function(e){return[e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e]},SpiderGL.Math.Mat4.zero=function(){return[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},SpiderGL.Math.Mat4.one=function(){return[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]},SpiderGL.Math.Mat4.diag=function(e){return[e[0],0,0,0,0,e[0],0,0,0,0,e[0],0,0,0,0,e[0]]},SpiderGL.Math.Mat4.identity=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},SpiderGL.Math.Mat4.to33=function(e){return[e[0],e[1],e[2],e[4],e[5],e[6],e[8],e[9],e[10]]},SpiderGL.Math.Mat4.elem=function(e,t,r){return e[t+4*r]},SpiderGL.Math.Mat4.elem$=function(e,t,r,i){e[t+4*r]=i},SpiderGL.Math.Mat4.row=function(e,t){return[e[t+0],e[t+4],e[t+8],e[t+12]]},SpiderGL.Math.Mat4.row$=function(e,t,r){e[t+0]=r[0],e[t+4]=r[1],e[t+8]=r[2],e[t+12]=r[3]},SpiderGL.Math.Mat4.col=function(e,t){var r=4*t;return[e[r+0],e[r+1],e[r+2],e[r+3]]},SpiderGL.Math.Mat4.col$=function(e,t,r){var i=4*t;e[i+0]=r[0],e[i+1]=r[1],e[i+2]=r[2],e[i+3]=r[3]},SpiderGL.Math.Mat4.isIdentity=function(e){return 1===e[0]&&0===e[1]&&0===e[2]&&0===e[3]&&0===e[4]&&1===e[5]&&0===e[6]&&0===e[7]&&0===e[8]&&0===e[9]&&1===e[10]&&0===e[11]&&0===e[12]&&0===e[13]&&0===e[14]&&1===e[15]},SpiderGL.Math.Mat4.neg=function(e){return[-e[0],-e[1],-e[2],-e[3],-e[4],-e[5],-e[6],-e[7],-e[8],-e[9],-e[10],-e[11],-e[12],-e[13],-e[14],-e[15]]},SpiderGL.Math.Mat4.add=function(e,t){return[e[0]+t[0],e[1]+t[1],e[2]+t[2],e[3]+t[3],e[4]+t[4],e[5]+t[5],e[6]+t[6],e[7]+t[7],e[8]+t[8],e[9]+t[9],e[10]+t[10],e[11]+t[11],e[12]+t[12],e[13]+t[13],e[14]+t[14],e[15]+t[15]]},SpiderGL.Math.Mat4.sub=function(e,t){return[e[0]-t[0],e[1]-t[1],e[2]-t[2],e[3]-t[3],e[4]-t[4],e[5]-t[5],e[6]-t[6],e[7]-t[7],e[8]-t[8],e[9]-t[9],e[10]-t[10],e[11]-t[11],e[12]-t[12],e[13]-t[13],e[14]-t[14],e[15]-t[15]]},SpiderGL.Math.Mat4.mul=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=e[9],_=e[10],f=e[11],l=e[12],c=e[13],L=e[14],S=e[15],g=t[0],G=t[1],m=t[2],T=t[3],M=t[4],E=t[5],b=t[6],v=t[7],x=t[8],y=t[9],A=t[10],R=t[11],P=t[12],I=t[13],D=t[14],F=t[15];return[r*g+s*G+p*m+l*T,i*g+o*G+h*m+c*T,n*g+u*G+_*m+L*T,a*g+d*G+f*m+S*T,r*M+s*E+p*b+l*v,i*M+o*E+h*b+c*v,n*M+u*E+_*b+L*v,a*M+d*E+f*b+S*v,r*x+s*y+p*A+l*R,i*x+o*y+h*A+c*R,n*x+u*y+_*A+L*R,a*x+d*y+f*A+S*R,r*P+s*I+p*D+l*F,i*P+o*I+h*D+c*F,n*P+u*I+_*D+L*F,a*P+d*I+f*D+S*F]},SpiderGL.Math.Mat4.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t,e[4]*t,e[5]*t,e[6]*t,e[7]*t,e[8]*t,e[9]*t,e[10]*t,e[11]*t,e[12]*t,e[13]*t,e[14]*t,e[15]*t]},SpiderGL.Math.Mat4.mul3=function(e,t,r){return r=null==r?1:r,[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*r,e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*r,e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*r]},SpiderGL.Math.Mat4.mul4=function(e,t){return[e[0]*t[0]+e[4]*t[1]+e[8]*t[2]+e[12]*t[3],e[1]*t[0]+e[5]*t[1]+e[9]*t[2]+e[13]*t[3],e[2]*t[0]+e[6]*t[1]+e[10]*t[2]+e[14]*t[3],e[3]*t[0]+e[7]*t[1]+e[11]*t[2]+e[15]*t[3]]},SpiderGL.Math.Mat4.rcp=function(e){return[1/e[0],1/e[1],1/e[2],1/e[3],1/e[4],1/e[5],1/e[6],1/e[7],1/e[8],1/e[9],1/e[10],1/e[11],1/e[12],1/e[13],1/e[14],1/e[15]]},SpiderGL.Math.Mat4.compMul=function(e,t){return[e[0]*t[0],e[1]*t[1],e[2]*t[2],e[3]*t[3],e[4]*t[4],e[5]*t[5],e[6]*t[6],e[7]*t[7],e[8]*t[8],e[9]*t[9],e[10]*t[10],e[11]*t[11],e[12]*t[12],e[13]*t[13],e[14]*t[14],e[15]*t[15]]},SpiderGL.Math.Mat4.compDiv=function(e,t){return[e[0]/t[0],e[1]/t[1],e[2]/t[2],e[3]/t[3],e[4]/t[4],e[5]/t[5],e[6]/t[6],e[7]/t[7],e[8]/t[8],e[9]/t[9],e[10]/t[10],e[11]/t[11],e[12]/t[12],e[13]/t[13],e[14]/t[14],e[15]/t[15]]},SpiderGL.Math.Mat4.transpose=function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]},SpiderGL.Math.Mat4.determinant=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15];return f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L},SpiderGL.Math.Mat4.inverse=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15],S=1/(f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L);return[S*(p*c*u-l*h*u+l*o*_-s*c*_-p*o*L+s*h*L),S*(l*h*n-p*c*n-l*i*_+r*c*_+p*i*L-r*h*L),S*(s*c*n-l*o*n+l*i*u-r*c*u-s*i*L+r*o*L),S*(p*o*n-s*h*n-p*i*u+r*h*u+s*i*_-r*o*_),S*(f*h*u-d*c*u-f*o*_+a*c*_+d*o*L-a*h*L),S*(d*c*n-f*h*n+f*i*_-t*c*_-d*i*L+t*h*L),S*(f*o*n-a*c*n-f*i*u+t*c*u+a*i*L-t*o*L),S*(a*h*n-d*o*n+d*i*u-t*h*u-a*i*_+t*o*_),S*(d*l*u-f*p*u+f*s*_-a*l*_-d*s*L+a*p*L),S*(f*p*n-d*l*n-f*r*_+t*l*_+d*r*L-t*p*L),S*(a*l*n-f*s*n+f*r*u-t*l*u-a*r*L+t*s*L),S*(d*s*n-a*p*n-d*r*u+t*p*u+a*r*_-t*s*_),S*(f*p*o-d*l*o-f*s*h+a*l*h+d*s*c-a*p*c),S*(d*l*i-f*p*i+f*r*h-t*l*h-d*r*c+t*p*c),S*(f*s*i-a*l*i-f*r*o+t*l*o+a*r*c-t*s*c),S*(a*p*i-d*s*i+d*r*o-t*p*o-a*r*h+t*s*h)]},SpiderGL.Math.Mat4.inverseTranspose33=function(e){var t=e[0],r=e[1],i=e[2],n=e[4],a=e[5],s=e[6],o=e[8],u=e[9],d=e[10],p=1/(t*(d*a-s*u)-r*(d*n-s*o)+i*(u*n-a*o));return[p*(d*a-s*u),p*(s*o-d*n),p*(u*n-a*o),p*(i*u-d*r),p*(d*t-i*o),p*(r*o-u*t),p*(s*r-i*a),p*(i*n-s*t),p*(a*t-r*n)]},SpiderGL.Math.Mat4.trace=function(e){return e[0]+e[5]+e[10]+e[15]},SpiderGL.Math.Mat4.translation=function(e){return[1,0,0,0,0,1,0,0,0,0,1,0,e[0],e[1],e[2],1]},SpiderGL.Math.Mat4.rotationAngleAxis=function(e,t){var r,i,n,a,s,o,u=SpiderGL.Math.Vec3.normalize(t),d=SpiderGL.Math.sin(e),p=SpiderGL.Math.cos(e),h=1-p,_=u[0],f=u[1],l=u[2];return[h*(_*_)+p,h*(r=_*f)+(o=l*d),h*(n=l*_)-(s=f*d),0,h*r-o,h*(f*f)+p,h*(i=f*l)+(a=_*d),0,h*n+s,h*i-a,h*(l*l)+p,0,0,0,0,1]},SpiderGL.Math.Mat4.scaling=function(e){return[e[0],0,0,0,0,e[1],0,0,0,0,e[2],0,0,0,0,1]},SpiderGL.Math.Mat4.lookAt=function(e,t,r){var i=SpiderGL.Math.Vec3.normalize(SpiderGL.Math.Vec3.sub(t,e)),n=SpiderGL.Math.Vec3.normalize(r),a=SpiderGL.Math.Vec3.normalize(SpiderGL.Math.Vec3.cross(i,n));n=SpiderGL.Math.Vec3.cross(a,i);var s=[a[0],n[0],-i[0],0,a[1],n[1],-i[1],0,a[2],n[2],-i[2],0,0,0,0,1];return SpiderGL.Math.Mat4.translate$(s,SpiderGL.Math.Vec3.neg(e))},SpiderGL.Math.Mat4.ortho=function(e,t){var r=SpiderGL.Math.Vec3.add(t,e),i=SpiderGL.Math.Vec3.sub(t,e);return[2/i[0],0,0,0,0,2/i[1],0,0,0,0,-2/i[2],0,-r[0]/i[0],-r[1]/i[1],-r[2]/i[2],1]},SpiderGL.Math.Mat4.frustum=function(e,t){var r=SpiderGL.Math.Vec3.add(t,e),i=SpiderGL.Math.Vec3.sub(t,e),n=2*e[2];return[n/i[0],0,0,0,0,n/i[1],0,0,r[0]/i[0],r[1]/i[1],-r[2]/i[2],-1,0,0,-n*t[2]/i[2],0]},SpiderGL.Math.Mat4.perspective=function(e,t,r,i){var n=r*SpiderGL.Math.tan(e/2),a=n*t;return SpiderGL.Math.Mat4.frustum([-a,-n,r],[a,n,i])},SpiderGL.Math.Mat4.copy$=function(e,t){for(var r=0;r<16;++r)e[r]=t[r];return e},SpiderGL.Math.Mat4.identity$=function(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},SpiderGL.Math.Mat4.neg$=function(e){for(var t=0;t<16;++t)e[t]=-e[t];return e},SpiderGL.Math.Mat4.add$=function(e,t){for(var r=0;r<16;++r)e[r]+=t[r];return e},SpiderGL.Math.Mat4.sub$=function(e,t){for(var r=0;r<16;++r)e[r]-=t[r];return e},SpiderGL.Math.Mat4.mul$=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=e[9],_=e[10],f=e[11],l=e[12],c=e[13],L=e[14],S=e[15],g=t[0],G=t[1],m=t[2],T=t[3],M=t[4],E=t[5],b=t[6],v=t[7],x=t[8],y=t[9],A=t[10],R=t[11],P=t[12],I=t[13],D=t[14],F=t[15];return e[0]=r*g+s*G+p*m+l*T,e[1]=i*g+o*G+h*m+c*T,e[2]=n*g+u*G+_*m+L*T,e[3]=a*g+d*G+f*m+S*T,e[4]=r*M+s*E+p*b+l*v,e[5]=i*M+o*E+h*b+c*v,e[6]=n*M+u*E+_*b+L*v,e[7]=a*M+d*E+f*b+S*v,e[8]=r*x+s*y+p*A+l*R,e[9]=i*x+o*y+h*A+c*R,e[10]=n*x+u*y+_*A+L*R,e[11]=a*x+d*y+f*A+S*R,e[12]=r*P+s*I+p*D+l*F,e[13]=i*P+o*I+h*D+c*F,e[14]=n*P+u*I+_*D+L*F,e[15]=a*P+d*I+f*D+S*F,e},SpiderGL.Math.Mat4.muls$=function(e,t){for(var r=0;r<16;++r)e[r]*=t;return e},SpiderGL.Math.Mat4.compMul$=function(e,t){for(var r=0;r<16;++r)e[r]*=t[r];return e},SpiderGL.Math.Mat4.compDiv$=function(e,t){for(var r=0;r<16;++r)e[r]/=t[r];return e},SpiderGL.Math.Mat4.transpose$=function(e){var t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,e},SpiderGL.Math.Mat4.invert$=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=e[4],s=e[5],o=e[6],u=e[7],d=e[8],p=e[9],h=e[10],_=e[11],f=e[12],l=e[13],c=e[14],L=e[15],S=1/(f*p*o*n-d*l*o*n-f*s*h*n+a*l*h*n+d*s*c*n-a*p*c*n-f*p*i*u+d*l*i*u+f*r*h*u-t*l*h*u-d*r*c*u+t*p*c*u+f*s*i*_-a*l*i*_-f*r*o*_+t*l*o*_+a*r*c*_-t*s*c*_-d*s*i*L+a*p*i*L+d*r*o*L-t*p*o*L-a*r*h*L+t*s*h*L);return e[0]=S*(p*c*u-l*h*u+l*o*_-s*c*_-p*o*L+s*h*L),e[1]=S*(l*h*n-p*c*n-l*i*_+r*c*_+p*i*L-r*h*L),e[2]=S*(s*c*n-l*o*n+l*i*u-r*c*u-s*i*L+r*o*L),e[3]=S*(p*o*n-s*h*n-p*i*u+r*h*u+s*i*_-r*o*_),e[4]=S*(f*h*u-d*c*u-f*o*_+a*c*_+d*o*L-a*h*L),e[5]=S*(d*c*n-f*h*n+f*i*_-t*c*_-d*i*L+t*h*L),e[6]=S*(f*o*n-a*c*n-f*i*u+t*c*u+a*i*L-t*o*L),e[7]=S*(a*h*n-d*o*n+d*i*u-t*h*u-a*i*_+t*o*_),e[8]=S*(d*l*u-f*p*u+f*s*_-a*l*_-d*s*L+a*p*L),e[9]=S*(f*p*n-d*l*n-f*r*_+t*l*_+d*r*L-t*p*L),e[10]=S*(a*l*n-f*s*n+f*r*u-t*l*u-a*r*L+t*s*L),e[11]=S*(d*s*n-a*p*n-d*r*u+t*p*u+a*r*_-t*s*_),e[12]=S*(f*p*o-d*l*o-f*s*h+a*l*h+d*s*c-a*p*c),e[13]=S*(d*l*i-f*p*i+f*r*h-t*l*h-d*r*c+t*p*c),e[14]=S*(f*s*i-a*l*i-f*r*o+t*l*o+a*r*c-t*s*c),e[15]=S*(a*p*i-d*s*i+d*r*o-t*p*o-a*r*h+t*s*h),e},SpiderGL.Math.Mat4.translate$=function(e,t){var r=t[0],i=t[1],n=t[2];return e[12]=e[0]*r+e[4]*i+e[8]*n+e[12],e[13]=e[1]*r+e[5]*i+e[9]*n+e[13],e[14]=e[2]*r+e[6]*i+e[10]*n+e[14],e[15]=e[3]*r+e[7]*i+e[11]*n+e[15],e},SpiderGL.Math.Mat4.rotateAngleAxis$=function(e,t,r){var i=SpiderGL.Math.Mat4.rotationAngleAxis(t,r);return SpiderGL.Math.Mat4.mul$(e,i)},SpiderGL.Math.Mat4.scale$=function(e,t){var r=t[0],i=t[1],n=t[2];return e[0]*=r,e[1]*=r,e[2]*=r,e[3]*=r,e[4]*=i,e[5]*=i,e[6]*=i,e[7]*=i,e[8]*=n,e[9]*=n,e[10]*=n,e[11]*=n,e},SpiderGL.Math.Quat={},SpiderGL.Math.Quat.dup=function(e){return e.slice(0,4)},SpiderGL.Math.Quat.identity=function(){return[0,0,0,1]},SpiderGL.Math.Quat.inverse=function(e){return[-e[0],-e[1],-e[2],e[3]]},SpiderGL.Math.Quat.mul=function(e,t){var r=e[0],i=e[1],n=e[2],a=e[3],s=t[0],o=t[1],u=t[2],d=t[3];return[r*d+a*s+n*o-i*u,i*d+a*o+r*u-n*s,n*d+a*u+i*s-r*o,a*d-r*s-i*o-n*u]},SpiderGL.Math.Quat.muls=function(e,t){return[e[0]*t,e[1]*t,e[2]*t,e[3]*t]},SpiderGL.Math.Quat.normalize=function(e){var t=1/SpiderGL.Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]);return SpiderGL.Math.Quat.muls(e,t)},SpiderGL.Math.Quat.from33=function(e){var t,r=e[0],i=e[1],n=e[2],a=e[3],s=e[4],o=e[5],u=e[6],d=e[7],p=e[8],h=r+s+p;return h>0?(h+=1,[(o-d)*(t=.5/SpiderGL.Math.sqrt(h)),(u-n)*t,(i-a)*t,h*t]):r>s&&r>p?[(h=r-s-p+1)*(t=.5/SpiderGL.Math.sqrt(h)),(i+a)*t,(u+n)*t,(o-d)*t]:s>p?(h=-r+s-p+1,[(i+a)*(t=.5/SpiderGL.Math.sqrt(h)),h*t,(o+d)*t,(u-n)*t]):(h=-r-s+p+1,[(u+n)*(t=.5/SpiderGL.Math.sqrt(h)),(o+d)*t,h*t,(i-a)*t])},SpiderGL.Math.Quat.to33=function(e){var t=e[0],r=e[1],i=e[2],n=e[3],a=t*t,s=t*r,o=t*i,u=t*n,d=r*r,p=r*i,h=r*n,_=i*i,f=i*n;return[1-2*(d+_),2*(s+f),2*(o-h),2*(s-f),1-2*(a+_),2*(p+u),2*(o+h),2*(p-u),1-2*(a+d)]},SpiderGL.Math.Quat.from44=function(e){return SpiderGL.Math.Quat.from33(SpiderGL.Math.Mat4.to33(e))},SpiderGL.Math.Quat.to44=function(e){return SpiderGL.Math.Mat3.to44(SpiderGL.Math.Quat.to33(e))},SpiderGL.Math.Quat.fromAngleAxis=function(e,t){return[0,0,0,1]},SpiderGL.Math.Quat.toAngleAxis=function(e){return[0,0,0,1]},SpiderGL.Math.Quat.fromEulerAngles=function(e,t,r){return[0,0,0,1]},SpiderGL.Math.Quat.toEulerAngles=function(e){return[0,0,0,1]},SpiderGL.Math.Quat.copy$=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e},SpiderGL.Math.Quat.identity$=function(e){return e[0]=0,e[1]=0,e[2]=0,e[3]=1,e},SpiderGL.Math.Quat.invert$=function(e){return e[0]=-e[0],e[1]=-e[1],e[2]=-e[2],e},SpiderGL.Math.Quat.mul$=function(e){var t=p[0],r=p[1],i=p[2],n=p[3],a=e[0],s=e[1],o=e[2],u=e[3];return e[0]=t*u+n*a+i*s-r*o,e[1]=r*u+n*s+t*o-i*a,e[2]=i*u+n*o+r*a-t*s,e[3]=n*u-t*a-r*s-i*o,e},SpiderGL.Math.Quat.muls$=function(e,t){return e[0]*=t,e[1]*=t,e[2]*=t,e[3]*=t,e},SpiderGL.Math.Quat.normalize$=function(e){var t=1/SpiderGL.Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]+e[3]*e[3]);return SpiderGL.Math.Quat.muls$(e,t)},SpiderGL.Math.project=function(e,t,r,i){var n=SpiderGL.Math.Vec3,a=SpiderGL.Math.Mat4.mul4(t,e),s=1/a[3];return a[3]=s,n.muls$(a,s/2),n.adds$(a,.5),n.mul$(a,[r[2],r[3],i[1]-i[0]]),n.add$(a,[r[0],r[1],i[0]]),a},SpiderGL.Math.unproject=function(e,t,r,i){var n=SpiderGL.Math.Vec3,a=SpiderGL.Math.Mat4,s=n.to4(e,1);n.sub$(s,[r[0],r[1],i[0]]),n.div$(s,[r[2],r[3],i[1]-i[0]]),n.muls$(s,2),n.subs$(s,1);var o=1/(s=a.mul4(t,s))[3];return s[3]=o,n.muls$(s,o),s},SpiderGL.Space={},SpiderGL.Space.MatrixStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.MatrixStack.prototype={_invalidate:function(){this._i=null,this._t=null,this._it=null,this._onChange&&this._onChange(this)},reset:function(){var e=SpiderGL.Math.Mat4.identity();this._s=[e],this._l=1,this._m=e,this._i=e,this._t=e,this._it=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get matrix$(){return this._m},get matrix(){return SpiderGL.Math.Mat4.dup(this.matrix$)},get top$(){return this.matrix$},get top(){return this.matrix},get inverse$(){return this._i||(this._i=SpiderGL.Math.Mat4.inverse(this._m))},get inverse(){return SpiderGL.Math.Mat4.dup(this.inverse$)},get transpose$(){return this._t||(this._t=SpiderGL.Math.Mat4.transpose(this._m))},get transpose(){return SpiderGL.Math.Mat4.dup(this.transpose$)},get inverseTranspose$(){return this._it||(this._it=SpiderGL.Math.Mat4.transpose(this.inverse$))},get inverseTranspose(){return SpiderGL.Math.Mat4.dup(this.inverseTranspose$)},push:function(){var e=SpiderGL.Math.Mat4.dup(this._m);this._s.push(e),this._l++,this._m=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._m=this._s[this._l-1],this._invalidate())},load:function(e){e=SpiderGL.Math.Mat4.dup(e),this._s[this._l-1]=e,this._m=e,this._invalidate()},loadIdentity:function(){var e=SpiderGL.Math.Mat4.identity$(this._m);this._i=e,this._t=e,this._it=e},multiply:function(e){SpiderGL.Math.Mat4.mul$(this._m,e),this._invalidate()},ortho:function(e,t){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.ortho(e,t)),this._invalidate()},frustum:function(e,t){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.frustum(e,t)),this._invalidate()},perspective:function(e,t,r,i){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.perspective(e,t,r,i)),this._invalidate()},lookAt:function(e,t,r){SpiderGL.Math.Mat4.mul$(this._m,SpiderGL.Math.Mat4.lookAt(e,t,r)),this._invalidate()},translate:function(e){SpiderGL.Math.Mat4.translate$(this._m,e),this._invalidate()},rotate:function(e,t){SpiderGL.Math.Mat4.rotateAngleAxis$(this._m,e,t),this._invalidate()},scale:function(e){SpiderGL.Math.Mat4.scale$(this._m,e),this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.MatrixStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.ViewportStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.ViewportStack.prototype={_invalidate:function(){this._onChange&&this._onChange(this)},reset:function(){var e=[0,0,1,1];this._s=[e],this._l=1,this._r=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get rect$(){return this._r},get rect(){return this.rect$.slice(0,4)},get top$(){return this.rect$},get top(){return this.rect},push:function(){var e=this._r.slice(0,4);this._s.push(e),this._l++,this._r=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._r=this._s[this._l-1],this._invalidate())},load:function(e){e=e.slice(0,4),this._s[this._l-1]=e,this._r=e,this._invalidate()},loadIdentity:function(){this._r=[0,0,1,1]},inner:function(e){this._r[0]+=e[0],this._r[1]+=e[1],this._r[2]=e[2],this._r[3]=e[3],this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.ViewportStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.DepthRangeStack=function(e){SpiderGL.Core.ObjectBase.call(this),this._onChange=null,this.reset(),this._onChange=e},SpiderGL.Space.DepthRangeStack.prototype={_invalidate:function(){this._onChange&&this._onChange(this)},reset:function(){var e=[0,1];this._s=[e],this._l=1,this._r=e,this._onChange&&this._onChange(this)},get onChange(){return this._onChange},set onChange(e){this._onChange=e},get size(){return this._l},get range$(){return this._r},get range(){return this.range$.slice(0,2)},get top$(){return this.range$},get top(){return this.range},push:function(){var e=this._r.slice(0,2);this._s.push(e),this._l++,this._r=e},pop:function(){this._l<=1||(this._s.pop(),this._l--,this._r=this._s[this._l-1],this._invalidate())},load:function(e){e=e.slice(0,2),this._s[this._l-1]=e,this._r=e,this._invalidate()},loadIdentity:function(){this._r=[0,1]},inner:function(e){this._r[0]+=e[0],this._r[1]=e[1],this._invalidate()}},SpiderGL.Type.extend(SpiderGL.Space.DepthRangeStack,SpiderGL.Core.ObjectBase),SpiderGL.Space.TransformationStack=function(){SpiderGL.Core.ObjectBase.call(this);var e=this;this._mv={},this._vp={},this._mvp={},this._n={},this._c={},this._m=new SpiderGL.Space.MatrixStack(function(){e._mv={},e._mvp={},e._n={},e._c={}}),this._v=new SpiderGL.Space.MatrixStack(function(){e._mv={},e._vp={},e._mvp={},e._n={},e._c={}}),this._p=new SpiderGL.Space.MatrixStack(function(){e._vp={},e._mvp={}}),this._viewport=new SpiderGL.Space.ViewportStack(function(){}),this._depth=new SpiderGL.Space.DepthRangeStack(function(){})},SpiderGL.Space.TransformationStack.prototype={reset:function(){this._m.reset(),this._v.reset(),this._p.reset()},get viewport(){return this._viewport},get viewportRect$(){return this._viewport.rect$},get viewportRect(){return this._viewport.rect},get depth(){return this._depth},get depthRange$(){return this._depth.range$},get depthRange(){return this._depth.range},get model(){return this._m},get modelMatrix$(){return this._m.matrix$},get modelMatrix(){return this._m.matrix},get modelMatrixInverse$(){return this._m.inverse$},get modelMatrixInverse(){return this._m.inverse},get modelMatrixTranspose$(){return this._m.transpose$},get modelMatrixTranspose(){return this._m.transpose},get modelMatrixInverseTranspose$(){return this._m.inverseTranspose$},get modelMatrixInverseTranspose(){return this._m.inverseTranspose},get view(){return this._v},get viewMatrix$(){return this._v.matrix$},get viewMatrix(){return this._v.matrix},get viewMatrixInverse$(){return this._v.inverse$},get viewMatrixInverse(){return this._v.inverse},get viewMatrixTranspose$(){return this._v.transpose$},get viewMatrixTranspose(){return this._v.transpose},get viewMatrixInverseTranspose$(){return this._v.inverseTranspose$},get viewMatrixInverseTranspose(){return this._v.inverseTranspose},get projection(){return this._p},get projectionMatrix$(){return this._p.matrix$},get projectionMatrix(){return this._p.matrix},get projectionMatrixInverse$(){return this._p.inverse$},get projectionMatrixInverse(){return this._p.inverse},get projectionMatrixTranspose$(){return this._p.transpose$},get projectionMatrixTranspose(){return this._p.transpose},get projectionMatrixInverseTranspose$(){return this._p.inverseTranspose$},get projectionMatrixInverseTranspose(){return this._p.inverseTranspose},get modelViewMatrix$(){return this._mv.m||(this._mv.m=SpiderGL.Math.Mat4.mul(this.viewMatrix$,this.modelMatrix$))},get modelViewMatrix(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrix$)},get modelViewMatrixInverse$(){return this._mv.i||(this._mv.i=SpiderGL.Math.Mat4.mul(this.modelMatrixInverse$,this.viewMatrixInverse$))},get modelViewMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixInverse$)},get modelViewMatrixTranspose$(){return this._mv.t||(this._mv.t=SpiderGL.Math.Mat4.transpose(this.modelViewMatrix$))},get modelViewMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixTranspose$)},get modelViewMatrixInverseTranspose$(){return this._mv.it||(this._mv.it=SpiderGL.Math.Mat4.transpose(this.modelViewMatrixInverse$))},get modelViewMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewMatrixInverseTranspose$)},get viewProjectionMatrix$(){return this._vp.m||(this._vp.m=SpiderGL.Math.Mat4.mul(this.projectionMatrix$,this.viewMatrix$))},get viewProjectionMatrix(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrix$)},get viewProjectionMatrixInverse$(){return this._vp.i||(this._vp.i=SpiderGL.Math.Mat4.mul(this.viewMatrixInverse$,this.projectionMatrixInverse$))},get viewProjectionMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixInverse$)},get viewProjectionMatrixTranspose$(){return this._vp.t||(this._vp.t=SpiderGL.Math.Mat4.transpose(this.viewProjectionMatrix$))},get viewProjectionMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixTranspose$)},get viewProjectionMatrixInverseTranspose$(){return this._vp.it||(this._vp.it=SpiderGL.Math.Mat4.transpose(this.viewProjectionMatrixInverse$))},get viewProjectionMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.viewProjectionMatrixInverseTranspose$)},get modelViewProjectionMatrix$(){return this._mvp.m||(this._mvp.m=SpiderGL.Math.Mat4.mul(this.viewProjectionMatrix$,this.modelMatrix$))},get modelViewProjectionMatrix(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrix$)},get modelViewProjectionMatrixInverse$(){return this._mvp.i||(this._mvp.i=SpiderGL.Math.Mat4.inverse(this.modelViewProjectionMatrix$))},get modelViewProjectionMatrixInverse(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixInverse$)},get modelViewProjectionMatrixTranspose$(){return this._mvp.t||(this._mvp.t=SpiderGL.Math.Mat4.transpose(this.modelViewProjectionMatrix$))},get modelViewProjectionMatrixTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixTranspose$)},get modelViewProjectionMatrixInverseTranspose$(){return this._mvp.it||(this._mvp.it=SpiderGL.Math.Mat4.transpose(this.modelViewProjectionMatrixInverse$))},get modelViewProjectionMatrixInverseTranspose(){return SpiderGL.Math.Mat4.dup(this.modelViewProjectionMatrixInverseTranspose$)},get worldSpaceNormalMatrix$(){return this._n.m||(this._n.m=SpiderGL.Math.Mat4.inverseTranspose33(this.modelMatrix$))},get worldSpaceNormalMatrix(){return SpiderGL.Math.Mat4.dup(this.worldSpaceNormalMatrix$)},get viewSpaceNormalMatrix$(){return this._n.v||(this._n.v=SpiderGL.Math.Mat4.inverseTranspose33(this.modelViewMatrix$))},get viewSpaceNormalMatrix(){return SpiderGL.Math.Mat4.dup(this.viewSpaceNormalMatrix$)},get modelSpaceViewerPosition$(){return this._c.mp||(this._c.mp=SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.col(this.modelViewMatrixInverse$,3)))},get modelSpaceViewerPosition(){return SpiderGL.Math.Vec3.dup(this.modelSpaceViewerPosition$)},get worldSpaceViewerPosition$(){return this._c.wp||(this._c.wp=SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.col(this.viewMatrixInverse$,3)))},get worldSpaceViewerPosition(){return SpiderGL.Math.Vec3.dup(this.worldSpaceViewerPosition$)},get modelSpaceViewDirection$(){return this._c.md||(this._c.md=SpiderGL.Math.Vec3.normalize$(SpiderGL.Math.Vec3.neg$(SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.row(this.modelViewMatrixInverse$,2)))))},get modelSpaceViewDirection(){return SpiderGL.Math.Vec3.dup(this.modelSpaceViewDirection$)},get worldSpaceViewDirection$(){return this._c.wd||(this._c.wd=SpiderGL.Math.Vec3.normalize$(SpiderGL.Math.Vec3.neg$(SpiderGL.Math.Vec4.to3(SpiderGL.Math.Mat4.row(this.viewMatrixInverse$,2)))))},get worldSpaceViewDirection(){return SpiderGL.Math.Vec3.dup(this.worldSpaceViewDirection$)},project:function(e){return SpiderGL.Math.project(e,this.modelViewProjectionMatrix$,this.viewportRect$,this.depthRange$)},unproject:function(e){return SpiderGL.Math.unproject(e,this.modelViewProjectionMatrixInverse$,this.viewportRect$,this.depthRange$)}},SpiderGL.Type.extend(SpiderGL.Space.TransformationStack,SpiderGL.Core.ObjectBase),SpiderGL.WebGL={},SpiderGL.WebGL.Context={},SpiderGL.WebGL.Context.WEBGL_STRING=\"experimental-webgl\",SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y=!0,SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA=!1,SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Context.get=function(e,t){var r=e;return SpiderGL.Type.isString(r)&&(r=SpiderGL.DOM.getElementById(r)),SpiderGL.Type.instanceOf(r,HTMLCanvasElement)?r.getContext(SpiderGL.WebGL.Context.WEBGL_STRING,t):null},SpiderGL.WebGL.Context._prepareContex=function(e){if(e){var t=e._spidergl;if(!t){t={},e._spidergl=t,t.TAG=0,t.gl=e;var r={};for(var i in t.glFunctions=r,e){var n=e[n];\"function\"==typeof n&&(r[i]=n)}}}},SpiderGL.WebGL.Context._addExtension=function(e,t,r,i){if(e){var n=e.getExtension;e.getExtension=function(a){if(a==t){var s=this._spidergl;if(!s)return null;var o=s[r];if(!o){(o={}).TAG=0;var u={};o._ext=u,u[r]=o,u.sgl=s,u.gl=e;if(u.glFunctions={},!i(e,o))return null;s[r]=o}return o}return n.call(this,a)}}},SpiderGL.WebGL.Context._setup_SGL_current_binding=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.cb)return!1;var r=t,i=r._ext,n=i.glFunctions;i.currentBuffer={},i.currentBuffer[e.ARRAY_BUFFER]=e.getParameter(e.ARRAY_BUFFER_BINDING),i.currentBuffer[e.ELEMENT_ARRAY_BUFFER]=e.getParameter(e.ELEMENT_ARRAY_BUFFER_BINDING),i.bufferStack={},i.bufferStack[e.ARRAY_BUFFER]=[],i.bufferStack[e.ELEMENT_ARRAY_BUFFER]=[],n.bindBuffer=e.bindBuffer,e.bindBuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentBuffer[e]!=t&&(r.currentBuffer[e]=t,r.glFunctions.bindBuffer.call(this,e,t))},r.getCurrentBuffer=function(e){return this._ext.currentBuffer[e]},r.pushBuffer=function(e){var t=this._ext,r=t.bufferStack[e],i=t.currentBuffer[e];r.push(i)},r.popBuffer=function(e){var t=this._ext,r=t.bufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindBuffer(e,i)}},i.currentFramebuffer={},i.currentFramebuffer[e.FRAMEBUFFER]=e.getParameter(e.FRAMEBUFFER_BINDING),i.framebufferStack={},i.framebufferStack[e.FRAMEBUFFER]=[],n.bindFramebuffer=e.bindFramebuffer,e.bindFramebuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentFramebuffer[e]!=t&&(r.currentFramebuffer[e]=t,r.glFunctions.bindFramebuffer.call(this,e,t))},r.getCurrentFramebuffer=function(e){return this._ext.currentFramebuffer[e]},r.pushFramebuffer=function(e){var t=this._ext,r=t.framebufferStack[e],i=t.currentFramebuffer[e];r.push(i)},r.popFramebuffer=function(e){var t=this._ext,r=t.framebufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindFramebuffer(e,i)}},i.currentProgram=e.getParameter(e.CURRENT_PROGRAM),i.programStack=[],n.useProgram=e.useProgram,e.useProgram=function(e){var t=this._spidergl.cb._ext;t.currentProgram!=e&&(t.currentProgram=e,t.glFunctions.useProgram.call(this,e))},r.getCurrentProgram=function(){return this._ext.currentProgram},r.pushProgram=function(){var e=this._ext,t=e.programStack,r=e.currentProgram;t.push(r)},r.popProgram=function(){var e=this._ext,t=e.programStack;if(!(t.length<=0)){var r=t.pop();e.gl.useProgram(r)}},i.currentRenderbuffer={},i.currentRenderbuffer[e.RENDERBUFFER]=e.getParameter(e.RENDERBUFFER_BINDING),i.renderbufferStack={},i.renderbufferStack[e.RENDERBUFFER]=[],n.bindRenderbuffer=e.bindRenderbuffer,e.bindRenderbuffer=function(e,t){var r=this._spidergl.cb._ext;r.currentRenderbuffer[e]!=t&&(r.currentRenderbuffer[e]=t,r.glFunctions.bindRenderbuffer.call(this,e,t))},r.getCurrentRenderbuffer=function(e){return this._ext.currentRenderbuffer[e]},r.pushRenderbuffer=function(e){var t=this._ext,r=t.renderbufferStack[e],i=t.currentRenderbuffer[e];r.push(i)},r.popRenderbuffer=function(e){var t=this._ext,r=t.renderbufferStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindRenderbuffer(e,i)}},i.currentShader={},i.currentShader[e.VERTEX_SHADER]=null,i.currentShader[e.FRAGMENT_SHADER]=null,i.shaderStack={},i.shaderStack[e.VERTEX_SHADER]=[],i.shaderStack[e.FRAGMENT_SHADER]=[],i.glFunctions.bindShader=function(e,t){},r.bindShader=function(e,t){var r=this._ext;r.currentShader[e]!=t&&(r.currentShader[e]=t,r.glFunctions.bindShader.call(r.gl,e,t))},r.getCurrentShader=function(e){return this._ext.currentShader[e]},r.pushShader=function(e){var t=this._ext,r=t.shaderStack[e],i=t.currentShader[e];r.push(i)},r.popShader=function(e){var t=this._ext,r=t.shaderStack[e];if(!(r.length<=0)){var i=r.pop();t.gl.bindShader(e,i)}},i.currentTexture={};var a=e.getParameter(e.ACTIVE_TEXTURE),s=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);i.currentTexture={},i.textureStack={},i.textureUnitStack=[];for(var o=0;o<s;++o){var u=e.TEXTURE0+o;e.activeTexture(u);var d={};d[e.TEXTURE_2D]=e.getParameter(e.TEXTURE_BINDING_2D),d[e.TEXTURE_CUBE_MAP]=e.getParameter(e.TEXTURE_BINDING_CUBE_MAP),i.currentTexture[u]=d;var p={};p[e.TEXTURE_2D]=[],p[e.TEXTURE_CUBE_MAP]=[],i.textureStack[u]=p}return e.activeTexture(a),i.currentTextureUnit=a,n.activeTexture=e.activeTexture,e.activeTexture=function(e){var t=this._spidergl.cb._ext;t.currentTextureUnit!=e&&(t.currentTextureUnit=e,t.glFunctions.activeTexture.call(this,e))},r.getCurrentTextureUnit=function(){return this._ext.currentTextureUnit},r.pushTextureUnit=function(){var e=this._ext,t=e.textureUnitStack,r=e.currentTextureUnit;t.push(r)},r.popTextureUnit=function(){var e=this._ext,t=e.textureUnitStack;if(!(t.length<=0)){var r=t.pop();e.gl.activeTexture(r)}},n.bindTexture=e.bindTexture,e.bindTexture=function(e,t){var r=this._spidergl.cb._ext,i=r.currentTextureUnit;r.currentTexture[i][e]!=t&&(r.currentTexture[i][e]=t,r.glFunctions.bindTexture.call(this,e,t))},r.getCurrentTexture=function(e){var t=this._ext,r=t.currentTextureUnit;return t.currentTexture[r][e]},r.pushTexture=function(e){var t=this._ext,r=t.currentTextureUnit,i=t.textureStack[r][e],n=t.currentTexture[r][e];i.push(n)},r.popTexture=function(e){var t=this._ext,r=t.currentTextureUnit,i=t.textureStack[r][e];if(!(i.length<=0)){var n=i.pop();t.gl.bindTexture(e,n)}},!0},SpiderGL.WebGL.Context._setup_SGL_wrapper_notify=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.wn)return!1;var r=t._ext,i=r.glFunctions;return r.cb=e.getExtension(\"SGL_current_binding\"),!!r.cb&&(i.deleteBuffer=e.deleteBuffer,e.deleteBuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteBuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteBuffer.apply(t._spidergl,arguments)},i.isBuffer=e.isBuffer,e.isBuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isBuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isBuffer.apply(r._spidergl,arguments),t},i.bindBuffer=e.bindBuffer,e.bindBuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindBuffer.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bindBuffer.apply(r._spidergl,arguments)},i.getBufferParameter=e.getBufferParameter,e.getBufferParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getBufferParameter.apply(this,arguments),i=t.cb.getCurrentBuffer(e);return i&&i._spidergl&&i._spidergl._gl_getBufferParameter.apply(i._spidergl,arguments),r},i.bufferData=e.bufferData,e.bufferData=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bufferData.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bufferData.apply(r._spidergl,arguments)},i.bufferSubData=e.bufferSubData,e.bufferSubData=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bufferSubData.apply(this,arguments);var r=t.cb.getCurrentBuffer(e);r&&r._spidergl&&r._spidergl._gl_bufferSubData.apply(r._spidergl,arguments)},i.vertexAttribPointer=e.vertexAttribPointer,e.vertexAttribPointer=function(){var e=this._spidergl.wn._ext;e.glFunctions.vertexAttribPointer.apply(this,arguments);var t=this.ARRAY_BUFFER,r=e.cb.getCurrentBuffer(t);r&&r._spidergl&&r._spidergl._gl_vertexAttribPointer.apply(r._spidergl,arguments)},i.drawElements=e.drawElements,e.drawElements=function(e,t,r,i,n){var a=this._spidergl.wn._ext;a.glFunctions.drawElements.apply(this,arguments);var s=this.ELEMENT_ARRAY_BUFFER,o=a.cb.getCurrentBuffer(s);o&&o._spidergl&&o._spidergl._gl_drawElements.apply(o._spidergl,arguments)},i.deleteFramebuffer=e.deleteFramebuffer,e.deleteFramebuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteFramebuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteFramebuffer.apply(t._spidergl,arguments)},i.isFramebuffer=e.isFramebuffer,e.isFramebuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isFramebuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isFramebuffer.apply(r._spidergl,arguments),t},i.bindFramebuffer=e.bindFramebuffer,e.bindFramebuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindFramebuffer.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_bindFramebuffer.apply(r._spidergl,arguments)},i.checkFramebufferStatus=e.checkFramebufferStatus,e.checkFramebufferStatus=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.checkFramebufferStatus.apply(this,arguments),i=t.cb.getCurrentFramebuffer(e);return i&&i._spidergl&&i._spidergl._gl_checkFramebufferStatus.apply(i._spidergl,arguments),r},i.getFramebufferAttachmentParameter=e.getFramebufferAttachmentParameter,e.getFramebufferAttachmentParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getFramebufferAttachmentParameter.apply(this,arguments),i=t.cb.getCurrentFramebuffer(e);return i&&i._spidergl&&i._spidergl._gl_getFramebufferAttachmentParameter.apply(i._spidergl,arguments),r},i.framebufferRenderbuffer=e.framebufferRenderbuffer,e.framebufferRenderbuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.framebufferRenderbuffer.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_framebufferRenderbuffer.apply(r._spidergl,arguments)},i.framebufferTexture2D=e.framebufferTexture2D,e.framebufferTexture2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.framebufferTexture2D.apply(this,arguments);var r=t.cb.getCurrentFramebuffer(e);r&&r._spidergl&&r._spidergl._gl_framebufferTexture2D.apply(r._spidergl,arguments)},i.clear=e.clear,e.clear=function(){var e=this._spidergl.wn._ext;e.glFunctions.clear.apply(this,arguments);var t=this.FRAMEBUFFER,r=e.cb.getCurrentFramebuffer(t);r&&r._spidergl&&r._spidergl._gl_clear.apply(r._spidergl,arguments)},i.readPixels=e.readPixels,e.readPixels=function(){var e=this._spidergl.wn._ext;e.glFunctions.readPixels.apply(this,arguments);var t=this.FRAMEBUFFER,r=e.cb.getCurrentFramebuffer(t);r&&r._spidergl&&r._spidergl._gl_readPixels.apply(r._spidergl,arguments)},i.deleteProgram=e.deleteProgram,e.deleteProgram=function(e){this._spidergl.wn._ext.glFunctions.deleteProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteProgram.apply(t._spidergl,arguments)},i.isProgram=e.isProgram,e.isProgram=function(e){var t=this._spidergl.wn._ext.glFunctions.isProgram.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isProgram.apply(r._spidergl,arguments),t},i.useProgram=e.useProgram,e.useProgram=function(){var e=this._spidergl.wn._ext;e.glFunctions.useProgram.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_useProgram.apply(t._spidergl,arguments)},i.getActiveAttrib=e.getActiveAttrib,e.getActiveAttrib=function(e){var t=this._spidergl.wn._ext.glFunctions.getActiveAttrib.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getActiveAttrib.apply(r._spidergl,arguments),t},i.getActiveUniform=e.getActiveUniform,e.getActiveUniform=function(e){var t=this._spidergl.wn._ext.glFunctions.getActiveUniform.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getActiveUniform.apply(r._spidergl,arguments),t},i.getAttachedShaders=e.getAttachedShaders,e.getAttachedShaders=function(e){var t=this._spidergl.wn._ext.glFunctions.getAttachedShaders.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getAttachedShaders.apply(r._spidergl,arguments),t},i.getAttribLocation=e.getAttribLocation,e.getAttribLocation=function(e){var t=this._spidergl.wn._ext.glFunctions.getAttribLocation.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getAttribLocation.apply(r._spidergl,arguments),t},i.getProgramParameter=e.getProgramParameter,e.getProgramParameter=function(e){var t=this._spidergl.wn._ext.glFunctions.getProgramParameter.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getProgramParameter.apply(r._spidergl,arguments),t},i.getProgramInfoLog=e.getProgramInfoLog,e.getProgramInfoLog=function(e){var t=this._spidergl.wn._ext.glFunctions.getProgramInfoLog.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getProgramInfoLog.apply(r._spidergl,arguments),t},i.getUniform=e.getUniform,e.getUniform=function(e){var t=this._spidergl.wn._ext.glFunctions.getUniform.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getUniform.apply(r._spidergl,arguments),t},i.getUniformLocation=e.getUniformLocation,e.getUniformLocation=function(e){var t=this._spidergl.wn._ext.glFunctions.getUniformLocation.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getUniformLocation.apply(r._spidergl,arguments),t},i.attachShader=e.attachShader,e.attachShader=function(e){this._spidergl.wn._ext.glFunctions.attachShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_attachShader.apply(t._spidergl,arguments)},i.bindAttribLocation=e.bindAttribLocation,e.bindAttribLocation=function(e){this._spidergl.wn._ext.glFunctions.bindAttribLocation.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_bindAttribLocation.apply(t._spidergl,arguments)},i.detachShader=e.detachShader,e.detachShader=function(e){this._spidergl.wn._ext.glFunctions.detachShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_detachShader.apply(t._spidergl,arguments)},i.linkProgram=e.linkProgram,e.linkProgram=function(e){this._spidergl.wn._ext.glFunctions.linkProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_linkProgram.apply(t._spidergl,arguments)},i.uniform1f=e.uniform1f,e.uniform1f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1f.apply(t._spidergl,arguments)},i.uniform1fv=e.uniform1fv,e.uniform1fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1fv.apply(t._spidergl,arguments)},i.uniform1i=e.uniform1i,e.uniform1i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1i.apply(t._spidergl,arguments)},i.uniform1iv=e.uniform1iv,e.uniform1iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform1iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform1iv.apply(t._spidergl,arguments)},i.uniform2f=e.uniform2f,e.uniform2f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2f.apply(t._spidergl,arguments)},i.uniform2fv=e.uniform2fv,e.uniform2fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2fv.apply(t._spidergl,arguments)},i.uniform2i=e.uniform2i,e.uniform2i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2i.apply(t._spidergl,arguments)},i.uniform2iv=e.uniform2iv,e.uniform2iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform2iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform2iv.apply(t._spidergl,arguments)},i.uniform3f=e.uniform3f,e.uniform3f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3f.apply(t._spidergl,arguments)},i.uniform3fv=e.uniform3fv,e.uniform3fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3fv.apply(t._spidergl,arguments)},i.uniform3i=e.uniform3i,e.uniform3i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3i.apply(t._spidergl,arguments)},i.uniform3iv=e.uniform3iv,e.uniform3iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform3iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform3iv.apply(t._spidergl,arguments)},i.uniform4f=e.uniform4f,e.uniform4f=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4f.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4f.apply(t._spidergl,arguments)},i.uniform4fv=e.uniform4fv,e.uniform4fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4fv.apply(t._spidergl,arguments)},i.uniform4i=e.uniform4i,e.uniform4i=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4i.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4i.apply(t._spidergl,arguments)},i.uniform4iv=e.uniform4iv,e.uniform4iv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniform4iv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniform4iv.apply(t._spidergl,arguments)},i.uniformMatrix2fv=e.uniformMatrix2fv,e.uniformMatrix2fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix2fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix2fv.apply(t._spidergl,arguments)},i.uniformMatrix3fv=e.uniformMatrix3fv,e.uniformMatrix3fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix3fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix3fv.apply(t._spidergl,arguments)},i.uniformMatrix4fv=e.uniformMatrix4fv,e.uniformMatrix4fv=function(){var e=this._spidergl.wn._ext;e.glFunctions.uniformMatrix4fv.apply(this,arguments);var t=e.cb.getCurrentProgram();t&&t._spidergl&&t._spidergl._gl_uniformMatrix4fv.apply(t._spidergl,arguments)},i.validateProgram=e.validateProgram,e.validateProgram=function(e){this._spidergl.wn._ext.glFunctions.validateProgram.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_validateProgram.apply(t._spidergl,arguments)},i.deleteRenderbuffer=e.deleteRenderbuffer,e.deleteRenderbuffer=function(e){this._spidergl.wn._ext.glFunctions.deleteRenderbuffer.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteRenderbuffer.apply(t._spidergl,arguments)},i.isRenderbuffer=e.isRenderbuffer,e.isRenderbuffer=function(e){var t=this._spidergl.wn._ext.glFunctions.isRenderbuffer.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isRenderbuffer.apply(r._spidergl,arguments),t},i.bindRenderbuffer=e.bindRenderbuffer,e.bindRenderbuffer=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindRenderbuffer.apply(this,arguments);var r=t.cb.getCurrentRenderbuffer(e);r&&r._spidergl&&r._spidergl._gl_bindRenderbuffer.apply(r._spidergl,arguments)},i.getRenderbufferParameter=e.getRenderbufferParameter,e.getRenderbufferParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getRenderbufferParameter.apply(this,arguments),i=t.cb.getCurrentRenderbuffer(e);return i&&i._spidergl&&i._spidergl._gl_getRenderbufferParameter.apply(i._spidergl,arguments),r},i.renderbufferStorage=e.renderbufferStorage,e.renderbufferStorage=function(e){var t=this._spidergl.wn._ext;t.glFunctions.renderbufferStorage.apply(this,arguments);var r=t.cb.getCurrentRenderbuffer(e);r&&r._spidergl&&r._spidergl._gl_renderbufferStorage.apply(r._spidergl,arguments)},i.deleteShader=e.deleteShader,e.deleteShader=function(e){this._spidergl.wn._ext.glFunctions.deleteShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteShader.apply(t._spidergl,arguments)},i.isShader=e.isShader,e.isShader=function(e){var t=this._spidergl.wn._ext.glFunctions.isShader.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isShader.apply(r._spidergl,arguments),t},i.getShaderParameter=e.getShaderParameter,e.getShaderParameter=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderParameter.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderParameter.apply(r._spidergl,arguments),t},i.getShaderInfoLog=e.getShaderInfoLog,e.getShaderInfoLog=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderInfoLog.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderInfoLog.apply(r._spidergl,arguments),t},i.getShaderSource=e.getShaderSource,e.getShaderSource=function(e){var t=this._spidergl.wn._ext.glFunctions.getShaderSource.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_getShaderSource.apply(r._spidergl,arguments),t},i.compileShader=e.compileShader,e.compileShader=function(e){this._spidergl.wn._ext.glFunctions.compileShader.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_compileShader.apply(t._spidergl,arguments)},i.shaderSource=e.shaderSource,e.shaderSource=function(e){this._spidergl.wn._ext.glFunctions.shaderSource.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_shaderSource.apply(t._spidergl,arguments)},r.textureTargetMap={},r.textureTargetMap[e.TEXTURE_2D]=e.TEXTURE_2D,r.textureTargetMap[e.TEXTURE_CUBE_MAP]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_X]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_X]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Y]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Y]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Z]=e.TEXTURE_CUBE_MAP,r.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Z]=e.TEXTURE_CUBE_MAP,i.deleteTexture=e.deleteTexture,e.deleteTexture=function(e){this._spidergl.wn._ext.glFunctions.deleteTexture.apply(this,arguments);var t=e;t&&t._spidergl&&t._spidergl._gl_deleteTexture.apply(t._spidergl,arguments)},i.isTexture=e.isTexture,e.isTexture=function(e){var t=this._spidergl.wn._ext.glFunctions.isTexture.apply(this,arguments),r=e;return r&&r._spidergl&&r._spidergl._gl_isTexture.apply(r._spidergl,arguments),t},i.bindTexture=e.bindTexture,e.bindTexture=function(e){var t=this._spidergl.wn._ext;t.glFunctions.bindTexture.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_bindTexture.apply(r._spidergl,arguments)},i.getTexParameter=e.getTexParameter,e.getTexParameter=function(e){var t=this._spidergl.wn._ext,r=t.glFunctions.getTexParameter.apply(this,arguments),i=t.cb.getCurrentTexture(e);return i&&i._spidergl&&i._spidergl._gl_getTexParameter.apply(i._spidergl,arguments),r},i.copyTexImage2D=e.copyTexImage2D,e.copyTexImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.copyTexImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_copyTexImage2D.apply(i._spidergl,arguments)},i.copyTexSubImage2D=e.copyTexSubImage2D,e.copyTexSubImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.copyTexSubImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_copyTexSubImage2D.apply(i._spidergl,arguments)},i.generateMipmap=e.generateMipmap,e.generateMipmap=function(e){var t=this._spidergl.wn._ext;t.glFunctions.generateMipmap.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_generateMipmap.apply(r._spidergl,arguments)},i.texImage2D=e.texImage2D,e.texImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_texImage2D.apply(i._spidergl,arguments)},i.texParameterf=e.texParameterf,e.texParameterf=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texParameterf.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_texParameterf.apply(r._spidergl,arguments)},i.texParameteri=e.texParameteri,e.texParameteri=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texParameteri.apply(this,arguments);var r=t.cb.getCurrentTexture(e);r&&r._spidergl&&r._spidergl._gl_texParameteri.apply(r._spidergl,arguments)},i.texSubImage2D=e.texSubImage2D,e.texSubImage2D=function(e){var t=this._spidergl.wn._ext;t.glFunctions.texSubImage2D.apply(this,arguments);var r=t.textureTargetMap[e],i=t.cb.getCurrentTexture(r);i&&i._spidergl&&i._spidergl._gl_texSubImage2D.apply(i._spidergl,arguments)},!0)},SpiderGL.WebGL.Context._setup_SGL_direct_state_access=function(e,t){if(!e)return!1;if(!t)return!1;if(!e._spidergl)return!1;if(e._spidergl.dsa)return!1;var r=t,i=r._ext;i.glFunctions;return i.cb=e.getExtension(\"SGL_current_binding\"),!!i.cb&&(r.getBufferParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentBuffer(t);a!=e&&n.bindBuffer(t,e);var s=n.getBufferParameter(t,r);return a!=e&&n.bindBuffer(t,a),s},r.bufferData=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentBuffer(t);s!=e&&a.bindBuffer(t,e),a.bufferData(t,r,i),s!=e&&a.bindBuffer(t,s)},r.bufferSubData=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentBuffer(t);s!=e&&a.bindBuffer(t,e),a.bufferSubData(t,r,i),s!=e&&a.bindBuffer(t,s)},r.vertexAttribPointer=function(e,t,r,i,n,a,s){var o=this._ext,u=o.gl,d=u.ARRAY_BUFFER,p=o.cb.getCurrentBuffer(d);p!=e&&u.bindBuffer(d,e),u.vertexAttribPointer(t,r,i,n,a,s),p!=e&&u.bindBuffer(d,p)},r.drawElements=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=s.ELEMENT_ARRAY_BUFFER,u=a.cb.getCurrentBuffer(o);u!=e&&s.bindBuffer(o,e),s.drawElements(t,r,i,n),u!=e&&s.bindBuffer(o,u)},r.checkFramebufferStatus=function(e,t){var r=this._ext,i=r.gl,n=r.cb.getCurrentFramebuffer(t);n!=e&&i.bindFramebuffer(t,e);var a=i.checkFramebufferStatus(t);return n!=e&&i.bindFramebuffer(t,n),a},r.getFramebufferAttachmentParameter=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentFramebuffer(t);s!=e&&a.bindFramebuffer(t,e);var o=a.getFramebufferAttachmentParameter(t,r,i);return s!=e&&a.bindFramebuffer(t,s),o},r.framebufferRenderbuffer=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentFramebuffer(t);o!=e&&s.bindFramebuffer(t,e),s.framebufferRenderbuffer(t,r,i,n),o!=e&&s.bindFramebuffer(t,o)},r.framebufferTexture2D=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentFramebuffer(t);u!=e&&o.bindFramebuffer(t,e),o.framebufferTexture2D(t,r,i,n,a),u!=e&&o.bindFramebuffer(t,u)},r.clear=function(e,t){var r=this._ext,i=r.gl,n=i.FRAMEBUFFER,a=r.cb.getCurrentFramebuffer(n);a!=e&&i.bindFramebuffer(n,e),i.clear(t),a!=e&&i.bindFramebuffer(n,a)},r.readPixels=function(e,t,r,i,n,a,s,o){var u=this._ext,d=u.gl,p=d.FRAMEBUFFER,h=u.cb.getCurrentFramebuffer(p);h!=e&&d.bindFramebuffer(p,e),d.readPixels(t,r,i,n,a,s,o),h!=e&&d.bindFramebuffer(p,h)},r.uniform1f=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1f(t,r),a!=e&&n.useProgram(a)},r.uniform1fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1fv(t,r),a!=e&&n.useProgram(a)},r.uniform1i=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1i(t,r),a!=e&&n.useProgram(a)},r.uniform1iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform1iv(t,r),a!=e&&n.useProgram(a)},r.uniform2f=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniform2f(t,r,i),s!=e&&a.useProgram(s)},r.uniform2fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform2fv(t,r),a!=e&&n.useProgram(a)},r.uniform2i=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniform2i(t,r,i),s!=e&&a.useProgram(s)},r.uniform2iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform2iv(t,r),a!=e&&n.useProgram(a)},r.uniform3f=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentProgram();o!=e&&s.useProgram(e),s.uniform3f(t,r,i,n),o!=e&&s.useProgram(o)},r.uniform3fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform3fv(t,r),a!=e&&n.useProgram(a)},r.uniform3i=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentProgram();o!=e&&s.useProgram(e),s.uniform3i(t,r,i,n),o!=e&&s.useProgram(o)},r.uniform3iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform3iv(t,r),a!=e&&n.useProgram(a)},r.uniform4f=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentProgram();u!=e&&o.useProgram(e),o.uniform4f(t,r,i,n,a),u!=e&&o.useProgram(u)},r.uniform4fv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform4fv(t,r),a!=e&&n.useProgram(a)},r.uniform4i=function(e,t,r,i,n,a){var s=this._ext,o=s.gl,u=s.cb.getCurrentProgram();u!=e&&o.useProgram(e),o.uniform4i(t,r,i,n,a),u!=e&&o.useProgram(u)},r.uniform4iv=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentProgram();a!=e&&n.useProgram(e),n.uniform4iv(t,r),a!=e&&n.useProgram(a)},r.uniformMatrix2fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix2fv(t,r,i),s!=e&&a.useProgram(s)},r.uniformMatrix3fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix3fv(t,r,i),s!=e&&a.useProgram(s)},r.uniformMatrix4fv=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentProgram();s!=e&&a.useProgram(e),a.uniformMatrix4fv(t,r,i),s!=e&&a.useProgram(s)},r.getRenderbufferParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentRenderbuffer(t);a!=e&&n.bindRenderbuffer(t,e);var s=n.getRenderbufferParameter.call(n,t,r);return a!=e&&n.bindRenderbuffer(t,a),s},r.renderbufferStorage=function(e,t,r,i,n){var a=this._ext,s=a.gl,o=a.cb.getCurrentRenderbuffer(t);o!=e&&s.bindRenderbuffer(t,e),s.renderbufferStorage(t,r,i,n),o!=e&&s.bindRenderbuffer(t,o)},r.shaderIsNull=function(e){return null==e},i.textureTargetMap={},i.textureTargetMap[e.TEXTURE_2D]=e.TEXTURE_2D,i.textureTargetMap[e.TEXTURE_CUBE_MAP]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_X]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_X]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Y]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Y]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_POSITIVE_Z]=e.TEXTURE_CUBE_MAP,i.textureTargetMap[e.TEXTURE_CUBE_MAP_NEGATIVE_Z]=e.TEXTURE_CUBE_MAP,r.getTexParameter=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentTexture(t);a!=e&&n.bindTexture(t,e);var s=n.getTexParameter(t,r);return a!=e&&n.bindTexture(t,a),s},r.copyTexImage2D=function(e,t,r,i,n,a,s,o,u){var d=this._ext,p=d.gl,h=d.textureTargetMap[t],_=d.cb.getCurrentTexture(h);_!=e&&p.bindTexture(h,e),p.copyTexImage2D(t,r,i,n,a,s,o,u),_!=e&&p.bindTexture(h,_)},r.copyTexSubImage2D=function(e,t,r,i,n,a,s,o,u,d){var p=this._ext,h=p.gl,_=p.textureTargetMap[t],f=p.cb.getCurrentTexture(_);f!=e&&h.bindTexture(_,e),h.copyTexSubImage2D(t,r,i,n,a,s,o,u,d),f!=e&&h.bindTexture(_,f)},r.generateMipmap=function(e,t){var r=this._ext,i=r.gl,n=r.cb.getCurrentTexture(t);n!=e&&i.bindTexture(t,e),i.generateMipmap(t),n!=e&&i.bindTexture(t,n)},r.texImage2D=function(e,t){var r=this._ext,i=r.gl,n=r.textureTargetMap[t],a=r.cb.getCurrentTexture(n);a!=e&&i.bindTexture(n,e);var s=Array.prototype.slice.call(arguments,1);i.texImage2D.apply(i,s),a!=e&&i.bindTexture(n,a)},r.texParameterf=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentTexture(t);s!=e&&a.bindTexture(t,e),a.texParameterf(t,r,i),s!=e&&a.bindTexture(t,s)},r.texParameteri=function(e,t,r,i){var n=this._ext,a=n.gl,s=n.cb.getCurrentTexture(t);s!=e&&a.bindTexture(t,e),a.texParameteri(t,r,i),s!=e&&a.bindTexture(t,s)},r.texSubImage2D=function(e,t){var r=this._ext,i=r.gl,n=r.textureTargetMap[t],a=r.cb.getCurrentTexture(n);a!=e&&i.bindTexture(n,e);var s=Array.prototype.slice.call(arguments,1);i.texSubImage2D.apply(i,s),a!=e&&i.bindTexture(n,a)},r.bindTexture=function(e,t,r){var i=this._ext,n=i.gl,a=i.cb.getCurrentTextureUnit();a!=e&&n.activeTexture(e),n.bindTexture(t,r),a!=e&&n.activeTexture(a)},!0)},SpiderGL.WebGL.Context.hijack=function(e){if(e._spidergl)return!1;SpiderGL.WebGL.Context._prepareContex(e),SpiderGL.WebGL.Context._addExtension(e,\"SGL_current_binding\",\"cb\",SpiderGL.WebGL.Context._setup_SGL_current_binding),SpiderGL.WebGL.Context._addExtension(e,\"SGL_wrapper_notify\",\"wn\",SpiderGL.WebGL.Context._setup_SGL_wrapper_notify),SpiderGL.WebGL.Context._addExtension(e,\"SGL_direct_state_access\",\"dsa\",SpiderGL.WebGL.Context._setup_SGL_direct_state_access);var t=e.getExtension(\"SGL_current_binding\"),r=e.getExtension(\"SGL_wrapper_notify\"),i=e.getExtension(\"SGL_direct_state_access\");return!!t&&!!r&&!!i},SpiderGL.WebGL.Context.isHijacked=function(e){return!!e&&!!e._spidergl},SpiderGL.WebGL.Context.getHijacked=function(e,t){var r=SpiderGL.WebGL.Context.get(e,t);return SpiderGL.WebGL.Context.hijack(r),r},SpiderGL.WebGL.Context.setStandardGLUnpack=function(e){e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,WebGLRenderingContext.prototype.NONE)},SpiderGL.WebGL.ObjectGL=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;r=SpiderGL.Utility.getDefaultObject({handle:null},r),SpiderGL.Core.ObjectBase.call(this);e.getExtension(\"SGL_wrapper_notify\");this._gl=e,this._cb=e.getExtension(\"SGL_current_binding\"),this._dsa=e.getExtension(\"SGL_direct_state_access\"),this._h=r.handle,this._t=t},SpiderGL.WebGL.ObjectGL.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.ObjectGL.unbind=function(e){},SpiderGL.WebGL.ObjectGL.prototype={get gl(){return this._gl},get handle(){return this._h},get target(){return this._t},get isValid(){return null!=this._h},get isReady(){return!1},destroy:function(){},bind:function(){},unbind:function(){}},SpiderGL.Type.extend(SpiderGL.WebGL.ObjectGL,SpiderGL.Core.ObjectBase),SpiderGL.WebGL.Buffer=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(r,WebGLBuffer)?r={handle:r}:SpiderGL.Type.instanceOf(r,ArrayBuffer)||SpiderGL.Type.isTypedArray(r)?r={data:r}:SpiderGL.Type.isNumber(r)&&(r={size:r}),r=SpiderGL.Utility.getDefaultObject({handle:null,data:null,size:0,usage:SpiderGL.WebGL.Buffer.DEFAULT_USAGE},r),SpiderGL.WebGL.ObjectGL.call(this,e,t,r),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var i=this._cb,n=(this._dsa,this._t),a=this._h;i.pushBuffer(n),a?(e.bindBuffer(n,a),r.size=e.getBufferParameter(n,e.BUFFER_SIZE),r.usage=e.getBufferParameter(n,e.BUFFER_USAGE)):(a=e.createBuffer(),e.bindBuffer(n,a),this._h=a),i.popBuffer(n),a._spidergl=this,this._size=r.size,this._usage=r.usage,r.data?this.setData(r.data,r.usage):r.size&&this.setSize(r.size,r.usage)},SpiderGL.WebGL.Buffer.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Buffer.DEFAULT_USAGE=WebGLRenderingContext.prototype.STATIC_DRAW,SpiderGL.WebGL.Buffer.DEFAULT_SUB_DATA_OFFSET=0,SpiderGL.WebGL.Buffer.unbind=function(e){},SpiderGL.WebGL.Buffer.prototype={_gl_deleteBuffer:function(){this._h=null},_gl_isBuffer:function(){},_gl_bindBuffer:function(){},_gl_getBufferParameter:function(){},_gl_bufferData:function(){var e=arguments[1],t=arguments[2];this._size=SpiderGL.Type.isNumber(e)?e:e.byteLength,this._usage=t},_gl_bufferSubData:function(){},_gl_vertexAttribPointer:function(){},_gl_drawElements:function(){},get isReady(){return this._size>0},get size(){return this._size},get usage(){return this._usage},setSize:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_USAGE),this._dsa.bufferData(this._h,this._t,e,t)},setData:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_USAGE),this._dsa.bufferData(this._h,this._t,e,t)},setSubData:function(e,t){t=SpiderGL.Utility.getDefaultValue(t,SpiderGL.WebGL.Buffer.DEFAULT_SUB_DATA_OFFSET),this._dsa.bufferSubData(this._h,this._t,t,e)},destroy:function(){this._gl.deleteBuffer(this._h)},bind:function(){this._gl.bindBuffer(this._t,this._h)},unbind:function(){this._gl.bindBuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Buffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.VertexBuffer=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Buffer.call(this,e,SpiderGL.WebGL.VertexBuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.VertexBuffer.TARGET=WebGLRenderingContext.prototype.ARRAY_BUFFER,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_INDEX=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_SIZE=3,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_TYPE=WebGLRenderingContext.prototype.FLOAT,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_NORMALIZED=!1,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_STRIDE=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_OFFSET=0,SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_ENABLE=!0,SpiderGL.WebGL.VertexBuffer.unbind=function(e){e.bindBuffer(SpiderGL.WebGL.VertexBuffer.TARGET,null)},SpiderGL.WebGL.VertexBuffer.prototype={vertexAttribPointer:function(e){e=SpiderGL.Utility.getDefaultObject({index:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_INDEX,size:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_SIZE,glType:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_TYPE,normalized:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_NORMALIZED,stride:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_STRIDE,offset:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_OFFSET,enable:SpiderGL.WebGL.VertexBuffer.DEFAULT_ATTRIBUTE_ENABLE},e),this._dsa.vertexAttribPointer(this._h,e.index,e.size,e.glType,e.normalized,e.stride,e.offset),e.enable&&this._gl.enableVertexAttribArray(e.index)}},SpiderGL.Type.extend(SpiderGL.WebGL.VertexBuffer,SpiderGL.WebGL.Buffer),SpiderGL.WebGL.IndexBuffer=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Buffer.call(this,e,SpiderGL.WebGL.IndexBuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.IndexBuffer.TARGET=WebGLRenderingContext.prototype.ELEMENT_ARRAY_BUFFER,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_MODE=WebGLRenderingContext.prototype.TRIANGLES,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_COUNT=-1,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_TYPE=WebGLRenderingContext.prototype.UNSIGNED_SHORT,SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_OFFSET=0,SpiderGL.WebGL.IndexBuffer.unbind=function(e){e.bindBuffer(SpiderGL.WebGL.IndexBuffer.TARGET,null)},SpiderGL.WebGL.IndexBuffer.prototype={drawElements:function(e){if((e=SpiderGL.Utility.getDefaultObject({glMode:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_MODE,count:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_COUNT,glType:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_TYPE,offset:SpiderGL.WebGL.IndexBuffer.DEFAULT_DRAW_ELEMENTS_OFFSET},e)).count<1){var t=SpiderGL.Type.typeSizeFromGL(e.glType);e.count=(this._size-e.offset)/t}this._dsa.drawElements(this._h,e.glMode,e.count,e.glType,e.offset)}},SpiderGL.Type.extend(SpiderGL.WebGL.IndexBuffer,SpiderGL.WebGL.Buffer),SpiderGL.WebGL.Framebuffer=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;SpiderGL.Type.instanceOf(t,WebGLFramebuffer)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null,autoViewport:SpiderGL.WebGL.Framebuffer.DEFAULT_AUTO_VIEWPORT},t);SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Framebuffer.TARGET,t);if(this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var r=this._cb,i=(this._dsa,this._t),n=this._h,a=!1;if(n?a=!0:(n=e.createFramebuffer(),this._h=n),n._spidergl=this,this._attachments={},this._status=0,this._autoViewport=t.autoViewport,this._viewport=[0,0,1,1],r.pushFramebuffer(i),e.bindFramebuffer(i,n),a){var s=null,o=0,u=0;for(var d in SpiderGL.WebGL.Framebuffer._attachmentName)switch(s=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME),e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE)){case e.RENDERBUFFER:u=e.RENDERBUFFER,this._importRenderbuffer(i,d,u,s);break;case e.TEXTURE:o=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL),0==(u=e.getFramebufferAttachmentParameter(i,att,e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE))&&(u=e.TEXTURE_2D),this._importTexture(i,d,u,s,o)}}this._status=e.checkFramebufferStatus(i),r.popFramebuffer(i),this.setAttachments(t)},SpiderGL.WebGL.Framebuffer.TARGET=WebGLRenderingContext.prototype.FRAMEBUFFER,SpiderGL.WebGL.Framebuffer.DEFAULT_AUTO_VIEWPORT=!0,SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_TEXTURE_LEVEL=0,SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_CUBE_MAP_FACE=WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_X=0,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_Y=0,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_WIDTH=-1,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_HEIGHT=-1,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Framebuffer.DEFAULT_CLEAR_MASK=WebGLRenderingContext.prototype.COLOR_BUFFER_BIT|WebGLRenderingContext.prototype.DEPTH_BUFFER_BIT|WebGLRenderingContext.prototype.STENCIL_BUFFER_BIT,SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_TYPE=WebGLRenderingContext.UNSIGNED_BYTE,SpiderGL.WebGL.Framebuffer.unbind=function(e){e.bindFramebuffer(SpiderGL.WebGL.Framebuffer.TARGET,null)},SpiderGL.WebGL.Framebuffer._attachmentName={},SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.COLOR_ATTACHMENT0]=\"color\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.DEPTH_ATTACHMENT]=\"depth\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.STENCIL_ATTACHMENT]=\"stencil\",SpiderGL.WebGL.Framebuffer._attachmentName[WebGLRenderingContext.prototype.DEPTH_STENCIL_ATTACHMENT]=\"depthStencil\",SpiderGL.WebGL.Framebuffer.prototype={_gl_deleteFramebuffer:function(e){this._h=null},_gl_isFramebuffer:function(e){},_gl_bindFramebuffer:function(e,t){},_gl_checkFramebufferStatus:function(e){},_gl_getFramebufferAttachmentParameter:function(e,t,r){},_gl_framebufferRenderbuffer:function(e,t,r,i){this._importRenderbuffer.apply(this,arguments),this._status=this._gl.checkFramebufferStatus(this._t)},_gl_framebufferTexture2D:function(e,t,r,i,n){this._importTexture.apply(this,arguments),this._status=this._gl.checkFramebufferStatus(this._t)},_gl_clear:function(e){},_gl_readPixels:function(e,t,r,i,n,a,s){},_importTexture:function(e,t,r,i,n){var a=SpiderGL.WebGL.Framebuffer._attachmentName[t];if(a)if(i){var s=this._gl,o={attachment:t,resource:null,target:r,level:n,face:s.NONE};this._attachments[a]=o,r==s.TEXTURE_2D?o.resource=new SpiderGL.WebGL.Texture2D(s,{handle:i}):(o.resource=new SpiderGL.WebGL.TextureCubeMap(s,{handle:i}),o.face=r),this._viewport=[0,0,SpiderGL.Math.max(o.resource.width,1),SpiderGL.Math.max(o.resource.height,1)]}else delete this._attachments[a]},_importRenderbuffer:function(e,t,r,i){var n=SpiderGL.WebGL.Framebuffer._attachmentName[t];if(n)if(i){var a=this._gl,s={attachment:t,resource:null,target:r,level:0,face:a.NONE};this._attachments[n]=s,s.resource=new SpiderGL.WebGL.Renderbuffer(a,{handle:i}),this._viewport=[0,0,SpiderGL.Math.max(s.resource.width,1),SpiderGL.Math.max(s.resource.height,1)]}else delete this._attachments[n]},_setAttachment:function(e,t){var r=SpiderGL.WebGL.Framebuffer._attachmentName[e];if(!r)return!1;var i=this._gl;if(!(!t||\"resource\"in t&&!t.resource)){var n=i.NONE;SpiderGL.Type.instanceOf(t,WebGLTexture)?(t={resource:t},n=i.TEXTURE):SpiderGL.Type.instanceOf(t,WebGLRenderbuffer)?(t={resource:t},n=i.RENDERBUFFER):SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.Texture)?(t={resource:t.handle},n=i.TEXTURE):SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.Renderbuffer)&&(t={resource:t.handle},n=i.RENDERBUFFER);var a=!!t&&void 0!==t.face;t=SpiderGL.Utility.getDefaultObject({resource:null,level:SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_TEXTURE_LEVEL,face:SpiderGL.WebGL.Framebuffer.DEFAULT_ATTACHMENT_CUBE_MAP_FACE},t);var s=this._t;switch(n){case i.TEXTURE:var o=SpiderGL.Type.instanceOf(t,SpiderGL.WebGL.TextureCubeMap)||a?t.face:i.TEXTURE_2D;i.framebufferTexture2D(s,e,o,t.resource,t.level);break;case i.RENDERBUFFER:i.framebufferRenderbuffer(s,e,i.RENDERBUFFER,t.resource)}return!0}var u=this._attachments[r];u&&(u.target===i.RENDERBUFFER?i.framebufferRenderbuffer(s,u.attachment,i.RENDERBUFFER,null):i.framebufferTexture2D(s,u.attachment,i.TEXTURE_2D,null,0))},get isReady(){return this.isComplete},get status(){return this._status},get isComplete(){return this._status===this._gl.FRAMEBUFFER_COMPLETE},get viewport(){return this._viewport.slice()},get width(){return this._viewport[2]},get height(){return this._viewport[3]},get autoViewport(){return this._autoViewport},set autoViewport(e){this._autoViewport=!!e},setAttachments:function(e){e=e||{};var t=this._gl,r=this._cb,i=this._t,n=this._h;return r.pushFramebuffer(i),t.bindFramebuffer(i,n),\"color\"in e&&this._setAttachment(t.COLOR_ATTACHMENT0,e.color),\"depthStencil\"in e?(this._setAttachment(t.DEPTH_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,e.depthStencil)):\"depth\"in e?(this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_ATTACHMENT,e.depth)):\"stencil\"in e&&(this._setAttachment(t.DEPTH_STENCIL_ATTACHMENT,null),this._setAttachment(t.DEPTH_ATTACHMENT,null),this._setAttachment(t.STENCIL_ATTACHMENT,e.stencil)),this._status=t.checkFramebufferStatus(i),r.popFramebuffer(i),this.isComplete},getAttachments:function(){var e={},t=null;for(var r in this._attachments)t=this._attachments[r],e[r]={attachment:t.attachment,resource:t.resource,target:t.target,level:t.level};return e},detachAll:function(){this.setAttachments({color:null,depthStencil:null})},get colorTarget(){var e=this._attachments.color;return e?e.resource:null},set colorTarget(e){this.setAttachments({color:e})},get depthTarget(){var e=this._attachments.depth;return e?e.resource:null},set depthTarget(e){this.setAttachments({depth:e})},get stencilTarget(){var e=this._attachments.stencil;return e?e.resource:null},set stencilTarget(e){this.setAttachments({stencil:e})},get depthStencilTarget(){var e=this._attachments.depthStencil;return e?e.resource:null},set depthStencilTarget(e){this.setAttachments({depthStencil:e})},clear:function(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Framebuffer.DEFAULT_CLEAR_MASK),this._dsa.clear(this._h,e)},readPixels:function(e,t){(t=SpiderGL.Utility.getDefaultObject({x:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_X,y:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_Y,width:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_WIDTH,height:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_HEIGHT,format:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_FORMAT,type:SpiderGL.WebGL.Framebuffer.DEFAULT_READ_PIXELS_TYPE},t)).width<0&&(t.width=this._viewport[2]),t.height<0&&(t.height=this._viewport[3]),this._dsa.readPixels(this._h,t.x,t.y,t.width,t.height,t.format,t.type,e)},applyViewport:function(){var e=this._gl,t=this._viewport;e.viewport(t[0],t[1],t[2],t[3])},destroy:function(){this._gl.deleteFramebuffer(this._h)},bind:function(e){var t=this._gl;if(t.bindFramebuffer(this._t,this._h),SpiderGL.Utility.getDefaultValue(e,this._autoViewport)){var r=this._viewport;t.viewport(r[0],r[1],r[2],r[3])}},unbind:function(){this._gl.bindFramebuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Framebuffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Program=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(t,WebGLProgram)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null,autoLink:SpiderGL.WebGL.Program.DEFAULT_AUTO_LINK},t),SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Program.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl,this._cb,this._dsa;var r=this._h,i=!1,n=\"\",a=!1;if(r?(a=!0,i=!!e.getProgramParameter(r,e.LINK_STATUS),(n=e.getProgramInfoLog(r))||(n=\"\")):(r=e.createProgram(),this._h=r),r._spidergl=this,this._shaders=[],this._linked=i,this._log=n,this._autoLink=t.autoLink,this._attributes={},this._uniforms={},a)for(var s=e.getAttachedShaders(r),o=0,u=s.length;o<u;++o)this._importShader(s[o]);var d=!1;this._addShaders(t.shaders)&&(d=!0),this._setAttributes(t.attributes)&&(d=!0),d&&this._autoLink?this.link():a&&this._postLink(),this.setUniforms(t.uniforms)},SpiderGL.WebGL.Program.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Program.DEFAULT_AUTO_LINK=!0,SpiderGL.WebGL.Program.unbind=function(e){e.useProgram(null)},SpiderGL.WebGL.Program._uniformSetFunctions={},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC2]=function(e,t,r){e.uniform2iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC3]=function(e,t,r){e.uniform3iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.BOOL_VEC4]=function(e,t,r){e.uniform4iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC2]=function(e,t,r){e.uniform2iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC3]=function(e,t,r){e.uniform3iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.INT_VEC4]=function(e,t,r){e.uniform4iv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT]=function(e,t,r){e.uniform1f(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC2]=function(e,t,r){e.uniform2fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC3]=function(e,t,r){e.uniform3fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_VEC4]=function(e,t,r){e.uniform4fv(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT2]=function(e,t,r){e.uniformMatrix2fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT3]=function(e,t,r){e.uniformMatrix3fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.FLOAT_MAT4]=function(e,t,r){e.uniformMatrix4fv(t,this.location,!1,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.SAMPLER_2D]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program._uniformSetFunctions[WebGLRenderingContext.prototype.SAMPLER_CUBE]=function(e,t,r){e.uniform1i(t,this.location,r)},SpiderGL.WebGL.Program.prototype={_gl_deleteProgram:function(e){this._h=null},_gl_isProgram:function(e){},_gl_useProgram:function(e){},_gl_getActiveAttrib:function(e,t){},_gl_getActiveUniform:function(e,t){},_gl_getAttachedShaders:function(e){},_gl_getAttribLocation:function(e,t){},_gl_getProgramParameter:function(e,t){},_gl_getProgramInfoLog:function(e){},_gl_getUniform:function(e,t){},_gl_getUniformLocation:function(e,t){},_gl_attachShader:function(e,t){this._importShader(t)},_gl_bindAttribLocation:function(e,t,r){},_gl_detachShader:function(e,t){if(t){var r=this._shaderHandleIndex(t);r<0||this._shaders.splice(r,1)}},_gl_linkProgram:function(e){this._postLink()},_gl_uniform1f:function(e,t){},_gl_uniform1fv:function(e,t){},_gl_uniform1i:function(e,t){},_gl_uniform1iv:function(e,t){},_gl_uniform2f:function(e,t,r){},_gl_uniform2fv:function(e,t){},_gl_uniform2i:function(e,t,r){},_gl_uniform2iv:function(e,t){},_gl_uniform3f:function(e,t,r,i){},_gl_uniform3fv:function(e,t){},_gl_uniform3i:function(e,t,r,i){},_gl_uniform3iv:function(e,t){},_gl_uniform4f:function(e,t,r,i,n){},_gl_uniform4fv:function(e,t){},_gl_uniform4i:function(e,t,r,i,n){},_gl_uniform4iv:function(e,t){},_gl_uniformMatrix2fv:function(e,t,r){},_gl_uniformMatrix3fv:function(e,t,r){},_gl_uniformMatrix4fv:function(e,t,r){},_gl_validateProgram:function(e){},_shaderHandleIndex:function(e){for(var t=0,r=this._shaders.length;t<r;++t)if(this._shaders[t].handle===e)return t;return-1},_shaderIndex:function(e){if(this._shaders.indexOf)return this._shaders.indexOf(e);for(var t=0,r=this._shaders.length;t<r;++t)if(this._shaders[t]===e)return t;return-1},_importShader:function(e){if(e&&!(this._shaderHandleIndex(e)>=0)){var t=this._gl,r=e._spidergl;if(!r)switch(t.getShaderParameter(e,t.SHADER_TYPE)){case t.VERTEX_SHADER:r=new SpiderGL.WebGL.VertexShader(t,{handle:e});break;case t.FRAGMENT_SHADER:r=new SpiderGL.WebGL.FragmentShader(t,{handle:e});break;default:return}this._shaders.push(r)}},_updateActiveInfo:function(){var e=this._gl,t=this._h,r=0,i=null,n=null,a=null,s={};r=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(var o=0;o<r;++o)n=(i=e.getActiveAttrib(t,o)).name,a=e.getAttribLocation(t,n),s[n]={index:o,name:n,size:i.size,type:i.type,location:a};var u={};r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(o=0;o<r;++o)if(n=(i=e.getActiveUniform(t,o)).name,a=e.getUniformLocation(t,n),u[n]={index:o,name:n,size:i.size,type:i.type,location:a,setValue:SpiderGL.WebGL.Program._uniformSetFunctions[i.type]},i.size>1){var d=n.lastIndexOf(\"[0]\");if(d==n.length-3)for(var p=n.slice(0,d),h=1;h<i.size;++h){var _=p+\"[\"+h+\"]\";a=e.getUniformLocation(t,_),u[_]={index:o,name:_,size:i.size,type:i.type,location:a,setValue:SpiderGL.WebGL.Program._uniformSetFunctions[i.type]}}}this._attributes=s,this._uniforms=u},_postLink:function(){var e=this._gl,t=this._h;this._linked=!!e.getProgramParameter(t,e.LINK_STATUS),this._log=e.getProgramInfoLog(t),this._log||(this._log=\"\"),this._updateActiveInfo()},_addShaders:function(e){if(!e)return!1;for(var t=this._gl,r=this._h,i=null,n=null,a=0,s=e.length;a<s;++a)i=e[a],n=null,SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i.handle),SpiderGL.Type.instanceOf(i,WebGLShader)&&(n=i),n&&t.attachShader(r,n);return!0},_removeShaders:function(e){if(!e)return!1;for(var t=this._gl,r=this._h,i=null,n=null,a=0,s=e.length;a<s;++a)i=e[a],n=null,SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i.handle),SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.Shader)&&(n=i),n&&t.detachShader(r,n);return!0},_setAttributes:function(e){if(!e)return!1;var t=this._gl,r=this._h;for(var i in e)t.bindAttribLocation(r,e[i],i);return!0},get isReady(){return this.isLinked},get isLinked(){return this._linked},get log(){return this._log},get autoLink(){return this._autoLink},set autoLink(e){this._autoLink=!!e},addShaders:function(e,t){var r=this._addShaders(e);return!r||(!(r=SpiderGL.Utility.getDefaultValue(t,this._autoLink))||this.link())},removeShaders:function(e,t){var r=this._removeShaders(e);return!r||(!(r=SpiderGL.Utility.getDefaultValue(t,this._autoLink))||this.link())},hasShader:function(e){return this._shaderIndex(e)>=0},getShaders:function(){return this._shaders.slice()},link:function(){return this._gl.linkProgram(this._h),this._linked},validate:function(){var e=this._gl,t=this._h;return e.validateProgram(t),!!e.getProgramParameter(t,e.VALIDATE_STATUS)},setAttributes:function(e){return!!this._setAttributes(e)&&(!this._autoLink||this.link())},getAttributesNames:function(){var e=this._attributes,t=[];for(var r in e)t.push(e[r].name);return t},getAttributesIndices:function(){var e=this._attributes,t={};for(var r in e)t[r]=e[r].location;return t},getAttributesInfo:function(){var e=this._attributes,t=null,r={};for(var i in e)t=e[i],r[i]={index:t.index,name:t.name,size:t.size,type:t.type,location:t.location};return r},setUniforms:function(e){if(!e)return!1;var t=this._gl,r=this._cb,i=this._dsa,n=this._h;r.pushProgram(),t.useProgram(n);var a=this._uniforms,s=null;for(var o in e)(s=a[o])&&s.setValue(i,n,e[o]);return r.popProgram(),!0},getUniformsNames:function(){var e=this._uniforms,t=[];for(var r in e)t.push(e[r].name);return t},getUniformsValues:function(){var e=this._gl,t=this._h,r=this._uniforms,i={};for(var n in r)i[n]=e.getUniform(t,r[n].location);return i},getUniformsInfo:function(){var e=this._uniforms,t=null,r={};for(var i in e)t=e[i],r[i]={index:t.index,name:t.name,size:t.size,type:t.type,location:t.location};return r},destroy:function(){this._gl.deleteProgram(this._h)},bind:function(){this._gl.useProgram(this._h)},unbind:function(){this._gl.useProgram(null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Program,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Renderbuffer=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(n,WebGLRenderbuffer)&&(t={handle:t}),t=SpiderGL.Utility.getDefaultObject({handle:null},t),SpiderGL.WebGL.ObjectGL.call(this,e,SpiderGL.WebGL.Renderbuffer.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var r=this._cb,i=(this._dsa,this._t),n=this._h,a=e.NONE,s=0,o=0;n?(r.pushRenderbuffer(i),e.bindRenderbuffer(i,n),a=e.getRenderbufferParameter(i,e.RENDERBUFFER_INTERNAL_FORMAT),s=e.getRenderbufferParameter(i,e.RENDERBUFFER_WIDTH),o=e.getRenderbufferParameter(i,e.RENDERBUFFER_HEIGHT),r.popRenderbuffer(i)):(n=e.createRenderbuffer(),this._h=n),n._spidergl=this,this._width=s,this._height=o,this._format=a,SpiderGL.Type.isNumber(t.internalFormat)&&SpiderGL.Type.isNumber(t.width)&&SpiderGL.Type.isNumber(t.height)&&this.setStorage(t.internalFormat,t.width,t.height,t.format)},SpiderGL.WebGL.Renderbuffer.TARGET=WebGLRenderingContext.prototype.RENDERBUFFER,SpiderGL.WebGL.Renderbuffer.unbind=function(e){e.bindRenderbuffer(SpiderGL.WebGL.Renderbuffer.TARGET,null)},SpiderGL.WebGL.Renderbuffer.prototype={_gl_deleteRenderbuffer:function(e){this._h=null},_gl_isRenderbuffer:function(e){},_gl_bindRenderbuffer:function(e,t){},_gl_getRenderbufferParameter:function(e,t){},_gl_renderbufferStorage:function(e,t,r,i){this._format=t,this._width=r,this._height=i},get isReady(){return this._width>0&&this._height>0},get format(){return this._format},get width(){return this._width},get height(){return this._height},setStorage:function(e,t,r){this._dsa.renderbufferStorage(this._h,this._t,e,t,r)},destroy:function(){this._gl.deleteRenderbuffer(this._h)},bind:function(){this._gl.bindRenderbuffer(this._t,this._h)},unbind:function(){this._gl.bindRenderbuffer(this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Renderbuffer,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Shader=function(e,t,r,i){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(i,WebGLShader)?i={handle:i}:SpiderGL.Type.isString(i)&&(i={source:i}),i=SpiderGL.Utility.getDefaultObject({handle:null,source:null,autoCompile:SpiderGL.WebGL.Shader.DEFAULT_AUTO_COMPILE},i),SpiderGL.WebGL.ObjectGL.call(this,e,t,i),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl,this._cb,this._dsa;var n=\"\",a=!1,s=\"\",o=this._h;o?((n=e.getShaderSource(o))||(n=\"\"),a=!!e.getShaderParameter(o,e.COMPILE_STATUS),!!e.getShaderParameter(o,e.DELETE_STATUS),(s=e.getShaderInfoLog(o))||(s=\"\")):(o=e.createShader(r),this._h=o),o._spidergl=this,this._source=n,this._compiled=a,this._log=s,this._autoCompile=i.autoCompile,i.source&&this.setSource(i.source)},SpiderGL.WebGL.Shader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Shader.DEFAULT_AUTO_COMPILE=!0,SpiderGL.WebGL.Shader.unbind=function(e){},SpiderGL.WebGL.Shader.prototype={_gl_deleteShader:function(e){this._h=null},_gl_isShader:function(e){},_gl_getShaderParameter:function(e,t){},_gl_getShaderInfoLog:function(e){},_gl_getShaderSource:function(e){},_gl_compileShader:function(e){this._postCompile()},_gl_shaderSource:function(e,t){this._source=t,this._source||(this._source=\"\")},_postCompile:function(){var e=this._gl,t=this._h;this._compiled=!!e.getShaderParameter(t,e.COMPILE_STATUS),this._log=e.getShaderInfoLog(t),this._log||(this._log=\"\")},get isReady(){return this.isCompiled},get isCompiled(){return this._compiled},get log(){return this._log},get autoCompile(){return this._autoCompile},set autoCompile(e){this._autoCompile=!!e},setSource:function(e,t){var r=this._gl,i=this._h;r.shaderSource(i,e);SpiderGL.Utility.getDefaultValue(t,this._autoCompile);return this.compile()},get source(){return this._source},set source(e){this.setSource(e)},compile:function(){return this._gl.compileShader(this._h),this._compiled},destroy:function(){this._gl.deleteShader(this._h)},bind:function(){},unbind:function(){}},SpiderGL.Type.extend(SpiderGL.WebGL.Shader,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.VertexShader=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Shader.call(this,e,SpiderGL.WebGL.VertexShader.TARGET,e.VERTEX_SHADER,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.VertexShader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.VertexShader.unbind=function(e){},SpiderGL.WebGL.VertexShader.prototype={},SpiderGL.Type.extend(SpiderGL.WebGL.VertexShader,SpiderGL.WebGL.Shader),SpiderGL.WebGL.FragmentShader=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Shader.call(this,e,SpiderGL.WebGL.FragmentShader.TARGET,e.FRAGMENT_SHADER,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:void 0):null},SpiderGL.WebGL.FragmentShader.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.FragmentShader.unbind=function(e){},SpiderGL.WebGL.FragmentShader.prototype={},SpiderGL.Type.extend(SpiderGL.WebGL.FragmentShader,SpiderGL.WebGL.Shader),SpiderGL.WebGL.Texture=function(e,t,r){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.Type.instanceOf(r,WebGLTexture)?r={handle:r}:SpiderGL.Type.isString(r)&&(r={url:r}),r=SpiderGL.Utility.getDefaultObject({handle:null,magFilter:SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER,minFilter:SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER,wrapS:SpiderGL.WebGL.Texture.DEFAULT_WRAP_S,wrapT:SpiderGL.WebGL.Texture.DEFAULT_WRAP_T,flipYPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y,premultiplyAlphaPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA,colorspaceConversionPolicy:SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION,autoMipmap:SpiderGL.WebGL.Texture.DEFAULT_AUTO_GENERATE_MIPMAP,format:e.NONE,width:0,height:0},r),SpiderGL.WebGL.ObjectGL.call(this,e,t,r),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;e=this._gl;var i=this._cb,n=(this._dsa,this._t),a=this._h;a||(a=e.createTexture(),this._h=a),i.pushTexture(n),e.bindTexture(n,a),this._magFilter=e.getTexParameter(n,e.TEXTURE_MAG_FILTER),this._minFilter=e.getTexParameter(n,e.TEXTURE_MIN_FILTER),this._wrapS=e.getTexParameter(n,e.TEXTURE_WRAP_S),this._wrapT=e.getTexParameter(n,e.TEXTURE_WRAP_T),i.popTexture(n),a._spidergl=this,this._format=r.format,this._width=r.width,this._height=r.height,this._flipY=r.flipYPolicy,this._premultiplyAlpha=r.premultiplyAlphaPolicy,this._colorspaceConversion=r.colorspaceConversionPolicy,this._autoMipmap=r.autoMipmap,this._missingFaces=SpiderGL.WebGL.Texture._FACE_ALL_BITS,this.setSampler(r)},SpiderGL.WebGL.Texture.TARGET=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Texture.DEFAULT_BORDER=0,SpiderGL.WebGL.Texture.DEFAULT_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Texture.DEFAULT_AUTO_GENERATE_MIPMAP=!1,SpiderGL.WebGL.Texture.DEFAULT_INTERNAL_FORMAT=WebGLRenderingContext.prototype.RGBA,SpiderGL.WebGL.Texture.DEFAULT_LEVEL=0,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER=WebGLRenderingContext.prototype.LINEAR,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER=WebGLRenderingContext.prototype.LINEAR,SpiderGL.WebGL.Texture.DEFAULT_TYPE=WebGLRenderingContext.prototype.UNSIGNED_BYTE,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S=WebGLRenderingContext.prototype.REPEAT,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T=WebGLRenderingContext.prototype.REPEAT,SpiderGL.WebGL.Texture.DEFAULT_X_OFFSET=0,SpiderGL.WebGL.Texture.DEFAULT_Y_OFFSET=0,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_FLIP_Y=!0,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_PREMULTIPLY_ALPHA=!1,SpiderGL.WebGL.Texture.DEFAULT_UNPACK_COLORSPACE_CONVERSION=WebGLRenderingContext.prototype.NONE,SpiderGL.WebGL.Texture.unbind=function(e){},SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT=1,SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT=2,SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT=4,SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT=8,SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT=16,SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT=32,SpiderGL.WebGL.Texture._FACE_ALL_BITS=SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT|SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT|SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT|SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT,SpiderGL.WebGL.Texture._faceBits={},SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_2D]=SpiderGL.WebGL.Texture._FACE_ALL_BITS,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP]=SpiderGL.WebGL.Texture._FACE_ALL_BITS,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X]=SpiderGL.WebGL.Texture._FACE_POSITIVE_X_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_X_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y]=SpiderGL.WebGL.Texture._FACE_POSITIVE_Y_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_Y_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z]=SpiderGL.WebGL.Texture._FACE_POSITIVE_Z_BIT,SpiderGL.WebGL.Texture._faceBits[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z]=SpiderGL.WebGL.Texture._FACE_NEGATIVE_Z_BIT,SpiderGL.WebGL.Texture.prototype={_gl_deleteTexture:function(e){this._h=null},_gl_isTexture:function(e){},_gl_bindTexture:function(e,t){},_gl_getTexParameter:function(e,t){},_gl_copyTexImage2D:function(e,t,r,i,n,a,s,o){0==t&&(this._format=r,this._width=a,this._height=s)},_gl_copyTexSubImage2D:function(e,t,r,i,n,a,s,o,u){},_gl_generateMipmap:function(e){},_gl_texImage2D:function(e){var t=arguments.length;6===t?0===arguments[1]&&(this._format=arguments[2],this._width=arguments[5].width,this._height=arguments[5].height):9===t&&0===arguments[1]&&(this._format=arguments[2],this._width=arguments[3],this._height=arguments[4])},_gl_texParameterf:function(e,t,r){this._setTexParameter(t,r)},_gl_texParameteri:function(e,t,r){this._setTexParameter(t,r)},_gl_texSubImage2D:function(e){},_setTexParameter:function(e,t){var r=this._gl;switch(e){case r.TEXTURE_MAG_FILTER:this._magFilter=t;break;case r.TEXTURE_MIN_FILTER:this._minFilter=t;break;case r.TEXTURE_WRAP_S:this._wrapS=t;break;case r.TEXTURE_WRAP_T:this._wrapT=t}},_setImageData:function(e,t,r){var i=!!(r=SpiderGL.Utility.getDefaultObject({internalFormat:SpiderGL.WebGL.Texture.DEFAULT_INTERNAL_FORMAT,border:SpiderGL.WebGL.Texture.DEFAULT_BORDER,xoffset:SpiderGL.WebGL.Texture.DEFAULT_X_OFFSET,yoffset:SpiderGL.WebGL.Texture.DEFAULT_Y_OFFSET,level:SpiderGL.WebGL.Texture.DEFAULT_LEVEL,format:SpiderGL.WebGL.Texture.DEFAULT_FORMAT,type:SpiderGL.WebGL.Texture.DEFAULT_TYPE,width:0,height:0,generateMipmap:this._autoMipmap,flipY:this._flipY,premultiplyAlpha:this._premultiplyAlpha,colorspaceConversion:this._colorspaceConversion,data:null,url:null,onCancel:null,onError:null,onProgress:null,onSuccess:null},r)).url,n=!1;i||(n=!r.data||SpiderGL.Type.isTypedArray(r.data));var a=!1;i||n||(a=SpiderGL.Type.instanceOf(r.data,HTMLImageElement)||SpiderGL.Type.instanceOf(r.data,HTMLCanvasElement)||SpiderGL.Type.instanceOf(r.data,HTMLVideoElement))||\"undefined\"!=typeof ImageData&&(a=SpiderGL.Type.instanceOf(r.data,ImageData));var s=this._gl,o=(this._cb,this._dsa),u=t,d=this._h,p=-1,h=-1,_=-1,f=-1,l=-1,c=-1;(n||a)&&((p=r.flipY)!=SpiderGL.Core.DONT_CARE&&(p==(h=s.getParameter(s.UNPACK_FLIP_Y_WEBGL))?h=-1:s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,p)),(_=r.premultiplyAlpha)!=SpiderGL.Core.DONT_CARE&&(_==(f=s.getParameter(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL))?f=-1:s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_)),(l=r.colorspaceConversion)!=SpiderGL.Core.DONT_CARE&&(l==(c=s.getParameter(s.UNPACK_COLORSPACE_CONVERSION_WEBGL))?c=-1:s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,l)));var L=!1;if(i){var S={internalFormat:r.internalFormat,border:r.border,xoffset:r.xoffset,yoffset:r.yoffset,level:r.level,format:r.format,type:r.type,generateMipmap:r.generateMipmap,flipY:r.flipY,premultiplyAlpha:r.premultiplyAlpha,colorspaceConversion:r.colorspaceConversion,data:null},g=this,G=r.onSuccess,m=new SpiderGL.IO.ImageRequest(r.url,{onCancel:r.onCancel,onError:r.onError,onProgress:r.onProgress,onSuccess:function(){S.data=m.image,e?g._setImage(t,S):g._setSubImage(t,S),G&&G()},send:!0});return!0}if(n){if(r.width<=0||r.height<=0)return!1;e?(o.texImage2D(d,u,r.level,r.internalFormat,r.width,r.height,r.border,r.format,r.type,r.data),L=!0):o.texSubImage2D(d,u,r.level,r.xoffset,r.yoffset,r.width,r.height,r.format,r.type,r.data)}else{if(!a)return!1;e?(o.texImage2D(d,u,r.level,r.internalFormat,r.format,r.type,r.data),L=!0):o.texSubImage2D(d,u,r.level,r.xoffset,r.yoffset,r.format,r.type,r.data)}return L&&(this._missingFaces&=~SpiderGL.WebGL.Texture._faceBits[u]),(n||a)&&(-1!=h&&s.pixelStorei(s.UNPACK_FLIP_Y_WEBGL,h),-1!=f&&s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,f),-1!=c&&s.pixelStorei(s.UNPACK_COLORSPACE_CONVERSION_WEBGL,c)),r.generateMipmap&&this.generateMipmap(),!0},_setImage:function(e,t){return this._setImageData(!0,e,t)},_setSubImage:function(e,t){return this._setImageData(!1,e,t)},get isReady(){return 0==this._missingFaces&&this._width>0&&this._height>0},get flipYPolicy(){return this._flipY},set flipYPolicy(e){this._flipY=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_FLIP_Y)},get premultuplyAlphaPolicy(){return this._premultuplyAlpha},set premultuplyAlphaPolicy(e){this._premultuplyAlpha=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_PREMULTIPLY_ALPHA)},get colorspaceConversionPolicy(){return this._colorspaceConversion},set colorspaceConversionPolicy(e){this._colorspaceConversion=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Context.DEFAULT_UNPACK_COLORSPACE_CONVERSION)},get autoMipmap(){return this._autoMipmap},set autoMipmap(e){this._autoMipmap=e},get format(){return this._format},get width(){return this._width},get height(){return this._height},get magFilter(){return this._magFilter},set magFilter(e){e=SpiderGL.Utility.getDefaultValue(w,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_MAG_FILTER,e)},get minFilter(){return this._minFilter},set minFilter(e){e=SpiderGL.Utility.getDefaultValue(w,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_MIN_FILTER,e)},get wrapS(){return this._wrapS},set wrapS(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_WRAP_S,e)},get wrapT(){return this._wrapT},set wrapT(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T),this._dsa.texParameteri(this._h,this._t,gl.TEXTURE_WRAP_T,e)},setSampler:function(e){if(!e)return!1;var t=this._gl,r=this._cb,i=(this._dsa,this._t),n=this._h;r.pushTexture(i),t.bindTexture(i,n);var a=0;return\"magFilter\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.magFilter,SpiderGL.WebGL.Texture.DEFAULT_MAG_FILTER),t.texParameteri(i,t.TEXTURE_MAG_FILTER,a)),\"minFilter\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.minFilter,SpiderGL.WebGL.Texture.DEFAULT_MIN_FILTER),t.texParameteri(i,t.TEXTURE_MIN_FILTER,a)),\"wrapS\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.wrapS,SpiderGL.WebGL.Texture.DEFAULT_WRAP_S),t.texParameteri(i,t.TEXTURE_WRAP_S,a)),\"wrapT\"in e&&(a=SpiderGL.Utility.getDefaultValue(e.wrapT,SpiderGL.WebGL.Texture.DEFAULT_WRAP_T),t.texParameteri(i,t.TEXTURE_WRAP_T,a)),r.popTexture(i),!0},getSampler:function(){return{magFilter:this._magFilter,minFilter:this._minFilter,wrapS:this._wrapS,wrapT:this._wrapT}},generateMipmap:function(){0==this._missingFaces&&this._dsa.generateMipmap(this._h,this._t)},destroy:function(){this._gl.deleteTexture(this._h)},bind:function(e){var t=this._gl,r=(this._cb,this._dsa);void 0===e?t.bindTexture(this._t,this._h):r.bindTexture(t.TEXTURE0+e,this._t,this._h)},unbind:function(e){var t=this._gl,r=(this._cb,this._dsa);void 0===e?t.bindTexture(this._t,null):r.bindTexture(t.TEXTURE0+e,this._t,null)}},SpiderGL.Type.extend(SpiderGL.WebGL.Texture,SpiderGL.WebGL.ObjectGL),SpiderGL.WebGL.Texture2D=function(e,t){return SpiderGL.WebGL.Context.isHijacked(e)?(SpiderGL.WebGL.Texture.call(this,e,SpiderGL.WebGL.Texture2D.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this?this._h._spidergl:(t=t||{},SpiderGL.Type.instanceOf(t,WebGLTexture)?t={handle:t}:SpiderGL.Type.isString(t)&&(t={url:t}),void((\"url\"in t||\"data\"in t||\"width\"in t&&\"height\"in t)&&this.setImage(t)))):null},SpiderGL.WebGL.Texture2D.TARGET=WebGLRenderingContext.prototype.TEXTURE_2D,SpiderGL.WebGL.Texture2D.unbind=function(e,t){e.getExtension(\"SGL_current_binding\");var r=e.getExtension(\"SGL_direct_state_access\");void 0===t?e.bindTexture(SpiderGL.WebGL.Texture2D.TARGET,null):r.bindTexture(e.TEXTURE0+t,SpiderGL.WebGL.Texture2D.TARGET,null)},SpiderGL.WebGL.Texture2D.prototype={setImage:function(e){return this._setImage(this._t,e)},setSubImage:function(e){return this._setSubImage(this._t,e)}},SpiderGL.Type.extend(SpiderGL.WebGL.Texture2D,SpiderGL.WebGL.Texture),SpiderGL.WebGL.TextureCubeMap=function(e,t){if(!SpiderGL.WebGL.Context.isHijacked(e))return null;if(SpiderGL.WebGL.Texture.call(this,e,SpiderGL.WebGL.TextureCubeMap.TARGET,t),this._h&&this._h._spidergl&&this._h._spidergl!=this)return this._h._spidergl;t=t||{},SpiderGL.Type.instanceOf(t,WebGLTexture)?t={handle:t}:SpiderGL.Type.isString(t)&&(t={url:t});var r,i=SpiderGL.WebGL.TextureCubeMap._faceTargets;if(t.url){var n=t.url,a=t.onSuccess;a&&(t.onSuccess=(r=6,function(){0==--r&&a.apply(t,null)}));for(var s=0;s<6;++s)t.url=n[s],this.setImage(i[s],t);t.onSuccess=a}else if(t.data){var o=t.data;for(s=0;s<6;++s)t.data=o[s],this.setImage(i[s],t)}else if(t.width>0&&t.height>0)for(s=0;s<6;++s)this.setImage(i[s],t)},SpiderGL.WebGL.TextureCubeMap.TARGET=WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP,SpiderGL.WebGL.TextureCubeMap.unbind=function(e,t){e.getExtension(\"SGL_current_binding\");var r=e.getExtension(\"SGL_direct_state_access\");void 0===t?e.bindTexture(SpiderGL.WebGL.TextureCubeMap.TARGET,null):r.bindTexture(e.TEXTURE0+t,SpiderGL.WebGL.TextureCubeMap.TARGET,null)},SpiderGL.WebGL.TextureCubeMap._faceTargets=[WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_X,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_X,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Y,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Y,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_POSITIVE_Z,WebGLRenderingContext.prototype.TEXTURE_CUBE_MAP_NEGATIVE_Z],SpiderGL.WebGL.TextureCubeMap.prototype={setImage:function(e,t){return this._setImage(e,t)},setSubImage:function(e,t){return this._setSubImage(e,t)}},SpiderGL.Type.extend(SpiderGL.WebGL.TextureCubeMap,SpiderGL.WebGL.Texture),SpiderGL.Model={},SpiderGL.Model.Model=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=SpiderGL.Utility.getDefaultObject({},r),t&&\"vertices\"in t&&(t=SpiderGL.Model.Model._createSimpleDescriptor(t)),this._descriptor=SpiderGL.Model.Model._fixDescriptor(t),this._gl=null,this._renderData={},e&&(this.updateGL(e,r),this.updateRenderData())},SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_SIZE=3,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE=SpiderGL.Type.FLOAT32,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_NORMALIZED=!1,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_STRIDE=0,SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_OFFSET=0,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_MODE=SpiderGL.Type.TRIANGLES,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_FIRST=0,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_COUNT=-1,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE=SpiderGL.Type.UINT16,SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_OFFSET=0,SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP={},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.position={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"POSITION\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.normal={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"NORMAL\",index:0,value:[0,0,1,0]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.color={size:4,type:SpiderGL.Type.UINT8,normalized:!0,semantic:\"COLOR\",index:0,value:[0,0,0,255]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.texcoord={size:2,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"TEXCOORD\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.user={size:3,type:SpiderGL.Type.FLOAT32,normalized:!1,semantic:\"USER\",index:0,value:[0,0,0,1]},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP={},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangles={mode:SpiderGL.Type.TRIANGLES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangleStrip={mode:SpiderGL.Type.TRIANGLE_STRIP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.triangleFan={mode:SpiderGL.Type.TRIANGLE_FAN,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lines={mode:SpiderGL.Type.LINES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lineStrip={mode:SpiderGL.Type.LINE_STRIP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.lineLoop={mode:SpiderGL.Type.LINE_LOOP,type:SpiderGL.Type.UINT16,count:-1,semantic:\"LINE\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.points={mode:SpiderGL.Type.POINTS,type:SpiderGL.Type.UINT16,count:-1,semantic:\"POINT\"},SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.user={mode:SpiderGL.Type.TRIANGLES,type:SpiderGL.Type.UINT16,count:-1,semantic:\"FILL\"},SpiderGL.Model.Model._fixDescriptor=function(e){return(e=SpiderGL.Utility.getDefaultObject({version:\"0.0.0.1 EXP\",meta:null,data:null,access:null,semantic:null,logic:null},e)).meta=SpiderGL.Model.Model._fixDescriptorMeta(e.meta),e.data=SpiderGL.Model.Model._fixDescriptorData(e.data),e.access=SpiderGL.Model.Model._fixDescriptorAccess(e.access),e.semantic=SpiderGL.Model.Model._fixDescriptorSemantic(e.semantic),e.logic=SpiderGL.Model.Model._fixDescriptorLogic(e.logic),e},SpiderGL.Model.Model._fixDescriptorMeta=function(e){return e=SpiderGL.Utility.getDefaultObject({author:null,date:null,description:null},e)},SpiderGL.Model.Model._fixDescriptorData=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexBuffers:null,indexBuffers:null},e)).vertexBuffers=SpiderGL.Model.Model._fixDescriptorDataVertexBuffers(e.vertexBuffers),e.indexBuffers=SpiderGL.Model.Model._fixDescriptorDataIndexBuffers(e.indexBuffers),e},SpiderGL.Model.Model._fixDescriptorDataVertexBuffers=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorDataVertexBuffer(e[t]);return e},SpiderGL.Model.Model._fixDescriptorDataVertexBuffer=function(e){return SpiderGL.Model.Model._fixDescriptorDataBuffer(e)},SpiderGL.Model.Model._fixDescriptorDataIndexBuffers=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorDataIndexBuffer(e[t]);return e},SpiderGL.Model.Model._fixDescriptorDataIndexBuffer=function(e){return SpiderGL.Model.Model._fixDescriptorDataBuffer(e)},SpiderGL.Model.Model._fixDescriptorDataBuffer=function(e){return e=SpiderGL.Utility.getDefaultObject({type:SpiderGL.Type.NO_TYPE,glType:WebGLRenderingContext.prototype.NONE,untypedArray:null,typedArray:null,glBuffer:null},e)},SpiderGL.Model.Model._fixDescriptorAccess=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexStreams:null,primitiveStreams:null},e)).vertexStreams=SpiderGL.Model.Model._fixDescriptorAccessVertexStreams(e.vertexStreams),e.primitiveStreams=SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStreams(e.primitiveStreams),e},SpiderGL.Model.Model._fixDescriptorAccessVertexStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorAccessVertexStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorAccessVertexStream=function(e){return e=SpiderGL.Utility.getDefaultObject({buffer:null,size:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_SIZE,type:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE,glType:SpiderGL.Type.typeToGL(SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_TYPE),normalized:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_NORMALIZED,stride:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_STRIDE,offset:SpiderGL.Model.Model.DEFAULT_VERTEX_STREAM_OFFSET},e)},SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorAccessPrimitiveStream=function(e){return e=SpiderGL.Utility.getDefaultObject({buffer:null,mode:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_MODE,first:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_FIRST,count:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_COUNT,type:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE,glType:SpiderGL.Type.typeToGL(SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_TYPE),offset:SpiderGL.Model.Model.DEFAULT_PRIMITIVE_STREAM_OFFSET},e)},SpiderGL.Model.Model._fixDescriptorSemantic=function(e){return(e=SpiderGL.Utility.getDefaultObject({bindings:null,chunks:null},e)).bindings=SpiderGL.Model.Model._fixDescriptorSemanticBindings(e.bindings),e.chunks=SpiderGL.Model.Model._fixDescriptorSemanticChunks(e.chunks),e},SpiderGL.Model.Model._fixDescriptorSemanticBindings=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBinding(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBinding=function(e){return(e=SpiderGL.Utility.getDefaultObject({vertexStreams:null,primitiveStreams:null},e)).vertexStreams=SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStreams(e.vertexStreams),e.primitiveStreams=SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStreams(e.primitiveStreams),e},SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBindingVertexStream=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStreams=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStream(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticBindingPrimitiveStream=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._fixDescriptorSemanticChunks=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticChunk(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticChunk=function(e){return(e=SpiderGL.Utility.getDefaultObject({techniques:null},e)).techniques=SpiderGL.Model.Model._fixDescriptorSemanticChunkTechniques(e.techniques),e},SpiderGL.Model.Model._fixDescriptorSemanticChunkTechniques=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorSemanticChunkTechnique(e[t]);return e},SpiderGL.Model.Model._fixDescriptorSemanticChunkTechnique=function(e){return e=SpiderGL.Utility.getDefaultObject({binding:null},e)},SpiderGL.Model.Model._fixDescriptorLogic=function(e){return(e=SpiderGL.Utility.getDefaultObject({parts:null},e)).parts=SpiderGL.Model.Model._fixDescriptorLogicParts(e.parts),e},SpiderGL.Model.Model._fixDescriptorLogicParts=function(e){for(var t in e=SpiderGL.Utility.getDefaultObject({},e))e[t]=SpiderGL.Model.Model._fixDescriptorLogicPart(e[t]);return e},SpiderGL.Model.Model._fixDescriptorLogicPart=function(e){return(e=SpiderGL.Utility.getDefaultObject({chunks:null},e)).chunks=SpiderGL.Model.Model._fixDescriptorLogicPartChunks(e.chunks),e},SpiderGL.Model.Model._fixDescriptorLogicPartChunks=function(e){return e?SpiderGL.Type.isArray(e)?e.slice():[e]:null},SpiderGL.Model.Model._createSimpleDescriptor=function(e){e=SpiderGL.Utility.getDefaultObject({vertices:null,primitives:null,options:null},e);var t={data:{vertexBuffers:{},indexBuffers:{}},access:{vertexStreams:{},primitiveStreams:{}},semantic:{bindings:{},chunks:{}},logic:{parts:{}}},r={vertexStreams:{},primitiveStreams:{}};t.semantic.bindings.mainBinding=r;var i={techniques:{common:{binding:\"mainBinding\"}}};t.semantic.chunks.mainChunk=i;var n={chunks:[\"mainChunk\"]};t.logic.parts.mainPart=n;var a=-1,s=!1,o=!1;for(var u in e.vertices){if(T=e.vertices[u]){(SpiderGL.Type.isArray(T)||SpiderGL.Type.isTypedArray(T)||SpiderGL.Type.instanceOf(T,ArrayBuffer))&&(T={data:T});var d=null;(M=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP[u])?d=M.semantic:(M=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_VERTEX_MAP.user,d=u.toUpperCase());var p={buffer:null,size:(E=SpiderGL.Utility.getDefaultObject({size:M.size,type:M.type,normalized:M.normalized,semantic:d,index:M.index,data:null,value:M.value.slice()},T)).size,type:E.type,normalized:E.normalized,stride:0,offset:0,value:E.value.slice()};if(E.data){var h={type:E.type},_=0;if(SpiderGL.Type.isArray(E.data))h.untypedArray=E.data,_=h.untypedArray.length/p.size;else{if(!SpiderGL.Type.isTypedArray(T)&&!SpiderGL.Type.instanceOf(T,ArrayBuffer))continue;h.typedArray=E.data,_=(h.typedArray.byteLength-p.offset)/(p.size*SpiderGL.Type.typeSize(p.type))}_=SpiderGL.Math.floor(_),s=!0,a=a>=0?SpiderGL.Math.min(a,_):_;var f=u+\"VertexBuffer\";t.data.vertexBuffers[f]=h,p.buffer=f}else o=!0;var l=u;t.access.vertexStreams[l]=p,(b=new Array(E.index+1))[E.index]=l,r.vertexStreams[E.semantic]=b}}var c=0;s?c=a:o&&(c=1);var L=e.primitives;if(SpiderGL.Type.isString(L)&&(L=[L]),SpiderGL.Type.isArray(L)){var S=L;L={};for(var g=0,G=S.length;g<G;++g){var m=S[g];SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP[m]&&(L[m]={})}}for(var u in L){var T;if(T=L[u]){var M;(SpiderGL.Type.isArray(T)||SpiderGL.Type.isTypedArray(T)||SpiderGL.Type.instanceOf(T,ArrayBuffer))&&(T={data:T}),(M=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP[u])||(M=SpiderGL.Model.Model.DEFAULT_SIMPLE_MODEL_PRIMITIVE_MAP.user);var E;p={buffer:null,mode:(E=SpiderGL.Utility.getDefaultObject({mode:M.mode,type:M.type,count:M.count>=0?M.count:c,semantic:M.semantic},T)).mode,first:0,count:E.count,type:E.type,offset:0};if(E.data){h={type:E.type},_=0;if(SpiderGL.Type.isArray(E.data))h.untypedArray=E.data,_=h.untypedArray.length;else{if(!SpiderGL.Type.isTypedArray(T)&&!SpiderGL.Type.instanceOf(T,ArrayBuffer))continue;h.typedArray=E.data,_=(h.typedArray.byteLength-p.offset)/SpiderGL.Type.typeSize(p.type)}_=SpiderGL.Math.floor(_);f=u+\"IndexBuffer\";t.data.indexBuffers[f]=h,p.buffer=f,p.count=_}var b;l=u;t.access.primitiveStreams[l]=p,(b=new Array(1))[0]=l,r.primitiveStreams[E.semantic]=b}}return t},SpiderGL.Model.Model.prototype={get descriptor(){return this._descriptor},get isReady(){return!!this._descriptor},get gl(){return this._gl},get renderData(){return this._renderData},updateTypedArrays:function(){var e=this._descriptor;if(!e)return!1;var t=null,r=null,i=e.data.vertexBuffers;for(var n in i)(t=i[n]).untypedArray&&(r=SpiderGL.Type.typeToTypedArrayConstructor(t.type),t.typedArray=new r(t.untypedArray));var a=e.data.indexBuffers;for(var n in a)(t=a[n]).untypedArray&&(r=SpiderGL.Type.typeToTypedArrayConstructor(t.type),t.typedArray=new r(t.untypedArray));return!0},updateGL:function(e,t){if(!e)return!1;var r=this._descriptor;if(!r)return!1;this._gl=e;var i=null,n=null,a=SpiderGL.Utility.getDefaultObject({data:null,usage:SpiderGL.Core.DEFAULT},t);for(var s in a.data=null,r.data.vertexBuffers)i=r.data.vertexBuffers[s],a.data=i.typedArray,a.data||(n=SpiderGL.Type.typeToTypedArrayConstructor(i.type),a.data=new n(i.untypedArray)),i.glBuffer&&(i.glBuffer.destroy(),i.glBuffer=null),i.glBuffer=new SpiderGL.WebGL.VertexBuffer(e,a);for(var s in r.data.indexBuffers)i=r.data.indexBuffers[s],a.data=i.typedArray,a.data||(n=SpiderGL.Type.typeToTypedArrayConstructor(i.type),a.data=new n(i.untypedArray)),i.glBuffer&&(i.glBuffer.destroy(),i.glBuffer=null),i.glBuffer=new SpiderGL.WebGL.IndexBuffer(e,a);var o=null;for(var s in r.access.vertexStreams)(o=r.access.vertexStreams[s]).glType=SpiderGL.Type.typeToGL(o.type);for(var s in r.access.primitiveStreams)(o=r.access.primitiveStreams[s]).glMode=SpiderGL.Type.primitiveToGL(o.mode),o.glType=SpiderGL.Type.typeToGL(o.type);return!0},destroyGL:function(){var e=this._descriptor;if(!e)return!1;var t=null;for(var r in e.data.vertexBuffers)(t=e.data.vertexBuffers[r]).glBuffer&&(t.glBuffer.destroy(),t.glBuffer=null);for(var r in e.data.indexBuffers)(t=e.data.indexBuffers[r]).glBuffer&&(t.glBuffer.destroy(),t.glBuffer=null)},updateRenderData:function(){var e=this._descriptor;if(!e)return!1;var t={partMap:{}};for(var r in e.logic.parts){var i=e.logic.parts[r].chunks,n={};t.partMap[r]=n;for(var a=0,s=i.length;a<s;++a){var o=i[a],u=e.semantic.chunks[o],d={};n[o]=d;var p=u.techniques;for(var h in p){var _=p[h],f={vertexStreams:{buffered:[],constant:[]},primitiveStreams:{}};d[h]=f;var l=e.semantic.bindings[_.binding],c=l.vertexStreams,L={};for(var S in c)for(var g=0,G=(v=c[S]).length;g<G;++g){var m=v[g],T={semantic:S,index:g,stream:x=e.access.vertexStreams[m]};(M=x.buffer)?(L[M]=L[M]||[],L[M].push(T)):f.vertexStreams.constant.push(T)}for(var M in L){var E={buffer:e.data.vertexBuffers[M],streams:L[M].slice()};f.vertexStreams.buffered.push(E)}c=l.primitiveStreams;for(var S in c){L={};var b={buffered:[],array:[]};f.primitiveStreams[S]=b;var v;for(g=0,G=(v=c[S]).length;g<G;++g){var x;m=v[g];(M=(x=e.access.primitiveStreams[m]).buffer)?(L[M]=L[M]||[],L[M].push(x)):b.array.push(x)}for(var M in L){E={buffer:e.data.indexBuffers[M],streams:L[M].slice()};b.buffered.push(E)}}}}}this._renderData=t}},SpiderGL.Type.extend(SpiderGL.Model.Model,SpiderGL.Core.ObjectBase),SpiderGL.Model.Technique=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=SpiderGL.Utility.getDefaultObject({},r),t&&\"vertexShader\"in t&&\"fragmentShader\"in t&&(t=SpiderGL.Model.Technique._createSimpleDescriptor(e,t)),this._descriptor=SpiderGL.Model.Technique._fixDescriptor(t),this._gl=this._descriptor.program.gl,this._renderData={},e&&this.updateRenderData()},SpiderGL.Model.Technique._fixDescriptor=function(e){return(e=SpiderGL.Utility.getDefaultObject({name:\"common\",program:null,semantic:{}},e)).vertexStreams&&(e.semantic.vertexStreams=e.vertexStreams,delete e.vertexStreams),e.globals&&(e.semantic.globals=e.globals,delete e.globals),e.semantic=SpiderGL.Model.Technique._fixSemantic(e.program,e.semantic),e},SpiderGL.Model.Technique._fixSemantic=function(e,t){return(t=SpiderGL.Utility.getDefaultObject({vertexStreams:null,globals:null},t)).vertexStreams=SpiderGL.Model.Technique._fixVertexStreams(e,t.vertexStreams),t.globals=SpiderGL.Model.Technique._fixGlobals(e,t.globals),t},SpiderGL.Model.Technique._fixVertexStreams=function(e,t){for(var r=e.getAttributesNames(),i={},n=0,a=r.length;n<a;++n){for(var s=r[n],o=\"\",u=\"\",d=s.length-1;d>=0;--d){var p=s.charAt(d);if(-1==\"0123456789\".indexOf(p,0)){o=s.substring(0,d+1);break}u=p+u}var h=u.length>0?parseInt(u):0,_=o.length;if(_>=2)if(\"a\"==o.charAt(0))\"_\"==(p=o.charAt(1))&&_>2?o=o.substring(2):p==o.charAt(1).toUpperCase()&&(o=o.substring(1));var f=o.toUpperCase();i[s]={semantic:f,index:h,value:[0,0,0,1]}}var l={};for(var c in t){var L=i[c];if(L){var S=t[c];SpiderGL.Type.isString(S)?S={semantic:S}:SpiderGL.Type.isArray(S)||SpiderGL.Type.isTypedArray(S)?S={value:S}:SpiderGL.Type.isNumber(S)&&(S={value:[S,S,S,S]}),l[c]=SpiderGL.Utility.getDefaultObject({semantic:L.semantic,index:L.index,value:L.value},S)}}return t=SpiderGL.Utility.getDefaultObject(i,l)},SpiderGL.Model.Technique._fixGlobals=function(e,t){var r=e.getUniformsValues(),i={};for(var n in r){var a=n,s=a.length;if(s>=2&&\"u\"==a.charAt(0)){var o=a.charAt(1);\"_\"==o&&s>2?a=a.substring(2):o==a.charAt(1).toUpperCase()&&(a=a.substring(1))}var u=a.toUpperCase();i[n]={semantic:u,value:r[n]}}return t=SpiderGL.Utility.getDefaultObject(i,t)},SpiderGL.Model.Technique._createSimpleDescriptor=function(e,t){(t=SpiderGL.Utility.getDefaultObject({name:\"common\",vertexShader:null,fragmentShader:null,attributes:null,uniforms:null,semantic:{},vertexStreams:null,globals:null,options:null},t)).vertexStreams&&(t.semantic.vertexStreams=t.vertexStreams,delete t.vertexStreams),t.globals&&(t.semantic.globals=t.globals,delete t.globals);var r={name:t.name,program:null,semantic:t.semantic};if(!e)return r;var i=t.vertexShader,n=t.fragmentShader;if(!i||!n)return r;if(SpiderGL.Type.isString(i))i=new SpiderGL.WebGL.VertexShader(e,i);else if(!SpiderGL.Type.instanceOf(i,SpiderGL.WebGL.VertexShader))return r;if(SpiderGL.Type.isString(n))n=new SpiderGL.WebGL.FragmentShader(e,n);else if(!SpiderGL.Type.instanceOf(n,SpiderGL.WebGL.FragmentShader))return r;var a=new SpiderGL.WebGL.Program(e,{shaders:[i,n],attributes:t.attributes,uniforms:t.uniforms});return r.program=a,r},SpiderGL.Model.Technique.prototype={get descriptor(){return this._descriptor},get isReady(){return!!this._descriptor},get gl(){return this._gl},get name(){return this._descriptor.name},get renderData(){return this._renderData},get program(){return this._descriptor.program},setUniforms:function(e){this._descriptor.program.setUniforms(e)},updateRenderData:function(){var e=this._descriptor,t={};this._renderData=t;var r={};t.attributesMap=r;var i=e.program.getAttributesIndices();for(var n in e.semantic.vertexStreams){var a=(d=e.semantic.vertexStreams[n]).semantic,s=r[a];s||(s=[],r[a]=s),s[d.index]={index:i[n],value:d.value}}var o={};for(var u in t.globalsMap=o,e.semantic.globals){var d;o[(d=e.semantic.globals[u]).semantic]={name:u,value:d.value}}}},SpiderGL.Model.ModelRenderer=function(e){this._gl=e,this._vertexAttributesCount=e.getParameter(e.MAX_VERTEX_ATTRIBS),this._textureUnitsCount=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this._internalFramebuffer=new SpiderGL.WebGL.Framebuffer(e),this._reset()},SpiderGL.Model.ModelRenderer.prototype={_reset:function(){this._technique=null,this._model=null,this._partName=null,this._chunkName=null,this._primMode=null,this._framebuffer=null,this._inBegin=!1,this._enabledArrays=[],this._boundTextures=[],this._attribValues=[],this._primitiveStreams=[],this._techniqueDirty=!0,this._modelDirty=!0,this._modelPartDirty=!0,this._modelChunkDirty=!0,this._primModeDirty=!0,this._framebufferDirty=!0,this._viewportDirty=!0,this._dirty=!0},_resetContext:function(){for(var e=this._gl,t=0,r=this._vertexAttributesCount;t<r;++t)e.disableVertexAttribArray(t);for(t=this._textureUnitsCount-1;t>=0;--t)e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,null),e.bindTexture(e.TEXTURE_CUBE_MAP,null);SpiderGL.WebGL.VertexBuffer.unbind(e),SpiderGL.WebGL.IndexBuffer.unbind(e),SpiderGL.WebGL.Program.unbind(e),SpiderGL.WebGL.Framebuffer.unbind(e)},_update:function(){if(!this._dirty)return!0;var e=this._gl;if(this._techniqueDirty){if(!(p=this._technique))return!1;var t=(h=p.renderData).attributesMap,r=[];for(var i in t){var n=t[i];for(var a in n){var s=n[a],o=null;s&&(o={index:s.index,value:s.value}),r.push(o)}}this._attribValues=r,p.program.bind(),this._techniqueDirty=!1}if(this._modelDirty){var u=this._model;if(!u)return!1;a=0;for(var d=(r=this._attribValues).length;a<d;++a){if(o=r[a])switch(o.value.length){case 1:e.vertexAttrib1fv(o.index,o.value);break;case 2:e.vertexAttrib2fv(o.index,o.value);break;case 3:e.vertexAttrib3fv(o.index,o.value);break;default:e.vertexAttrib4fv(o.index,o.value)}}var p,h,_=u.renderData;if(!(p=this._technique))return!1;if(!(h=p.renderData))return!1;t=h.attributesMap;if(this._modelPartDirty){if(!this._partName)return!1;this._modelPartDirty=!1}if(this._modelChunkDirty){var f=this._chunkName;if(!f)return!1;if(!(b=_.partMap[this._partName]))return!1;if(!(v=b[f]))return!1;if((x=v[p.name])||(x=v.common),!x)return!1;var l=this._enabledArrays;for(a=0,d=l.length;a<d;++a)e.disableVertexAttribArray(l[a]);l=[];var c=x.vertexStreams.buffered;for(a=0,d=c.length;a<d;++a){var L=c[a],S=L.buffer.glBuffer;S.bind();for(var g=0,G=(T=L.streams).length;g<G;++g){if(t[(M=T[g]).semantic]&&t[M.semantic][M.index]){var m=t[M.semantic][M.index].index;(E=M.stream).index=m,l.push(m),S.vertexAttribPointer(E)}}}this._enabledArrays=l;var T;for(g=0,d=(T=x.vertexStreams.constant).length;g<d;++g){var M;if(t[(M=T[g]).semantic]&&t[M.semantic][M.index]){var E;m=t[M.semantic][M.index].index;switch((E=M.stream).value.length){case 1:e.vertexAttrib1fv(m,E.value);break;case 2:e.vertexAttrib2fv(m,E.value);break;case 3:e.vertexAttrib3fv(m,E.value);break;default:e.vertexAttrib4fv(m,E.value)}}}this._modelChunkDirty=!1}if(this._primModeDirty){var b,v,x,y=this._primMode;if(!y)return!1;if(!(b=_.partMap[this._partName]))return!1;if(!(v=b[this._chunkName]))return!1;if((x=v[p.name])||(x=v.common),!x)return!1;var A=x.primitiveStreams[y];if(!A)return!1;this._primitiveStreams=A,this._primModeDirty=!1}this._modelDirty=!1}return this._framebufferDirty&&(this._framebuffer?this._framebuffer.bind():SpiderGL.WebGL.Framebuffer.unbind(e),this._framebufferDirty=!1),this._viewportDirty&&(this._framebuffer&&this._framebuffer.autoViewport&&this._framebuffer.applyViewport(),this._viewportDirty=!1),this._dirty=!1,!0},get gl(){return this._gl},get isValid(){return!!this._gl},destroy:function(){this.end(),this._internalFramebuffer.destroy(),this._internalFramebuffer=null,this._gl=null},begin:function(){this._inBegin||(this._resetContext(),this._inBegin=!0)},end:function(){if(this._inBegin){this._inBegin=!1;for(var e=this._gl,t=this._enabledArrays,r=0,i=t.length;r<i;++r)e.disableVertexAttribArray(t[r]);var n=this._boundTextures;for(r=0,i=n.length;r<i;++r){var a=n[r];a&&(a.target==e.TEXTURE_2D?SpiderGL.WebGL.Texture2D.unbind(e,a.unit):a.target==e.TEXTURE_CUBE_MAP&&SpiderGL.WebGL.TextureCubeMap.unbind(e,a.unit))}this._framebuffer&&SpiderGL.WebGL.Framebuffer.unbind(this._gl),this._internalFramebuffer.detachAll(),this._reset(),this._resetContext()}},get isInBegin(){return this._inBegin},setTechnique:function(e){this._inBegin&&this._technique!=e&&(this._technique=e,this._techniqueDirty=!0,this._dirty=!0,e||SpiderGL.WebGL.Program.unbind(this._gl))},get technique(){return this._technique},setModel:function(e){this._inBegin&&this._model!=e&&(this._model=e,this._modelDirty=!0,this._modelPartDirty=!0,this._modelChunkDirty=!0,this._dirty=!0)},get model(){return this._model},setPart:function(e){this._inBegin&&this._part!=e&&(this._partName=e,this._modelPartDirty=!0,this._modelDirty=!0,this._dirty=!0)},get part(){return this._partName},setChunk:function(e){this._inBegin&&this._chunk!=e&&(this._chunkName=e,this._modelDirty=!0,this._modelChunkDirty=!0,this._primModeDirty=!0,this._dirty=!0)},get chunk(){return this._chunkName},setPrimitiveMode:function(e){this._inBegin&&this._primMode!=e&&(this._primMode=e,this._primModeDirty=!0,this._modelDirty=!0,this._dirty=!0)},get primitiveMode(){return this._primMode},setUniforms:function(e){this._inBegin&&this._technique&&this._technique.program.setUniforms(e)},setDefaultGlobals:function(){if(this._inBegin){var e=this._technique;if(e){var t=e.renderData.globalsMap,r={};for(var i in t){var n=t[i].name,a=t[i].value;r[n]=a}e.program.setUniforms(r)}}},setGlobals:function(e){if(this._inBegin&&e){var t=this._technique;if(t){var r=t.renderData.globalsMap,i={};for(var n in e)if(r[n]){var a=r[n].name,s=e[n];i[a]=s}t.program.setUniforms(i)}}},setFramebuffer:function(e){this._inBegin&&this._framebuffer!=e&&(this._framebuffer=e,this._framebufferDirty=!0,this._viewportDirty=!0,this._dirty=!0,e?e.bind():SpiderGL.WebGL.Framebuffer.unbind(this._gl))},activateOffScreenFramebuffer:function(){this.setFramebuffer(this._internalFramebuffer)},activateMainFramebuffer:function(){return this.setFramebuffer(null)},setFramebufferAttachments:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.setAttachments(e),this._framebufferDirty=!0,this._viewportDirty=!0)},setColorRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.colorTarget=e,this._viewportDirty=!0,this._dirty=!0)},setDepthRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.depthTarget=e,this._viewportDirty=!0,this._dirty=!0)},setStencilRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.stencilTarget=e,this._viewportDirty=!0,this._dirty=!0)},setDepthStencilRenderTarget:function(e){this._inBegin&&this._framebuffer&&(this._framebuffer.depthStencilTarget=e,this._viewportDirty=!0,this._dirty=!0)},clearFramebuffer:function(e){if(this._inBegin&&e){var t=this._gl,r=0;if(SpiderGL.Type.isNumber(e))r=e;else{if(\"color\"in e){var i=e.color;i&&t.clearColor(i[0],i[1],i[2],i[3]),r|=t.COLOR_BUFFER_BIT}if(\"depth\"in e){var n=e.depth;SpiderGL.Type.isNumber(n)&&t.clearDepth(n),r|=t.DEPTH_BUFFER_BIT}if(\"stencil\"in e){var a=e.stencil;SpiderGL.Type.isNumber(a)&&t.clearStencil(a),r|=t.Stencil_BUFFER_BIT}}if(r){var s=this._framebuffer;s?s.clear(r):t.clear(r)}}},setViewport:function(e,t,r,i){this._inBegin&&this._gl.viewport(e,t,r,i)},setTexture:function(e,t){if(t)t.bind(e);else{var r=this._gl;SpiderGL.WebGL.Texture2D.unbind(r,e),SpiderGL.WebGL.TextureCubeMap.unbind(r,e)}},get canRender(){return!!(this._inBegin&&this._technique&&this._model&&this._partName&&this._chunkName&&this._primMode)},render:function(){if(this.canRender&&this._update()){for(var e=this._gl,t=this._primitiveStreams,r=t.buffered,i=t.array,n=0,a=r.length;n<a;++n){var s=r[n],o=s.buffer.glBuffer;o.bind();for(var u=s.streams,d=0,p=u.length;d<p;++d){var h=u[d];o.drawElements(h)}}for(d=0,a=i.length;d<a;++d){h=i[d];e.drawArrays(h.glMode,h.first,h.count)}}},renderModelPart:function(e){var t=this.model.descriptor.logic.parts[e];for(var r in this.setPart(e),t.chunks){var i=t.chunks[r];this.setChunk(i),this.render()}},renderModel:function(){var e=this.model.descriptor.logic.parts;for(var t in e){var r=e[t];for(var i in this.setPart(t),r.chunks){var n=r.chunks[i];this.setChunk(n),this.render()}}}},SpiderGL.UserInterface={},SpiderGL.UserInterface.CanvasHandler=function(e,t,r){SpiderGL.Core.ObjectBase.call(this),r=r||{};var i=this,n=e.canvas;this._gl=e,this._canvas=n,this._handler=t,this._ignoreKeyRepeat=SpiderGL.Utility.getDefaultValue(r.ignoreKeyRepeat,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT),this._keysDown={},this._mouseButtonsDown=[!1,!1,!1],this._dragging=[!1,!1,!1],this._dragStartPos=[[0,0],[0,0],[0,0]],this._dragEndPos=[[0,0],[0,0],[0,0]],this._dragDeltaPos=[[0,0],[0,0],[0,0]],this._cursorPos=[0,0,!0,0],this._cursorPrevPos=[0,0,!0,0],this._cursorDeltaPos=[0,0],this._cursorDeltaTime=0,this._cursorIncrPos=0,this._cursorIncrTime=0,this._clickPos=[0,0,!0,0],this._clickPrevPos=[0,0,!0,0],this._touches=[],this._touchZoomDelta=0,this._touchPanResolved=!1,this._drawEventPending=!1,this._drawEventHandler=function(){i._onDraw()},this._postDrawEventFunction=function(){i._postDrawEvent()},this._animateTime=Date.now(),this._animatePrevTime=this._animateTime,this._animateDeltaTime=0,this._animateRate=0,this._animateID=null,this._animateEventHandler=function(){i._onAnimate()},this._animateMS=-1,this._animateWithTimeout=!1,this._fastAnimate=!1,this._fpsUpdateMS=1e3,this._fpsTime=0,this._fpsCount=0,this._fps=0,this._delegateDraw=function(e){i._onDraw(e)};window.addEventListener(\"message\",function(e){e.source==window&&(e.data==SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME?(e.stopPropagation(),i._onAnimate()):e.data==SpiderGL.UserInterface.CanvasHandler._FAST_DRAW_MESSAGE_NAME&&(e.stopPropagation(),i._onDraw()))},!0),n.tabIndex=0,n.addEventListener(\"unload\",function(e){i._onTerminate(e)},!1),n.addEventListener(\"keydown\",function(e){i._onKeyDown(e)},!1),n.addEventListener(\"keyup\",function(e){i._onKeyUp(e)},!1),n.addEventListener(\"keypress\",function(e){i._onKeyPress(e)},!1),n.addEventListener(\"mousedown\",function(e){i._onMouseButtonDown(e)},!1),n.addEventListener(\"mouseup\",function(e){i._onMouseButtonUp(e)},!1),n.addEventListener(\"mousemove\",function(e){i._onMouseMove(e)},!1),n.addEventListener(\"mouseout\",function(e){i._onMouseOut(e)},!1),n.addEventListener(\"click\",function(e){i._onClick(e)},!1),n.addEventListener(\"dblclick\",function(e){i._onDoubleClick(e)},!1),n.addEventListener(\"resize\",function(e){i._onResize(e)},!1),n.addEventListener(\"DOMMouseScroll\",function(e){i._onMouseWheel(e)},!1),n.addEventListener(\"mousewheel\",function(e){i._onMouseWheel(e)},!1),n.addEventListener(\"blur\",function(e){i._onBlur(e)},!1);var a=new SglBrowser;a.isIE||a.isEdge?(n.addEventListener(\"pointerdown\",function(e){\"touch\"==e.pointerType&&i._onTouchStart(e)},!1),n.addEventListener(\"pointerup\",function(e){\"touch\"==e.pointerType&&i._onTouchEnd(e)},!1),n.addEventListener(\"pointermove\",function(e){\"touch\"==e.pointerType&&i._onTouchMove(e)},!1),window.addEventListener(\"pointerup\",function(e){\"touch\"==e.pointerType&&i._onTouchEnd(e)},!1),window.addEventListener(\"pointermove\",function(e){\"touch\"==e.pointerType&&i._onTouchMove(e)},!1)):(n.addEventListener(\"touchstart\",function(e){i._onTouchStart(e)},!1),n.addEventListener(\"touchend\",function(e){i._onTouchEnd(e)},!1),n.addEventListener(\"touchmove\",function(e){i._onTouchMove(e)},!1)),window.addEventListener(\"mouseup\",function(e){i._onWindowMouseButtonUp(e)},!1),window.addEventListener(\"mousemove\",function(e){i._onWindowMouseMove(e)},!1),window.addEventListener(\"resize\",function(e){i._onWindowResize(e)},!1),SpiderGL.Utility.getDefaultValue(r.standardGLUnpack,SpiderGL.UserInterface.CanvasHandler.DEFAULT_STANDARD_GL_UNPACK)&&SpiderGL.WebGL.Context.setStandardGLUnpack(e),this.animateRate=SpiderGL.Utility.getDefaultValue(r.animateRate,SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE)},SpiderGL.UserInterface.CanvasHandler._FAST_DRAW_MESSAGE_NAME=\"spidergl-fast-draw-message\",SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME=\"spidergl-fast-animate-message\",SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE=0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT=!0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_STANDARD_GL_UNPACK=!0,SpiderGL.UserInterface.CanvasHandler.DEFAULT_PROPERTY_NAME=\"ui\",SpiderGL.UserInterface.CanvasHandler.prototype={_firstNotify:function(){this._onInitialize(),this._animateRate>0&&this._onAnimate(),this.postDrawEvent()},_dispatch:function(){var e=arguments[0],t=this._handler,r=t[e];if(r){var i=Array.prototype.slice.call(arguments,1);r.apply(t,i)}},_postDrawEvent:function(){this._postDrawCount=5,this._drawEventPending||(this._drawEventPending=!0,requestAnimationFrame(this._delegateDraw))},_getMouseClientPos:function(e){var t,r,i=this._canvas.getBoundingClientRect(),n=this._canvas.width,a=this._canvas.height;return[t=e.changedTouches?e.changedTouches[0].clientX-i.left:e.clientX-i.left,r=e.changedTouches?a-(e.changedTouches[0].clientY-i.top):a-(e.clientY-i.top),t<0||t>=n||r<0||r>=a,e.timeStamp]},_onInitialize:function(){this._dispatch(\"onInitialize\")},_onTerminate:function(){this._dispatch(\"onTerminate\")},_onBlur:function(e){this._gl;var t=this._keysDown;for(var r in t)t[r]&&(t[r]=!1,this._dispatch(\"onKeyUp\",r,null))},_onKeyDown:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());var r=this._keysDown[t];this._keysDown[t]=!0,r&&this._ignoreKeyRepeat||this._dispatch(\"onKeyDown\",t,e)},_onKeyUp:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());this._keysDown[t]=!1,this._dispatch(\"onKeyUp\",t,e)},_onKeyPress:function(e){var t=e.keyCode;t>=48&&t<=90&&(t=String.fromCharCode(t).toUpperCase());this._dispatch(\"onKeyPress\",t,e)},_onTouchStart:function(e){var t;if(this._canvas.focus(),e.changedTouches)t=e.targetTouches;else{var r={id:e.pointerId,evt:e};for(i=0;i<this._touches.length;i++)if(this._touches[i].id==r.id)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();this._touches.push(r),t=this._touches}if(1==t.length){var n,a=this._getMouseClientPos(e);this._cursorPos=a,n=e.button?e.button:0,this._mouseButtonsDown[n]=!0,this._dragStartPos[n]=[a[0],a[1]],this._dispatch(\"onMouseButtonDown\",n,a[0],a[1],e)}var s=new SglBrowser;(s.isIE||s.isEdge)&&e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onTouchEnd:function(e){var t;if(e.changedTouches)t=e.targetTouches;else{var r=!1;for(i=0;i<this._touches.length;i++)if(this._touches[i].id==e.pointerId){this._touches.splice(i,1),r=!0;break}if(!r)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();t=this._touches}if(0==t.length){var n,a=this._getMouseClientPos(e);if(this._cursorPos=a,n=e.button?e.button:0,this._dispatch(\"onMouseButtonUp\",n,a[0],a[1],e),this._mouseButtonsDown[1]&&(n=1),this._mouseButtonsDown=[!1,!1,!1],this._dragging[n]){this._dragging[n]=!1;var s=this._dragStartPos[n],o=[a[0],a[1]];this._dragEndPos[n]=o,this._dragDeltaPos[n]=[o[0]-s[0],o[1]-s[1]],this._dispatch(\"onDragEnd\",n,o[0],o[1])}this._touchPanResolved=!1,this._cursorIncrPos=this._cursorIncrTime=0}var u=new SglBrowser;(u.isIE||u.isEdge)&&e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onTouchMove:function(e){var t;if(e.changedTouches)t=e.targetTouches;else{var r=!1;for(n=0;n<Math.min(this._touches.length,2);n++)if(this._touches[n].id==e.pointerId){this._touches[n].evt=e,r=!0;break}if(!r)return e.preventDefault&&e.preventDefault(),void e.stopPropagation();t=this._touches}if(t.length>1&&this._resolveTouchZoom(e),1==t.length){this._cursorPrevPos=this._cursorPos;var i=this._getMouseClientPos(e);if(this._cursorPos=i,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],this._cursorDeltaTime=this._cursorPos[3]-this._cursorPrevPos[3],this._cursorDeltaPos[0]>0?this._cursorDeltaPos[0]=Math.floor(this._cursorDeltaPos[0]):this._cursorDeltaPos[0]=Math.ceil(this._cursorDeltaPos[0]),this._cursorDeltaPos[1]>0?this._cursorDeltaPos[1]=Math.floor(this._cursorDeltaPos[1]):this._cursorDeltaPos[1]=Math.ceil(this._cursorDeltaPos[1]),this._touchPanResolved||(this._cursorIncrPos+=SpiderGL.Math.Vec2.length(this._cursorDeltaPos),this._cursorIncrTime+=this._cursorDeltaTime,this._resolveTouchPan(e)),0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var n=0;n<3;++n)if(this._mouseButtonsDown[n]){var a=this._dragStartPos[n],s=[i[0],i[1]];this._dragEndPos[n]=s,this._dragDeltaPos[n]=[s[0]-a[0],s[1]-a[1]],this._dragging[n]?this._dispatch(\"onDrag\",n,s[0],s[1]):(this._dragging[n]=!0,this._dispatch(\"onDragStart\",n,a[0],a[1]))}this._dispatch(\"onMouseMove\",i[0],i[1],e)}}e.preventDefault&&e.preventDefault(),e.stopPropagation()},_resolveTouchZoom:function(e){var t;t=e.changedTouches?e.targetTouches:[this._touches[0].evt,this._touches[1].evt];var r=Math.sqrt(Math.pow(t[0].clientX-t[1].clientX,2)+Math.pow(t[0].clientY-t[1].clientY,2)),i=r-this._touchZoomDelta;this._touchZoomDelta=r,i>-.995&&i<.995||(i=i>0?1:-1,this._dispatch(\"onMouseWheel\",i))},_resolveTouchPan:function(e){var t=25,r=new SglBrowser;if((r.isIE||r.isEdge)&&(t=5),this._cursorIncrPos<t){if(this._cursorIncrTime<500)return;if(this._mouseButtonsDown[0]=!1,this._dragging[0]){this._dragging[0]=!1;var i=this._dragStartPos[0],n=[this._cursorPos[0],this._cursorPos[1]];this._dragEndPos[0]=n,this._dragDeltaPos[0]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",0,n[0],n[1])}this._mouseButtonsDown[1]=!0,this._dragStartPos[1]=[this._cursorPos[0],this._cursorPos[1]]}this._touchPanResolved=!0},_onMouseButtonDown:function(e){this._canvas.focus();var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;this._mouseButtonsDown[r]=!0,this._dragStartPos[r]=[t[0],t[1]],this._dispatch(\"onMouseButtonDown\",r,t[0],t[1],e),e.stopPropagation()},_onMouseButtonUp:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;if(this._mouseButtonsDown[r]=!1,this._dispatch(\"onMouseButtonUp\",r,t[0],t[1],e),this._dragging[r]){this._dragging[r]=!1;var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",r,n[0],n[1])}e.stopPropagation()},_onWindowMouseButtonUp:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t;var r=e.button;if(this._mouseButtonsDown[r]){if(this._mouseButtonsDown[r]=!1,this._dispatch(\"onMouseButtonUp\",r,t[0],t[1],e),this._dragging[r]){this._dragging[r]=!1;var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",r,n[0],n[1])}e.stopPropagation()}},_onMouseMove:function(e){this._cursorPrevPos=this._cursorPos;var t=this._getMouseClientPos(e);if(this._cursorPos=t,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var r=0;r<3;++r)if(this._mouseButtonsDown[r]){var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dragging[r]?this._dispatch(\"onDrag\",r,n[0],n[1]):(this._dragging[r]=!0,this._dispatch(\"onDragStart\",r,i[0],i[1]))}this._dispatch(\"onMouseMove\",t[0],t[1],e)}e.stopPropagation()},_onWindowMouseMove:function(e){this._cursorPrevPos=this._cursorPos;var t=this._getMouseClientPos(e);if(this._cursorPos=t,this._cursorDeltaPos=[this._cursorPos[0]-this._cursorPrevPos[0],this._cursorPos[1]-this._cursorPrevPos[1]],0!=this._cursorDeltaPos[0]||0!=this._cursorDeltaPos[1]){for(var r=0;r<3;++r)if(this._dragging[r]){var i=this._dragStartPos[r],n=[t[0],t[1]];this._dragEndPos[r]=n,this._dragDeltaPos[r]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDrag\",r,n[0],n[1])}t[2]||this._dispatch(\"onMouseMove\",t[0],t[1],e)}e.stopPropagation()},_onWindowResize:function(e){var t;this._mouseButtonsDown[0]?t=0:this._mouseButtonsDown[1]&&(t=1),this._touches.pop();var r=this._cursorPos;if(this._mouseButtonsDown=[!1,!1,!1],this._dispatch(\"onMouseButtonUp\",t,r[0],r[1],e),this._dragging[t]){this._dragging[t]=!1;var i=this._dragStartPos[t],n=[r[0],r[1]];this._dragEndPos[t]=n,this._dragDeltaPos[t]=[n[0]-i[0],n[1]-i[1]],this._dispatch(\"onDragEnd\",t,n[0],n[1])}this._touchPanResolved=!1,this._cursorIncrPos=this._cursorIncrTime=0,e.stopPropagation()},_onMouseWheel:function(e){var t=this._getMouseClientPos(e),r=0;e||(e=window.event),e.wheelDelta?r=e.wheelDelta/120:e.detail&&(r=-e.detail/3),r&&this._dispatch(\"onMouseWheel\",r,t[0],t[1],e),e.preventDefault&&e.preventDefault(),e.stopPropagation()},_onMouseOut:function(e){var t=this._getMouseClientPos(e);this._cursorPos=t,this._dispatch(\"onMouseOut\",t[0],t[1],e)},_onClick:function(e){var t=this._getMouseClientPos(e);this._dispatch(\"onClick\",e.button,t[0],t[1],e)},_onDoubleClick:function(e){var t=this._getMouseClientPos(e);this._dispatch(\"onDoubleClick\",e.button,t[0],t[1],e)},_onResize:function(e){this._dispatch(\"onResize\",this._canvas.width,this._canvas.height,e)},_onAnimate:function(){this._animatePrevTime=this._animateTime,this._animateTime=Date.now(),this._animateDeltaTime=this._animateTime-this._animatePrevTime,this._dispatch(\"onAnimate\",this._animateDeltaTime/1e3),this._animateMS>=0?this._animateWithTimeout&&setTimeout(this._animateEventHandler,this._animateMS):this._fastAnimate&&window.postMessage(SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME,\"*\")},_onDraw:function(e){if(this._drawEventPending=!1,this._fpsTime&&5!=this.postDrawCount){this._fpsCount++;var t=e-this._fpsTime;this._fps=.8*this._fps+1e3/t*.2}else this._fpsCount=0;this._fpsTime=e,this._dispatch(\"onDraw\"),this._postDrawCount-- >0&&(this._drawEventPending=!0,requestAnimationFrame(this._delegateDraw))},get gl(){return this._gl},get canvas(){return this._canvas},get width(){return this._canvas.width},get height(){return this._canvas.height},get postDrawEvent(){return this._postDrawEventFunction},get animateTime(){return this._animateTime},get animatePrevTime(){return this._animatePrevTime},get animateDeltaTime(){return this._animateDeltaTime},get animateRate(){return this._animateRate},set animateRate(e){e=SpiderGL.Utility.getDefaultValue(e,SpiderGL.UserInterface.CanvasHandler.DEFAULT_ANIMATE_RATE),this._animateRate!==e&&(this._fastAnimate=!1,this._animateMS=-1,this._animateTime=Date.now(),this._animatePrevTime=this._animateTime,this._animateDeltaTime=0,this._animateID&&(clearInterval(this._animateID),this._animateID=null),this._animateRate=e,e>0?(this._animateMS=SpiderGL.Math.floor(1e3/e),this._animateWithTimeout?setTimeout(this._animateEventHandler,this._animateMS):this._animateID=setInterval(this._animateEventHandler,this._animateMS)):e<0&&(this._fastAnimate=!0,window.postMessage(SpiderGL.UserInterface.CanvasHandler._FAST_ANIMATE_MESSAGE_NAME,\"*\")))},get framesPerSecond(){return this._fps},get ignoreKeyRepeat(){return this._ignoreKeyRepeat},set ignoreKeyRepeat(e){this._ignoreKeyRepeat=SpiderGL.Utility.getDefaultValue(e,SpiderGL.UserInterface.CanvasHandler.DEFAULT_IGNORE_KEY_REPEAT)},isKeyDown:function(e){return e.toUpperCase&&(e=e.toUpperCase()),this._keysDown[e]},isMouseButtonDown:function(e){return this._mouseButtonsDown[e]},isDragging:function(e){return this._dragging[e]},dragStartX:function(e){return this._dragStartPos[e][0]},dragStartY:function(e){return this._dragStartPos[e][1]},dragEndX:function(e){return this._dragEndPos[e][0]},dragEndY:function(e){return this._dragEndPos[e][1]},dragDeltaX:function(e){return this._dragDeltaPos[e][0]},dragDeltaY:function(e){return this._dragDeltaPos[e][1]},get cursorX(){return this._cursorPos[0]},get cursorY(){return this._cursorPos[1]},get cursorPrevX(){return this._cursorPrevPos[0]},get cursorPrevY(){return this._cursorPrevPos[1]},get cursorDeltaX(){return this._cursorDeltaPos[0]},get cursorDeltaY(){return this._cursorDeltaPos[1]},draw:function(){this._onDraw()}},SpiderGL.Type.extend(SpiderGL.UserInterface.CanvasHandler,SpiderGL.Core.ObjectBase),SpiderGL.UserInterface.handleCanvas=function(e,t,r){if(!e||!t)return!1;r=r||{};var i=SpiderGL.WebGL.Context.getHijacked(e,r);if(!i)return!1;var n=new SpiderGL.UserInterface.CanvasHandler(i,t,r);return!!n&&(t[SpiderGL.Utility.getDefaultValue(r.uiName,SpiderGL.UserInterface.CanvasHandler.DEFAULT_PROPERTY_NAME)]=n,n._firstNotify(),!0)},SpiderGL.UserInterface.handleCanvasOnLoad=function(e,t,r){if(!e||!t)return!1;r=r||{};var i=SpiderGL.Utility.getDefaultValue(r.onLoad,null);return window.addEventListener(\"load\",function(){SpiderGL.UserInterface.handleCanvas(e,t,r),i&&i()},!1),!0};\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2020, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nSpiderGL.openNamespace();\r\n\r\n//----------------------------------------------------------------------------------------\r\n// CONSTANTS\r\n//----------------------------------------------------------------------------------------\r\n// version\r\nconst HOP_VERSION             = \"4.2.17\";\r\n// selectors\r\nconst HOP_ALL                 = 256;\r\n// starting debug mode\r\nconst HOP_DEBUGMODE           = false;\r\n// default light direction\r\nconst HOP_DEFAULTLIGHT        = [0, 0, -1];\r\n// default points size\r\nconst HOP_DEFAULTPOINTSIZE    = 1.0;\r\n// sgltrackball\r\nconst SGL_TRACKBALL_NO_ACTION = 0;\r\nconst SGL_TRACKBALL_ROTATE    = 1;\r\nconst SGL_TRACKBALL_PAN       = 2;\r\nconst SGL_TRACKBALL_DOLLY     = 3;\r\nconst SGL_TRACKBALL_SCALE     = 4;\r\n\r\nPresenter = function (canvas) {\r\n\tthis._supportsWebGL = sglHandleCanvas(canvas, this, { stencil: true });\r\n\tconsole.log(\"3DHOP version: \" + this.version);\r\n};\r\n\r\nPresenter.prototype = {\r\n//----------------------------------------------------------------------------------------\r\n// PARSING FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_parseScene : function (options) {\r\n\toptions = options || { };\r\n\tvar r = {\r\n\t\tbackground     : this._parseBackground(options.background),\r\n\t\tmeshes         : this._parseMeshes(options.meshes),\r\n\t\ttexturedQuads  : this._parseTexturedQuads(options.texturedQuads),\r\n\t\tmodelInstances : this._parseModelInstances(options.modelInstances),\r\n\t\tspots          : this._parseSpots(options.spots),\r\n\t\ttrackball      : this._parseTrackball(options.trackball),\r\n\t\tspace          : this._parseSpace(options.space),\r\n\t\tconfig         : this._parseConfig(options.config)\r\n\t};\r\n\treturn r;\r\n},\r\n\r\n_parseBackground : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\timage         : null,\r\n\t\tisEnvironment : false,\r\n\t\tcolor         : [ 0.0, 0.0, 0.0, 0.0 ]\r\n\t}, options);\r\n\tif (r.image) { this._objectsToProcess++; this._objectsToLoad++; }\r\n\treturn r;\r\n},\r\n\r\n_parseMeshes : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseMesh(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseMesh : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\turl       : null,\r\n\t\tmType     : null,\r\n\t\ttransform : null\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tif (r.url) { this._objectsToProcess++; this._objectsToLoad++; }\r\n\treturn r;\r\n},\r\n\r\n_parseTexturedQuads : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseTexturedQuad(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseTexturedQuad : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\turl       : null\r\n\t}, options);\r\n\tif (r.url) { this._objectsToProcess++; this._objectsToLoad++; }\r\n\treturn r;\r\n},\r\n\r\n_parseModelInstances : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseModelInstance(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseModelInstance : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmesh            : null,\r\n\t\trendermode      : null,\r\n\t\tcolor           : [ 1.0, 1.0, 1.0 ],\r\n\t\tuseSolidColor   : false,\r\n\t\tspecularColor   : [ 0.0, 0.0, 0.0, 32.0 ],\r\n\t\tbackfaceColor   : [ 0.7, 0.4, 0.4, 0.0 ],\r\n\t\talpha           : 0.5,\r\n\t\tuseTransparency : false,\r\n\t\tuseLighting     : true,\r\n\t\tcursor          : \"default\",\r\n\t\tID              : 0,\r\n\t\ttransform       : null,\r\n\t\tvisible         : true,\r\n\t\ttags            : [ ],\r\n\t\tclippable       : true,\r\n\t\tmeasurable      : true,\r\n\t}, options);\r\n\tif (r.color[3]) //3DHOP 2.0 backward compatibility\r\n\t{\r\n\t\tr.alpha = r.color[3];\r\n\t\tr.color = [r.color[0], r.color[1], r.color[2]]\r\n\t}\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tr.ID = this._instancesProgressiveID;\r\n\tthis._instancesProgressiveID++;\r\n\treturn r;\r\n},\r\n\r\n_parseSpots : function (options) {\r\n\tvar r = { };\r\n\tfor (var m in options) {\r\n\t\tr[m] = this._parseSpot(options[m]);\r\n\t}\r\n\treturn r;\r\n},\r\n\r\n_parseSpot : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmesh            : null,\r\n\t\trendermode      : null,\r\n\t\tcolor           : [ 0.0, 0.25, 1.0 ],\r\n\t\tuseSolidColor   : true,\r\n\t\talpha           : 0.5,\r\n\t\talphaHigh       : 0.8,\r\n\t\tuseTransparency : true,\r\n\t\tuseStencil      : false,\r\n\t\tcursor          : \"pointer\",\r\n\t\tID              : 0,\r\n\t\ttransform       : null,\r\n\t\tvisible         : true,\r\n\t\ttags            : [ ]\r\n\t}, options);\r\n\tif (r.color[3]) //3DHOP 2.0 backward compatibility\r\n\t{\r\n\t\tr.alpha = r.color[3];\r\n\t\tr.color = [r.color[0], r.color[1], r.color[2]]\r\n\t}\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tr.ID = this._spotsProgressiveID;\r\n\tthis._spotsProgressiveID++;\r\n\treturn r;\r\n},\r\n\r\n_parseTrackball : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\ttype         : TurnTableTrackball,\r\n\t\ttrackOptions : {},\r\n\t\tlocked       : false\r\n\t}, options);\r\n\treturn r;\r\n},\r\n\r\n_parseSpace : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tcenterMode       : \"first\",\r\n\t\tradiusMode       : \"first\",\r\n\t\twhichInstanceCenter  : \"\",\r\n\t\twhichInstanceRadius  : \"\",\r\n\t\texplicitCenter   : [0.0, 0.0, 0.0],\r\n\t\texplicitRadius   : 1.0,\r\n\t\ttransform        : null,\r\n\t\tcameraFOV        : 60.0,\r\n\t\tcameraNearFar    : [0.01, 10.0],\r\n\t\tcameraType       : \"perspective\",\r\n\t\tsceneLighting      : true,\r\n\t}, options);\r\n\tr.transform = this._parseTransform(r.transform);\r\n\tif(r.cameraFOV < 2.0)  r.cameraFOV = 2.0;\r\n\tif(r.cameraFOV > 88.0) r.cameraFOV = 88.0;\r\n\tif((r.cameraType != \"perspective\") && (r.cameraType != \"orthographic\")) r.cameraType = \"perspective\";\r\n\treturn r;\r\n},\r\n\r\n_parseConfig : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tpickedpointColor    : [1.0, 0.0, 1.0],\r\n\t\tmeasurementColor    : [0.5, 1.0, 0.5],\r\n\t\tshowClippingPlanes  : true,\r\n\t\tshowClippingBorder  : false,\r\n\t\tclippingBorderSize  : 0.5,\r\n\t\tclippingBorderColor : [0.0, 1.0, 1.0],\r\n\t\tpointSize           : 1.0,\r\n\t\tpointSizeMinMax     : [1.0, 5.0],\r\n\t\tautoSaveScreenshot  : true,\r\n\t\tscreenshotBaseName  : \"screenshot\",\r\n\t}, options);\r\n\treturn r;\r\n},\r\n\r\n_parseTransform : function (options) {\r\n\tvar r = sglGetDefaultObject({\r\n\t\tmatrix      : SglMat4.identity(),\r\n\t\trotation    : [0.0, 0.0, 0.0],\r\n\t\ttranslation : [0.0, 0.0, 0.0],\r\n\t\tscale       : [1.0, 1.0, 1,0],\r\n\t}, options);\r\n\r\n\t// if any of rotation, translation or scale are defined, matrix is overwritten\r\n\tvar overwrite = false;\r\n\tvar matrixT = SglMat4.identity();\r\n\tvar matrixR = SglMat4.identity();\r\n\tvar matrixS = SglMat4.identity();\r\n\tif((r.translation[0] != 0.0)||(r.translation[1] != 0.0)||(r.translation[2] != 0.0))\r\n\t{\r\n\t\tmatrixT = SglMat4.translation(r.translation);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif((r.rotation[0] != 0.0)||(r.rotation[1] != 0.0)||(r.rotation[2] != 0.0))\r\n\t{\r\n\t\tvar mrX = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[0]), [1.0, 0.0, 0.0]);\r\n\t\tvar mrY = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[1]), [0.0, 1.0, 0.0]);\r\n\t\tvar mrZ = SglMat4.rotationAngleAxis(sglDegToRad(r.rotation[2]), [0.0, 0.0, 1.0]);\r\n\t\tmatrixR = SglMat4.mul(SglMat4.mul(mrZ, mrY), mrX);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif((r.scale[0] != 1.0)||(r.scale[1] != 1.0)||(r.scale[2] != 1.0))\r\n\t{\r\n\t\tmatrixS = SglMat4.scaling(r.scale);\r\n\t\toverwrite = true;\r\n\t}\r\n\tif (overwrite)\r\n\t\tr.matrix = SglMat4.mul(SglMat4.mul(matrixT, matrixR), matrixS);\r\n\r\n\treturn r;\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n//SHADERS RELATED FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n// standard program for points rendering\r\n_createStandardPointsProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar pointsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewMatrix;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uModelMatrix;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uPointSize;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aPosition;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec4 aColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute float aPointSize;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvNormal       = normalize(uViewSpaceNormalMatrix * aNormal);\t\t\\n\\\r\n\t\t\tvColor        = aColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvModelPos     = uModelMatrix * vec4(aPosition, 1.0);\t\t\t\t\\n\\\r\n\t\t\tvModelViewPos = uWorldViewMatrix * vec4(aPosition, 1.0);\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_Position  = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);\t\\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINTS Vertex Shader Log:\\n\" + pointsVertexShader.log);\r\n\r\n\tvar pointsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\t#extension GL_EXT_frag_depth : enable\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uAlpha;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseLighting;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uSpecularColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uClipColorSize;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec2 cxy = 2.0 * gl_PointCoord - 1.0;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat r = dot(cxy, cxy);\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif (r > 1.0) { discard; }\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  renderColor = vec3(1.0, 1.0, 1.0);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  diffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat lambert = 1.0;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  specular = vec3(0.0, 0.0, 0.0);\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(uUseSolidColor) {\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -3.0)\t\t\t\\n\\\r\n\t\t\t\tdiffuse = vColor.aaa;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tdiffuse = uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((uUseLighting)&&(length(vNormal) > 0.0))\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  float nDotL   = dot(vNormal, -uViewSpaceLightDirection);\t\t\t\\n\\\r\n\t\t\t  lambert = max(0.0, nDotL);\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n              vec3 halfV = normalize(-uViewSpaceLightDirection -vModelViewPos.xyz);\\n\\\r\n              float spc = pow(max(dot(vNormal, halfV),0.0), uSpecularColor.a);\t\\n\\\r\n              specular = spc * uSpecularColor.rgb;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\trenderColor = (diffuse * lambert) + specular;\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((length(uClipPlane.xyz) > 0.0)&&(uClipColorSize>0.0))\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > -uClipColorSize) renderColor = uClipColor;\t\\n\\\r\n\t\t\tif((length(uClipAxis) > 0.0)&&(uClipColorSize>0.0))\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0] + (uClipAxis[0]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1] + (uClipAxis[1]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2] + (uClipAxis[2]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor = vec4(renderColor, uAlpha);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragDepthEXT = gl_FragCoord.z + 0.0001*(pow(r, 2.0));\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINTS\tFragment Shader Log:\\n\" + pointsFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tpointsVertexShader,\r\n\t\t\tpointsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aColor\"    : 2,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uWorldViewMatrix\"           : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\"               : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0,\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : false,\r\n\t\t\t\"uUseLighting\"               : true,\r\n\t\t\t\"uSolidColor\"                : [1.0, 1.0, 1.0],\r\n\t\t\t\"uSpecularColor\"             : [0.0, 0.0, 0.0, 32.0],\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uClipColor\"\t\t\t\t : [1.0, 1.0, 1.0],\r\n\t\t\t\"uClipColorSize\"\t\t\t : 0.5\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD POINTS Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// standard program for faces rendering\r\n_createStandardFacesProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar facesVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uWorldViewMatrix;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   mat4 uModelMatrix;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aPosition;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec3 aNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec4 aColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tattribute vec2 aTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec2 vTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvNormal       = normalize(uViewSpaceNormalMatrix * aNormal);\t\t\\n\\\r\n\t\t\tvColor        = aColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvModelPos     = uModelMatrix * vec4(aPosition, 1.0);\t\t\t\t\\n\\\r\n\t\t\tvModelViewPos = uWorldViewMatrix * vec4(aPosition, 1.0);\t\t\t\\n\\\r\n\t\t\tvTextureCoord = aTextureCoord;\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACES Vertex Shader Log:\\n\" + facesVertexShader.log);\r\n\r\n\tvar facesFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uAlpha;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   bool uUseLighting;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uBackFaceColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uSpecularColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipColor;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uClipColorSize;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   sampler2D uSampler;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec3 vNormal;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelViewPos;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec2 vTextureCoord;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  renderColor = vec3(1.0, 1.0, 1.0);\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  diffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tfloat lambert = 1.0;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec3  specular = vec3(0.0, 0.0, 0.0);\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(vTextureCoord.x != 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  diffuse = texture2D(uSampler, vTextureCoord).xyz;\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(uUseSolidColor) {\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -3.0)\t\t\t\\n\\\r\n\t\t\t\tdiffuse = vColor.aaa;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else if(uSolidColor.r + uSolidColor.g + uSolidColor.b == -6.0)\t\\n\\\r\n\t\t\t\tdiffuse = vColor.rgb;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  else\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tdiffuse = uSolidColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((uUseLighting)&&(length(vNormal) > 0.0))\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t  float nDotL   = dot(vNormal, -uViewSpaceLightDirection);\t\t\t\\n\\\r\n\t\t\t  lambert = max(0.0, gl_FrontFacing? nDotL : -nDotL);\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n              vec3 halfV = normalize(-uViewSpaceLightDirection -vModelViewPos.xyz);\\n\\\r\n              float spc = pow(max(dot(vNormal, halfV),0.0), uSpecularColor.a);\t\\n\\\r\n              specular = spc * uSpecularColor.rgb;\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\trenderColor = (diffuse * lambert) + specular;\t\t\t\t\t\t\\n\\\r\n\t\t\tif(gl_FrontFacing==false)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif (uBackFaceColor[3]==0.0) renderColor = renderColor * uBackFaceColor.rgb;\t\\n\\\r\n\t\t\t\telse if(uBackFaceColor[3]==1.0) renderColor = uBackFaceColor.rgb;\t\t\t\\n\\\r\n\t\t\t\telse if(uBackFaceColor[3]==2.0) discard;\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\telse if(uBackFaceColor[3]==3.0) renderColor = (uBackFaceColor.rgb * lambert)+specular;\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((length(uClipPlane.xyz) > 0.0)&&(uClipColorSize>0.0))\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > -uClipColorSize) renderColor = uClipColor;\t\\n\\\r\n\t\t\tif((length(uClipAxis) > 0.0)&&(uClipColorSize>0.0))\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0] + (uClipAxis[0]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1] + (uClipAxis[1]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2] + (uClipAxis[2]*uClipColorSize)) > 0.0) renderColor = uClipColor;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor = vec4(renderColor, uAlpha);\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACES Fragment Shader Log:\\n\" + facesFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tfacesVertexShader,\r\n\t\t\tfacesFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\"     : 0,\r\n\t\t\t\"aNormal\"       : 1,\r\n\t\t\t\"aColor\"        : 2,\r\n\t\t\t\"aTextureCoord\" : 3\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uWorldViewMatrix\"           : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\"               : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : false,\r\n\t\t\t\"uUseLighting\"               : true,\r\n\t\t\t\"uBackFaceColor\"             : [0.4, 0.3, 0.3, 0.0],\r\n\t\t\t\"uSolidColor\"                : [1.0, 1.0, 1.0],\r\n\t\t\t\"uSpecularColor\"             : [0.0, 0.0, 0.0, 32.0],\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uClipColor\"                 : [1.0, 1.0, 1.0],\r\n\t\t\t\"uClipColorSize\"             : 0.5,\r\n\t\t\t\"uSampler\"                   : 0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"STD FACE Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// utils program for XYZ picking and color coded rendering\r\n_createUtilsProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar utilsVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\tuniform   mat4 uModelMatrix;                                          \\n\\\r\n\t\tuniform   float uPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\tattribute vec4 aColor;                                                \\n\\\r\n\t\tattribute float aPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec4 vModelPos;                                             \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvModelPos = uModelMatrix * vec4(aPosition, 1.0);                  \\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t  \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"UTILS Vertex Shader Log:\\n\" + utilsVertexShader.log);\r\n\r\n\tvar utilsFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipPoint;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec3 uClipAxis;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uClipPlane;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uBackFaceColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   vec4 uColorID;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tuniform   float uMode;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvarying   vec4 vModelPos;\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvec4 pack_depth(const in float depth)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tconst vec4 bit_shift = vec4(255.0*255.0*255.0, 255.0*255.0, 255.0, 1.0);\t\\n\\\r\n\t\t\tconst vec4 bit_mask  = vec4(0.0, 1.0/255.0, 1.0/255.0, 1.0/255.0);\t\t\t\\n\\\r\n\t\t\tvec4 res = fract(depth * bit_shift);\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tres -= res.xxyz * bit_mask;\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\treturn res;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\tvoid main(void)\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipPlane.xyz) > 0.0)\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( dot(vModelPos, uClipPlane) > 0.0) discard;\t\t\t\t\t\\n\\\r\n\t\t\tif(length(uClipAxis) > 0.0)\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t{\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\tif( uClipAxis[0] * (vModelPos[0] - uClipPoint[0]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[1] * (vModelPos[1] - uClipPoint[1]) > 0.0) discard;\t\\n\\\r\n\t\t\t\tif( uClipAxis[2] * (vModelPos[2] - uClipPoint[2]) > 0.0) discard;\t\\n\\\r\n\t\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif((gl_FrontFacing==false) && (uBackFaceColor[3]==2.0)) discard;\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tvec4 outColor;\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tif(uMode == 1.0)\t//xyx picking\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\toutColor = pack_depth(gl_FragCoord.z);\t\t\t\t\t\t\t\\n\\\r\n\t\t\telse if(uMode == 2.0)\t//color coded\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\toutColor = uColorID;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t\tgl_FragColor = outColor;\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\t}\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"UTILS Fragment Shader Log:\\n\" + utilsFragmentShader.log);\r\n\r\n\tvar utilsProgram = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tutilsVertexShader,\r\n\t\t\tutilsFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aColor\"    : 2,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uModelMatrix\"               : SglMat4.identity(),\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipAxis\"                  : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPlane\"                 : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uBackFaceColor\"             : [0.4, 0.3, 0.3, 0.0],\r\n\t\t\t\"uColorID\"                   : [1.0, 0.5, 0.0, 1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0,\r\n\t\t\t\"uMode\"                      : 1.0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"UTILS Program Log:\\n\" + utilsProgram.log);\r\n\r\n\treturn utilsProgram;\r\n},\r\n\r\n// single-color barely-shaded program for spot and planes rendering\r\n_createColorShadedProgram : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar colorShadedVertexShader = new SglVertexShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\tuniform   mat3 uViewSpaceNormalMatrix;                                \\n\\\r\n\t\tuniform   float uPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\tattribute float aPointSize;                                           \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tvNormal     = uViewSpaceNormalMatrix * aNormal;                   \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\tgl_PointSize = uPointSize * aPointSize;\t\t\t\t\t\t\t  \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Vertex Shader Log:\\n\" + colorShadedVertexShader.log);\r\n\r\n\tvar colorShadedFragmentShader = new SglFragmentShader(gl, \"\\\r\n\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tuniform   vec3 uViewSpaceLightDirection;                              \\n\\\r\n\t\tuniform   vec4 uColorID;                                              \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tvoid main(void)                                                       \\n\\\r\n\t\t{                                                                     \\n\\\r\n\t\t\tif(uColorID[3] == 0.0) discard;                                   \\n\\\r\n\t\t\tvec3  diffuse = vec3(uColorID[0], uColorID[1], uColorID[2]);      \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tif(vNormal[0] != 0.0 || vNormal[1] != 0.0 || vNormal[2] != 0.0) { \\n\\\r\n\t\t\t\tvec3  normal    = normalize(vNormal);                         \\n\\\r\n\t\t\t\tfloat nDotL     = dot(normal, -uViewSpaceLightDirection);     \\n\\\r\n\t\t\t\tfloat lambert   = max(-nDotL, nDotL);                         \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\t\tdiffuse = (diffuse * 0.5) + (diffuse * lambert * 0.5);        \\n\\\r\n\t\t\t}                                                                 \\n\\\r\n\t\t\tgl_FragColor = vec4(diffuse, uColorID[3]);                       \\n\\\r\n\t\t}                                                                     \\n\\\r\n\t\");\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Fragment Shader Log:\\n\" + colorShadedFragmentShader.log);\r\n\r\n\tvar program = new SglProgram(gl, {\r\n\t\tshaders    : [\r\n\t\t\tcolorShadedVertexShader,\r\n\t\t\tcolorShadedFragmentShader\r\n\t\t],\r\n\t\tattributes : {\r\n\t\t\t\"aPosition\" : 0,\r\n\t\t\t\"aNormal\"   : 1,\r\n\t\t\t\"aPointSize\": 4\r\n\t\t},\r\n\t\tuniforms   : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : SglMat4.identity(),\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : SglMat3.identity(),\r\n\t\t\t\"uViewSpaceLightDirection\"   : [0.0, 0.0, -1.0],\r\n\t\t\t\"uColorID\"                   : [1.0, 0.5, 0.0, 1.0],\r\n\t\t\t\"uPointSize\"                 : 1.0\r\n\t\t}\r\n\t});\r\n\tif(this._isDebugging)\r\n\t\tconsole.log(\"COLOR SHADED Program Log:\\n\" + program.log);\r\n\r\n\treturn program;\r\n},\r\n\r\n// standard technique for PLY points rendering\r\n_createStandardPointsTechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createStandardPointsProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"     : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aPointSize\" : 1.0\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uWorldViewMatrix\"           : { semantic : \"uWorldViewMatrix\",           value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uAlpha\"                     : { semantic : \"uAlpha\",                     value : 1.0 },\r\n\t\t\t\"uUseSolidColor\"             : { semantic : \"uUseSolidColor\",             value : false },\r\n\t\t\t\"uUseLighting\"               : { semantic : \"uUseLighting\",               value : true },\r\n\t\t\t\"uSolidColor\"                : { semantic : \"uSolidColor\",                value : [ 1.0, 1.0, 1.0 ] },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uSpecularColor\"             : { semantic : \"uSpecularColor\",             value : [0.5, 0.2, 0.8, 32.0] },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipColor\"                 : { semantic : \"uClipColor\",                 value : [ 1.0, 1.0, 1.0 ]},\r\n\t\t\t\"uClipColorSize\"             : { semantic : \"uClipColorSize\",             value : 0.5 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// standard technique for PLY faces rendering\r\n_createStandardFacesTechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createStandardFacesProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"       : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"        : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aTextureCoord\" : [ 0.0, 0.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uWorldViewMatrix\"           : { semantic : \"uWorldViewMatrix\",           value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uAlpha\"                     : { semantic : \"uAlpha\",                     value : 1.0 },\r\n\t\t\t\"uUseSolidColor\"             : { semantic : \"uUseSolidColor\",             value : false },\r\n\t\t\t\"uUseLighting\"               : { semantic : \"uUseLighting\",               value : true },\r\n\t\t\t\"uSolidColor\"                : { semantic : \"uSolidColor\",                value : [ 1.0, 1.0, 1.0 ] },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uSpecularColor\"             : { semantic : \"uSpecularColor\",             value : [0.5, 0.2, 0.8, 32.0] },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipColor\"                 : { semantic : \"uClipColor\",                 value : [ 1.0, 1.0, 1.0 ]},\r\n\t\t\t\"uClipColorSize\"             : { semantic : \"uClipColorSize\",             value : 0.5 },\r\n\t\t\t\"uSampler\"                   : { semantic : \"uSampler\",                   value : 0 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// utils technique for PLY picking and color coded rendering\r\n_createUtilsTechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createUtilsProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"     : [ 0.8, 0.8, 0.8, 1.0 ],\r\n\t\t\t\"aPointSize\" : 1.0,\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uModelMatrix\"               : { semantic : \"uModelMatrix\",               value : SglMat4.identity() },\r\n\t\t\t\"uClipPoint\"                 : { semantic : \"uClipPoint\",                 value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipAxis\"                  : { semantic : \"uClipAxis\",                  value : [ 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uClipPlane\"                 : { semantic : \"uClipPlane\",                 value : [ 0.0, 0.0, 0.0, 0.0 ] },\r\n\t\t\t\"uBackFaceColor\"             : { semantic : \"uBackFaceColor\",             value : [0.4, 0.3, 0.3, 0.0] },\r\n\t\t\t\"uColorID\"                   : { semantic : \"uColorID\",                   value : [1.0, 0.5, 0.0, 1.0] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uMode\"                      : { semantic : \"uMode\",                      value : 1.0 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// single-color barely-shaded technique for PLY spot and planes rendering\r\n_createColorShadedTechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tprogram  : this._createColorShadedProgram(),\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\"    : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aPointSize\" : 1.0\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : { semantic : \"uViewSpaceNormalMatrix\",     value : SglMat3.identity() },\r\n\t\t\t\"uViewSpaceLightDirection\"   : { semantic : \"uViewSpaceLightDirection\",   value : [ 0.0, 0.0, -1.0 ] },\r\n\t\t\t\"uColorID\"                   : { semantic : \"uColorID\",                   value : [1.0, 0.5, 0.25, 1.0] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// 2 points line rendering\r\n_createSimpleLinetechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tvertexShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\t\tuniform vec3 uPointA;                                                 \\n\\\r\n\t\t\tuniform vec3 uPointB;                                                 \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\t\tattribute vec4 aColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tvec3 newPos;                                                      \\n\\\r\n\t\t\t\tif(aPosition[0]==0.0)                                             \\n\\\r\n\t\t\t\t\tnewPos = uPointA;                                             \\n\\\r\n\t\t\t\telse                                                              \\n\\\r\n\t\t\t\t\tnewPos = uPointB;                                             \\n\\\r\n\t\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(newPos, 1.0);     \\n\\\r\n\t\t\t\tgl_PointSize = 8.0;\t                 \t\t\t\t\t\t\t  \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tfragmentShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   vec4 uLineColor;                                            \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tgl_FragColor = uLineColor;                                     \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\" : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"  : [ 0.8, 0.8, 0.8, 1.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uLineColor\"                 : { semantic : \"uLineColor\",                 value : [0.0, 1.0, 0.5, 1.0] },\r\n\t\t\t\"uPointA\"                    : { semantic : \"uPointA\",                    value : [0.0, 0.0, 0.0] },\r\n\t\t\t\"uPointB\"                    : { semantic : \"uPointB\",                    value : [1.0, 1.0, 1.0] }\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n// multiple lines/points rendering\r\n_createMultiLinesPointstechnique : function () {\r\n\tvar gl = this.ui.gl;\r\n\tvar technique = new SglTechnique(gl, {\r\n\t\tvertexShader : \"\\\r\n\t\t\tprecision highp float;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   mat4 uWorldViewProjectionMatrix;                            \\n\\\r\n\t\t\tuniform   float uPointSize;  \t\t\t\t                          \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tattribute vec3 aPosition;                                             \\n\\\r\n\t\t\tattribute vec3 aNormal;                                               \\n\\\r\n\t\t\tattribute vec4 aColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvarying   vec3 vNormal;                                               \\n\\\r\n\t\t\tvarying   vec4 vColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tvColor      = aColor;                                             \\n\\\r\n\t\t\t\tgl_Position = uWorldViewProjectionMatrix * vec4(aPosition, 1.0);  \\n\\\r\n\t\t\t\tgl_PointSize = uPointSize;\t\t\t\t \t\t\t\t\t \t  \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tfragmentShader : \"\\\r\n\t\t#extension GL_EXT_frag_depth : enable\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\tprecision highp float;\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   vec4 uColorID;\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tuniform   float uZOff;\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvarying   vec4 vColor;                                                \\n\\\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \\n\\\r\n\t\t\tvoid main(void)                                                       \\n\\\r\n\t\t\t{                                                                     \\n\\\r\n\t\t\t\tgl_FragColor = uColorID;                                          \\n\\\r\n\t\t\t\tgl_FragDepthEXT = gl_FragCoord.z - uZOff;\t\t\t\t\t\t  \\n\\\r\n\t\t\t}                                                                     \\n\\\r\n\t\t\",\r\n\t\tvertexStreams : {\r\n\t\t\t\"aNormal\" : [ 0.0, 0.0, 0.0 ],\r\n\t\t\t\"aColor\"  : [ 0.8, 0.8, 0.8, 1.0 ]\r\n\t\t},\r\n\t\tglobals : {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : { semantic : \"uWorldViewProjectionMatrix\", value : SglMat4.identity() },\r\n\t\t\t\"uColorID\"                   : { semantic : \"uColorID\",                   value : [1.0, 0.5, 0.25, 1.0] },\r\n\t\t\t\"uPointSize\"                 : { semantic : \"uPointSize\",                 value : 1.0 },\r\n\t\t\t\"uZOff\"                      : { semantic : \"uZOff\",                      value : 0.0 },\r\n\t\t}\r\n\t});\r\n\r\n\treturn technique;\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// SUPPORT FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_onMeshReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_onTextureReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_onBackgroundReady : function () {\r\n\tthis._objectLoaded();\r\n},\r\n\r\n_objectLoaded : function () {\r\n\tthis._objectsToLoad--;\r\n\tthis._testReady();\r\n},\r\n\r\n_testReady : function () {\r\n\tif (this._objectsToLoad != 0) return;\r\n\t// Colin Addition\r\n\tif (this._onLoadedEvent && this._onLoadedEvent != \"null\") {\r\n\t\tvar that = this;\r\n\t\tsetTimeout(function () {\r\n\t\t\tthat._onLoadedEvent();\r\n\t\t}, 1500);\r\n\r\n\t}\r\n\tthis._sceneReady = this._scenePrepare();\r\n\r\n\tthis.repaint();\r\n},\r\n\r\n_scenePrepare : function () {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar spots     = this._scene.spots;\r\n\tfor (var mesh in meshes) {\r\n\t\tif (!meshes[mesh].renderable) continue;\r\n\t\tfor (var inst in instances)\r\n\t\t\tif (mesh == instances[inst].mesh)\r\n\t\t\t\t\tinstances[inst].rendermode = meshes[mesh].renderable.renderMode[0];\r\n\t\tfor (var spt in spots)\r\n\t\t\tif (mesh == spots[spt].mesh)\r\n\t\t\t\t\tspots[spt].rendermode = meshes[mesh].renderable.renderMode[0];\r\n\t}\r\n\treturn true;\r\n},\r\n\r\n_isSceneReady : function () {\r\n\tvar r = (this._scene && this._sceneParsed && this._sceneReady);\r\n\treturn r;\r\n},\r\n\r\n_pickingRefresh: function(x,y) {\r\n\tthis._pickpoint[0] = x;\r\n\tthis._pickpoint[1] = y;\r\n\r\n\tvar pickedPixel;\r\n\tvar ID, cursor;\r\n\r\n\tif(this._onEndPickingPoint||this._onEndMeasurement||this._onPickedSpot||this._onEnterSpot||this._onLeaveSpot){\r\n\t\tpickedPixel = this._drawScenePickingSpots();\r\n\t\tID = this._Color2ID(pickedPixel);\r\n\t\tif(this._lastSpotID != ID){\r\n\t\t\tvar spots = this._scene.spots;\r\n\t\t\tif(ID != 0){\r\n\t\t\t\tfor (var spt in spots) {\r\n\t\t\t\t\tif (spots[spt].ID == ID) {\r\n\t\t\t\t\t\tthis._pickedSpot = spt;\r\n\t\t\t\t\t\tif(this._onHover){\r\n\t\t\t\t\t\t\tcursor = spots[spt].cursor;\r\n\t\t\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring){\r\n\t\t\t\t\t\t\t\tthis._lastCursor = document.getElementById(this.ui.canvas.id).style.cursor;\r\n\t\t\t\t\t\t\t\tdocument.getElementById(this.ui.canvas.id).style.cursor = cursor;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(this._onLeaveSpot && this._lastPickedSpot!=null)  this._onLeaveSpot(this._lastPickedSpot);\r\n\t\t\t\t\t\t\tif(this._onEnterSpot && this._pickedSpot!=null) this._onEnterSpot(this._pickedSpot);\r\n\t\t\t\t\t\t\tthis.repaint();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis._lastPickedSpot = spt;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis._lastSpotID = ID;\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tthis._pickedSpot = null;\r\n\t\t\t\tif(this._onHover){\r\n\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring) document.getElementById(this.ui.canvas.id).style.cursor = \"default\";\r\n\t\t\t\t\tif(this._onLeaveSpot && this._lastPickedSpot!=null) this._onLeaveSpot(this._lastPickedSpot);\r\n\t\t\t\t\t//if(this._onEnterSpot) this._onEnterSpot(this._pickedSpot);\r\n\t\t\t\t\tthis._lastPickedSpot = null;\r\n\t\t\t\t\tthis.repaint();\r\n\t\t\t\t}\r\n\t\t\t\tthis._lastSpotID = ID;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(this._onEndPickingPoint||this._onEndMeasurement||this._onPickedInstance||this._onEnterInstance||this._onLeaveInstance){\r\n\t\tpickedPixel = this._drawScenePickingInstances();\r\n\t\tID = this._Color2ID(pickedPixel);\r\n\t\tif(this._lastInstanceID == ID && !(this._onPickedSpot||this._onEnterSpot||this._onLeaveSpot)) return;\r\n\t\tif(ID != 0){\r\n\t\t\tvar instances = this._scene.modelInstances;\r\n\t\t\tfor (var inst in instances) {\r\n\t\t\t\tif (instances[inst].ID == ID) {\r\n\t\t\t\t\tthis._pickedInstance = inst;\r\n\t\t\t\t\tif(this._onHover){\r\n\t\t\t\t\t\tcursor = instances[inst].cursor;\r\n\t\t\t\t\t\tif(/*!this._movingLight ||*/ !this._isMeasuring){\r\n\t\t\t\t\t\t\tthis._lastCursor = cursor;\r\n\t\t\t\t\t\t\tif(this._pickedSpot==null)document.getElementById(this.ui.canvas.id).style.cursor = cursor;\r\n\t\t\t\t\t\t\tthis.repaint();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(this._onLeaveInstance && this._lastPickedInstance!=null)  this._onLeaveInstance(this._lastPickedInstance);\r\n\t\t\t\t\t\tif(this._onEnterInstance && this._pickedInstance!=null) this._onEnterInstance(this._pickedInstance);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._lastPickedInstance = inst;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tthis._pickedInstance = null;\r\n\t\t\tif(this._onHover){\r\n\t\t\t\tthis._lastCursor = \"default\";\r\n\t\t\t\tif((/*!this._movingLight ||*/ !this._isMeasuring) && this._pickedSpot==null) document.getElementById(this.ui.canvas.id).style.cursor = \"default\";\r\n\t\t\t\tif(this._onLeaveInstance && this._lastPickedInstance!=null)  this._onLeaveInstance(this._lastPickedInstance);\r\n\t\t\t\t//if(this._onEnterInstance) this._onEnterInstance(this._pickedInstance);\r\n\t\t\t\tthis.repaint();\r\n\t\t\t}\r\n\t\t\tthis._lastPickedInstance = null;\r\n\t\t}\r\n\t\tthis._lastInstanceID = ID;\r\n\t}\r\n},\r\n\r\n_measureRefresh : function (button, x, y, e) {\r\n//\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._isMeasuringDistance){\r\n\t\tthis._pickpoint[0] = x;\r\n\t\tthis._pickpoint[1] = y;\r\n\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\tif ((ppoint!=null)&&(this._measurementStage != 2)) {\r\n\t\t\tthis._pointA = ppoint;\r\n\t\t\tthis._measurementStage=2;\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if ((ppoint!=null)&&(this._measurementStage == 2)) {\r\n\t\t\tthis._pointB = ppoint;\r\n\t\t\tthis.measurement = SglVec3.length(SglVec3.sub(this._pointA, this._pointB));\r\n\t\t\tthis._measurementStage=3;\r\n\t\t\tthis.repaint();\r\n\t\t\tif(this._onEndMeasurement)\r\n\t\t\t\tthis._onEndMeasurement(this.measurement, [this._pointA[0], this._pointA[1], this._pointA[2]], [this._pointB[0], this._pointB[1], this._pointB[2]]);\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_startMeasurement  : function () {\r\n\tif (this._isMeasuringDistance) return;\r\n\tthis._isMeasuring = this._isMeasuringDistance = true;\r\n\tthis._measurementStage = 1; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0.0;\r\n\tthis.repaint();\r\n},\r\n\r\n_stopMeasurement  : function () {\r\n\tthis._isMeasuringDistance = false;\r\n\tif (!this._isMeasuringPickpoint) this._isMeasuring = this._isMeasuringDistance;\r\n\tthis._measurementStage = 0; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0.0;\r\n\tthis.repaint();\r\n},\r\n\r\n_pickpointRefresh : function (button, x, y, e) {\r\n//\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._isMeasuringPickpoint){\r\n\t\tthis._pickpoint[0] = x;\r\n\t\tthis._pickpoint[1] = y;\r\n\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\tif (ppoint!=null)\r\n\t\t{\r\n\t\t\tthis._pickedPoint = ppoint;\r\n\t\t\tthis._pickValid = true;\r\n\t\t\tif(this._onEndPickingPoint) this._onEndPickingPoint([this._pickedPoint[0], this._pickedPoint[1], this._pickedPoint[2]]);\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_startPickPoint : function () {\r\n\tif (this._isMeasuringPickpoint) return;\r\n\tthis._isMeasuring = this._isMeasuringPickpoint = true;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\n_stopPickPoint : function () {\r\n\tthis._isMeasuringPickpoint = false;\r\n\tif (!this._isMeasuringDistance) this._isMeasuring = this._isMeasuringPickpoint;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// DRAWING SUPPORT FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_setSceneCenterRadius : function () {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tthis.sceneCenter = [0.0, 0.0, 0.0];\r\n\tthis.sceneRadiusInv = 1.0;\r\n\r\n\tif(this._scene.space.centerMode == \"explicit\")\r\n\t{\r\n\t\tthis.sceneCenter = this._scene.space.explicitCenter;\r\n\t}\r\n\telse if(this._scene.space.centerMode == \"specific\"  && this._scene.space.whichInstanceCenter != \"\")\r\n\t{\r\n\t\tvar mesh = meshes[instances[this._scene.space.whichInstanceCenter].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\r\n\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(instances[this._scene.space.whichInstanceCenter].transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\r\n\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\tthis.sceneCenter = instCenter;\r\n\t\t}\r\n\t}\r\n\telse if(this._scene.space.centerMode == \"scene\")\r\n\t{\r\n\t\tvar smin = SglVec3.maxNumber();\r\n\t\tvar smax = SglVec3.minNumber();\r\n\t\tvar imin = [0.0, 0.0, 0.0];\r\n\t\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\t\tif(imin[0] < smin[0]) smin[0] = imin[0];\r\n\t\t\t\tif(imin[1] < smin[1]) smin[1] = imin[1];\r\n\t\t\t\tif(imin[2] < smin[2]) smin[2] = imin[2];\r\n\t\t\t\tif(imax[0] > smax[0]) smax[0] = imax[0];\r\n\t\t\t\tif(imax[1] > smax[1]) smax[1] = imax[1];\r\n\t\t\t\tif(imax[2] > smax[2]) smax[2] = imax[2];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.sceneCenter = [ (smax[0] + smin[0])/2.0, (smax[1] + smin[1])/2.0, (smax[2] + smin[2])/2.0 ];\r\n\t}\r\n\telse //if(this._scene.space.centerMode == \"first\")\r\n\t{\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tthis.sceneCenter = instCenter;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(this._scene.space.radiusMode == \"explicit\")\r\n\t{\r\n\t\tthis.sceneRadiusInv = 1.0 / this._scene.space.explicitRadius;\r\n\t}\r\n\telse if(this._scene.space.radiusMode == \"specific\" && this._scene.space.whichInstanceRadius != \"\")\r\n\t{\r\n\t\tvar mesh = meshes[instances[this._scene.space.whichInstanceRadius].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\tvar vector111 = SglVec3.one();\r\n\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[this._scene.space.whichInstanceRadius].transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\r\n\t\t\tthis.sceneRadiusInv = 1.0 / (radius*scalefactor);\r\n\t\t}\r\n\t}\r\n\telse if(this._scene.space.radiusMode == \"scene\")\r\n\t{\r\n\t\tvar smin = SglVec3.maxNumber();\r\n\t\tvar smax = SglVec3.minNumber();\r\n\t\tvar imin = [0.0, 0.0, 0.0];\r\n\t\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\t\tif(imin[0] < smin[0]) smin[0] = imin[0];\r\n\t\t\t\tif(imin[1] < smin[1]) smin[1] = imin[1];\r\n\t\t\t\tif(imin[2] < smin[2]) smin[2] = imin[2];\r\n\t\t\t\tif(imax[0] > smax[0]) smax[0] = imax[0];\r\n\t\t\t\tif(imax[1] > smax[1]) smax[1] = imax[1];\r\n\t\t\t\tif(imax[2] > smax[2]) smax[2] = imax[2];\r\n\t\t\t}\r\n\t\t}\r\n\t\tvar scenter = [ (smax[0] + smin[0])/2.0, (smax[1] + smin[1])/2.0, (smax[2] + smin[2])/2.0 ]\r\n\t\tthis.sceneRadiusInv = 1.0 / SglVec3.length(SglVec3.sub(smax, scenter));\r\n\t}\r\n\telse //if(this._scene.space.radiusMode == \"first\")\r\n\t{\r\n\t\tfor (var inst in instances) {\r\n\t\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\t\tif((mesh)&&(mesh.renderable)){\r\n\t\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\t\tvar vector111 = SglVec3.one();\r\n\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\r\n\t\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\r\n\t\t\t\tthis.sceneRadiusInv = 1.0 / (radius*scalefactor);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_destroyPickFramebuffer : function () {\r\n\tif (this.pickFramebuffer) {\r\n\t\tthis.pickFramebuffer.destroy();\r\n\t\tthis.pickFramebuffer = null;\r\n\t}\r\n\tif (this.pickColorTexture) {\r\n\t\tthis.pickColorTexture.destroy();\r\n\t\tthis.pickColorTexture = null;\r\n\t}\r\n\tif (this.pickDepthRenderbuffer) {\r\n\t\tthis.pickDepthRenderbuffer.destroy();\r\n\t\tthis.pickDepthRenderbuffer = null;\r\n\t}\r\n},\r\n\r\n_createPickFramebuffer : function (width, height) {\r\n\tif (this.pickFramebuffer && (this.pickFramebuffer.width == width) && (this.pickFramebuffer.height == height))\r\n\t\treturn;\r\n\telse\r\n\t\tthis._destroyPickFramebuffer();\r\n\r\n\tvar gl = this.ui.gl;\r\n\r\n\tthis.pickColorTexture = new SglTexture2D(gl, {\r\n\t\tinternalFormat : gl.RGBA,\r\n\t\twidth          : width,\r\n\t\theight         : height\r\n\t});\r\n\r\n\tthis.pickDepthRenderbuffer = new SglRenderbuffer(gl, {\r\n\t\tinternalFormat : gl.DEPTH_COMPONENT16,\r\n\t\twidth          : width,\r\n\t\theight         : height\r\n\t});\r\n\r\n\tthis.pickFramebuffer = new SglFramebuffer(gl, {\r\n\t\tcolor : this.pickColorTexture,\r\n\t\tdepth : this.pickDepthRenderbuffer,\r\n\t\tautoViewport : true\r\n\t});\r\n},\r\n\r\n_setupDraw : function () {\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar space    = this._scene.space;\r\n\r\n\tthis.ui.gl.viewport(0, 0, width, height);\r\n\r\n\tvar FOV   = space.cameraFOV;\r\n\tvar nearP = space.cameraNearFar[0];\r\n\tvar farP  = space.cameraNearFar[1];\r\n\r\n\t// getting scale/center for scene\r\n\tthis._setSceneCenterRadius();\r\n\r\n\txform.projection.loadIdentity();\r\n\r\n\tif(space.cameraType == \"orthographic\")\r\n\t{\r\n\t\t//default camera distance in orthographic view is \"as large as scene size\"\r\n\t\t// then, if the trackball is able to provide a better value, we use it\r\n\t\tvar cDistance = 1.0;\r\n\t\tif(typeof this.trackball.distance != \"undefined\")\r\n\t\t\tcDistance = this.trackball.distance;\r\n\t\tvar a = cDistance * SpiderGL.Math.tan(sglDegToRad(FOV) / 2);\r\n\t\tvar b = a * width/height;\r\n\r\n\t\txform.projection.ortho([-b, -a, nearP], [b, a, farP]);\r\n\t}\r\n\telse\r\n\t{\r\n\t\txform.projection.perspective(sglDegToRad(FOV), width/height, nearP, farP);\r\n\t}\r\n\r\n\txform.view.loadIdentity();\r\n\txform.view.lookAt([0.0, 0.0, 0.0], [0.0, 0.0, -1.0], [0.0, 1.0, 0.0]);\r\n\tthis.viewMatrix = xform.viewMatrix;\r\n\r\n\txform.model.loadIdentity();\r\n\txform.model.multiply(this.trackball.matrix);\r\n\r\n\t// scale to unit box + recenter\r\n\txform.model.scale([this.sceneRadiusInv, this.sceneRadiusInv, this.sceneRadiusInv]);\r\n\txform.model.translate(SglVec3.neg(this.sceneCenter));\r\n\r\n\tNexus.beginFrame(this.ui.gl, this.ui.framesPerSecond);\r\n},\r\n\r\n_ID2Color : function (ID) {\r\n\tvar intID = ID | 0;\r\n\tvar IDr = intID % 10;\r\n\tvar IDg = ((intID-IDr) / 10) % 10;\r\n\tvar IDb = ((((intID-IDr) / 10) - IDg) / 10) % 10;\r\n\r\n\tvar colorID = [IDr * 0.1, IDg * 0.1, IDb * 0.1, 1.0];\r\n\treturn colorID;\r\n},\r\n\r\n_Color2ID : function (color) {\r\n\tvar IDr =  Math.round(((color[0])/255.0) / 0.1)        | 0;\r\n\tvar IDg = (Math.round(((color[1])/255.0) / 0.1) * 10)  | 0;\r\n\tvar IDb = (Math.round(((color[2])/255.0) / 0.1) * 100) | 0;\r\n\r\n\tvar ID = (IDr + IDg + IDb) | 0;\r\n\treturn ID;\r\n},\r\n\r\n_onPlyLoaded : function (req, thatmesh, gl) {\r\n\tvar plyData = req.buffer;\r\n\tvar modelDescriptor = importPly(plyData);\r\n\tvar TMR = thatmesh.renderable = new SglModel(gl, modelDescriptor);\r\n\r\n\tTMR.renderMode  = modelDescriptor.extra.renderMode;\r\n\tTMR.boundingBox = modelDescriptor.extra.boundingBox;\r\n\r\n\t// center and radius\r\n\tTMR.datasetCenter = [0.0, 0.0, 0.0];\r\n\tTMR.datasetRadius = 1.0;\r\n\r\n\tTMR.datasetCenter[0] = (TMR.boundingBox.max[0] + TMR.boundingBox.min[0]) / 2.0;\r\n\tTMR.datasetCenter[1] = (TMR.boundingBox.max[1] + TMR.boundingBox.min[1]) / 2.0;\r\n\tTMR.datasetCenter[2] = (TMR.boundingBox.max[2] + TMR.boundingBox.min[2]) / 2.0;\r\n\r\n\tTMR.datasetRadius = Math.sqrt( Math.pow((TMR.boundingBox.max[0] - TMR.boundingBox.min[0]),2) +\r\n\t\t\t\t\t\t\t\t   Math.pow((TMR.boundingBox.max[1] - TMR.boundingBox.min[1]),2) +\r\n\t\t\t\t\t\t\t\t   Math.pow((TMR.boundingBox.max[2] - TMR.boundingBox.min[2]),2) ) / 2.0;\r\n\r\n\t// texture\r\n\tif(modelDescriptor.extra.textureUrl) {\r\n\t\tvar that = this;\r\n\t\tvar texUrl = \"\";\r\n\t\tvar tmpUrl = req._url.split(\"/\");\r\n\t\tfor (var j=0; j<tmpUrl.length-1; ++j) texUrl += tmpUrl[j].concat(\"/\");\r\n\t\ttexUrl = texUrl.concat(modelDescriptor.extra.textureUrl);\r\n\t\tTMR.texture = new SglTexture2D(gl, {\r\n\t\t\turl       : texUrl,\r\n\t\t\tonError   : function () { TMR.hasTexture = false; that._onMeshReady(); },\r\n\t\t\tonSuccess : function () { TMR.hasTexture = true; that._onMeshReady(); }\r\n\t\t});\r\n\t}\r\n\telse this._onMeshReady();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// DRAWING SCENE FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\n_drawScene : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrFacesProgram    = this.facesProgram;\r\n\tvar CurrPointsProgram   = this.pointsProgram;\r\n\tvar CurrFacesTechnique  = this.faceTechnique;\r\n\tvar CurrPointsTechnique = this.pointTechnique;\r\n\tvar CCProgram          = this.colorShadedProgram;\r\n\tvar CCTechnique        = this.colorShadedTechnique;\r\n\tvar lineTechnique      = this.simpleLineTechnique;\r\n\tvar entitiesTechnique  = this.multiLinesPointsTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar entities  = this._scene.entities;\r\n\tvar spots     = this._scene.spots;\r\n\tvar space     = this._scene.space;\r\n\tvar config    = this._scene.config;\r\n\tvar bkg       = this._scene.background.color;\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tgl.clearColor(bkg[0], bkg[1], bkg[2], bkg[3]);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\t\r\n\t// draw non-transparent geometries\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\t\tif (instance.useTransparency) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\t\tvar thisClipBordersize = config.showClippingBorder?config.clippingBorderSize:0.0;\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uWorldViewMatrix\"           : xform.modelViewMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uAlpha\"                     : 1.0,\r\n\t\t\t\"uUseSolidColor\"             : instance.useSolidColor,\r\n\t\t\t\"uUseLighting\"               : space.sceneLighting && instance.useLighting,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uSpecularColor\"             : instance.specularColor,\r\n\t\t\t\"uSolidColor\"                : instance.color,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uClipColor\"                 : config.clippingBorderColor,\r\n\t\t\t\"uClipColorSize\"             : thisClipBordersize\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\tprogram = CurrFacesProgram;\r\n\t\t\telse\r\n\t\t\t\tprogram = CurrPointsProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\tvar technique;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\ttechnique = CurrFacesTechnique;\r\n\t\t\telse\r\n\t\t\t\ttechnique = CurrPointsTechnique;\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(technique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.setTexture(0, renderable.texture);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw transparent geometries\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\t\tif (!instance.useTransparency) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\t\tvar thisClipBordersize = config.showClippingBorder?config.clippingBorderSize:0.0;\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uWorldViewMatrix\"           : xform.modelViewMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uAlpha\"                     : instance.alpha,\r\n\t\t\t\"uUseSolidColor\"             : instance.useSolidColor,\r\n\t\t\t\"uUseLighting\"               : space.sceneLighting && instance.useLighting,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uSpecularColor\"             : instance.specularColor,\r\n\t\t\t\"uSolidColor\"                : instance.color,\r\n\t\t\t\"uClipPoint\"                 : [0.0, 0.0, 0.0],\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uClipColor\"                 : config.clippingBorderColor,\r\n\t\t\t\"uClipColorSize\"             : thisClipBordersize\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\tprogram = CurrFacesProgram;\r\n\t\t\telse\r\n\t\t\t\tprogram = CurrPointsProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\tvar technique;\r\n\t\t\tif(instance.rendermode==\"FILL\")\r\n\t\t\t\ttechnique = CurrFacesTechnique;\r\n\t\t\telse\r\n\t\t\t\ttechnique = CurrPointsTechnique;\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(technique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.setTexture(0, renderable.texture);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw picked point (if valid)\r\n\tif (this._pickValid) {\r\n\t\t// GLstate setup\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.push();\r\n\r\n\t\tvar lineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.pickedpointColor[0], config.pickedpointColor[1], config.pickedpointColor[2], 1.0],\r\n\t\t\t\"uPointA\"                    : this._pickedPoint,\r\n\t\t\t\"uPointB\"                    : this._pickedPoint\r\n\t\t};\r\n\r\n\t\t//drawing points\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\tlineUniforms[\"uLineColor\"] = [config.pickedpointColor[0] * 0.4, config.pickedpointColor[1] * 0.5, config.pickedpointColor[2] * 0.6, 0.5];\r\n\r\n\t\tgl.depthFunc(gl.GREATER);\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw measurement line (if any)\r\n\tif (this._measurementStage >= 2) {// 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\t\t// GLstate setup\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.push();\r\n\r\n\t\tvar lineUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uLineColor\"                 : [config.measurementColor[0], config.measurementColor[1], config.measurementColor[2], 1.0],\r\n\t\t\t\"uPointA\"                    : this._pointA,\r\n\t\t\t\"uPointB\"                    : (this._measurementStage==2)?this._pointA:this._pointB,\r\n\t\t};\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"LINE\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\tlineUniforms[\"uLineColor\"] = [config.measurementColor[0] * 0.4, config.measurementColor[1] * 0.5, config.measurementColor[2] * 0.6, 0.5];\r\n\r\n\t\tgl.depthFunc(gl.GREATER);\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\t//drawing points and line\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(lineTechnique);\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(lineUniforms);\r\n\t\t\trenderer.setPrimitiveMode(\"LINE\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\trenderer.setModel(this.simpleLineModel);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\tgl.depthFunc(gl.LESS);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw entities\r\n\tfor (var ent in entities) {\r\n\t\tvar entity = entities[ent];\r\n\t\tif (!entity.visible) continue;\r\n\t\tif (!entity.renderable) continue;\r\n\t\t\t\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(entity.transform.matrix);\r\n\t\t\r\n\t\tvar entityUniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uPointSize\"                 : 8.0,//config.pointSize,\r\n\t\t\t\"uColorID\"                   : entity.color,\r\n\t\t\t\"uZOff\"                      : entity.zOff,\r\n\t\t};\t\t\r\n\r\n\t\tif(entity.useTransparency)\r\n\t\t{\r\n\t\t\tgl.depthMask(false);\r\n\t\t\tgl.enable(gl.BLEND);\r\n\t\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\t\t}\r\n\t\t//drawing entity\r\n\t\trenderer.begin();\r\n\t\t\trenderer.setTechnique(entitiesTechnique);\r\n\t\t\tif (entity.type == \"lines\")\r\n\t\t\t\trenderer.setPrimitiveMode(\"LINE\");\r\n\t\t\telse if (entity.type == \"points\")\r\n\t\t\t\trenderer.setPrimitiveMode(\"POINT\");\r\n\t\t\telse if (entity.type == \"triangles\")\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\trenderer.setDefaultGlobals();\r\n\t\t\trenderer.setGlobals(entityUniforms);\r\n\t\t\trenderer.setModel(entity.renderable);\r\n\t\t\trenderer.renderModel();\r\n\t\trenderer.end();\r\n\t\t\r\n\t\tif(entity.useTransparency)\r\n\t\t{\r\n\t\t\tgl.depthMask(true);\r\n\t\t\tgl.disable(gl.BLEND);\r\n\t\t}\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw transparent spot geometries\r\n\tfor (var spt in spots) {\r\n\t\tvar spot = spots[spt];\r\n\t\tvar mesh = meshes[spot.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!spot.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(spot.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\"uPointSize\"                 : config.pointSize,\r\n\t\t\t\"uColorID\"                   : [spot.color[0], spot.color[1], spot.color[2], (spt == this._pickedSpot)?spot.alphaHigh:spot.alpha]\r\n\t\t}\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tvar program = CCProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\tif(spot.useStencil)\r\n\t\t\t\t{\r\n\t\t\t\t\tgl.clear(gl.STENCIL_BUFFER_BIT); //reset stencil\r\n\t\t\t\t\t//first pass\r\n\t\t\t\t\tgl.colorMask(false, false, false, false);\r\n\t\t\t\t\tgl.enable(gl.STENCIL_TEST);\r\n\t\t\t\t\tgl.stencilFunc(gl.ALWAYS, 0, 255);\r\n\t\t\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT);\r\n\t\t\t\t\trenderer.renderModel();\r\n\r\n\t\t\t\t\t//second pass\r\n\t\t\t\t\tgl.colorMask(true, true, true, true);\r\n\t\t\t\t\tgl.stencilOp(gl.KEEP, gl.KEEP, gl.INVERT); // Don't change the stencil buffer...\r\n\t\t\t\t\tgl.stencilFunc(gl.EQUAL, 1, 0x01); // The stencil buffer contains the shadow values...\r\n\t\t\t\t\trenderer.renderModel();\r\n\r\n\t\t\t\t\tgl.disable(gl.STENCIL_TEST);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\trenderer.renderModel();\r\n\t\t\t\t}\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// draw clipping plane (if any)\r\n\tif(config.showClippingPlanes)\r\n\t{\r\n\t\t// GLstate setup\r\n\t\tgl.depthMask(false);\r\n\t\tgl.enable(gl.BLEND);\r\n\t\tgl.blendFunc(gl.SRC_ALPHA, gl.ONE);\r\n\r\n\t\tif(SglVec3.length([this._clipPlane[0], this._clipPlane[1], this._clipPlane[2]]) > 0.0) {\r\n\t\t\tvar planepoint = [0.0, 0.0, 0.0];\r\n\r\n\t\t\tvar k = SglVec3.dot(this._sceneBboxCenter, [this._clipPlane[0], this._clipPlane[1], this._clipPlane[2]]) + this._clipPlane[3];\r\n\t\t\tplanepoint[0] = this._sceneBboxCenter[0] - (this._clipPlane[0] * k);\r\n\t\t\tplanepoint[1] = this._sceneBboxCenter[1] - (this._clipPlane[1] * k);\r\n\t\t\tplanepoint[2] = this._sceneBboxCenter[2] - (this._clipPlane[2] * k);\r\n\r\n\t\t\tvar rotm = SglMat4.identity();\r\n\t\t\trotm = SglMat4.mul(rotm, SglMat4.rotationAngleAxis(sglDegToRad(this._clipPlaneAH), [0.0, -1.0, 0.0]));\r\n\t\t\trotm = SglMat4.mul(rotm, SglMat4.rotationAngleAxis(sglDegToRad(this._clipPlaneAV), [0.0, 0.0, 1.0]));\r\n\r\n\t\t\tvar psize = this._sceneBboxDiag;\r\n\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate(planepoint);\r\n\t\t\txform.model.multiply(rotm);\r\n\t\t\txform.model.scale([psize, psize, psize]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [1.0, 0.0, 1.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadXModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[0] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._clipPoint[0], this._sceneBboxCenter[1], this._sceneBboxCenter[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [1.0, 0.0, 0.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadXModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[1] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._sceneBboxCenter[0], this._clipPoint[1], this._sceneBboxCenter[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [0.0, 1.0, 0.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadYModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\tif(this._clipAxis[2] != 0.0) {\r\n\t\t\txform.model.push();\r\n\t\t\txform.model.translate([this._sceneBboxCenter[0], this._sceneBboxCenter[1], this._clipPoint[2]]);\r\n\t\t\txform.model.scale([(this._sceneBboxMax[0] - this._sceneBboxMin[0]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[1] - this._sceneBboxMin[1]),\r\n\t\t\t\t\t\t\t   (this._sceneBboxMax[2] - this._sceneBboxMin[2])]);\r\n\r\n\t\t\tvar QuadUniforms = {\r\n\t\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\t\"uViewSpaceNormalMatrix\"     : xform.viewSpaceNormalMatrix,\r\n\t\t\t\t\"uViewSpaceLightDirection\"   : this._lightDirection,\r\n\t\t\t\t\"uColorID\"                   : [0.0, 0.0, 1.0, 0.25]\r\n\t\t\t};\r\n\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setTechnique(CCTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(\"FILL\");\r\n\t\t\t\trenderer.setGlobals(QuadUniforms);\r\n\t\t\t\trenderer.setModel(this.simpleQuadZModel);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\trenderer.end();\r\n\r\n\t\t\txform.model.pop();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\tgl.disable(gl.BLEND);\r\n\t\tgl.depthMask(true);\r\n\t}\r\n\tNexus.endFrame(this.ui.gl);\r\n\r\n\t// saving image, if necessary\r\n\tif(this.isCapturingScreenshot){\r\n\t    this.isCapturingScreenshot = false;\r\n\t\tthis.screenshotData = this.ui._canvas.toDataURL('image/png',1).replace(\"image/png\", \"image/octet-stream\");\r\n\t\tif(this._scene.config.autoSaveScreenshot)\r\n\t\t{\r\n\t\t\tvar currentdate = new Date();\r\n\t\t\tvar fName = this._scene.config.screenshotBaseName + currentdate.getHours() + currentdate.getMinutes() + currentdate.getSeconds() + \".png\";\r\n\t\t\t\r\n\t\t\tif(this.ui._canvas.msToBlob) // IE or EDGEhtml\r\n\t\t\t{\r\n\t\t\t\tconsole.error(\"IE and EDGEhtml cannot save images\");\r\n\t\t\t\tvar blob = this.ui._canvas.msToBlob();\r\n                window.navigator.msSaveBlob(blob, fName);\r\n\t\t\t}\r\n\t\t\telse // every other browser\r\n\t\t\t{\r\n\t\t\t\tvar a  = document.createElement('a');\t\t\r\n\t\t\t\ta.href = this.screenshotData;\r\n\t\t\t\ta.download = fName;\r\n\t\t\t\ta.target=\"_blank\";\r\n\t\t\t\ta.click();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n},\r\n\r\n_drawScenePickingXYZ : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.utilsProgram;\r\n\tvar CurrTechnique = this.utilsTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\t\tif (!instance.measurable) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uBackFaceColor\"             : instance.backfaceColor,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uMode\"                      : 1.0\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\tvar rr = pixel[0] / 255.0;\r\n\tvar gg = pixel[1] / 255.0;\r\n\tvar bb = pixel[2] / 255.0;\r\n\tvar aa = pixel[3] / 255.0;\r\n\tvar depth = aa  + ( bb / (255.0)) + ( gg / (255.0*255.0)) + ( rr / (255.0*255.0*255.0));\r\n\r\n\tvar ppointc;\r\n\r\n\tif((rr==0.0) && (gg==0.0) && (bb==0.0))\r\n\t\treturn(null);\r\n\telse\r\n\t\tppointc = xform.unproject([this._pickpoint[0]/width,this._pickpoint[1]/height,depth]);\r\n\r\n\treturn([ppointc[0], ppointc[1], ppointc[2]]);\r\n},\r\n\r\n_drawScenePickingInstances : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.utilsProgram;\r\n\tvar CurrTechnique = this.utilsTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar modelMatrix = SglMat4.identity();\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, space.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, instance.transform.matrix);\r\n\t\tmodelMatrix = SglMat4.mul(modelMatrix, mesh.transform.matrix);\r\n\t\tvar thisClipAxis = instance.clippable?this._clipAxis:[0.0, 0.0, 0.0];\r\n\t\tvar thisClipPlane = instance.clippable?this._clipPlane:[0.0, 0.0, 0.0, 0.0];\r\n\r\n\t\tvar colorID = this._ID2Color(instance.ID);\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uModelMatrix\"               : modelMatrix,\r\n\t\t\t\"uClipPoint\"                 : this._clipPoint,\r\n\t\t\t\"uClipAxis\"                  : thisClipAxis,\r\n\t\t\t\"uClipPlane\"                 : thisClipPlane,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : colorID,\r\n\t\t\t\"uMode\"                      : 2.0\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\treturn pixel;\r\n},\r\n\r\n_drawScenePickingSpots : function () {\r\n\tvar gl       = this.ui.gl;\r\n\tvar width    = this.ui.width;\r\n\tvar height   = this.ui.height;\r\n\tvar xform    = this.xform;\r\n\tvar renderer = this.renderer;\r\n\tvar CurrProgram   = this.utilsProgram;\r\n\tvar CurrTechnique = this.utilsTechnique;\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar spots = this._scene.spots;\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar space = this._scene.space;\r\n\tvar pixel = new Uint8Array(4);\r\n\r\n\t// picking FB\r\n\tthis._createPickFramebuffer(width, height);\r\n\r\n\t// basic setup, matrices for projection & view\r\n\tthis._setupDraw();\r\n\r\n\t// clear buffer\r\n\tthis.pickFramebuffer.bind();\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n\tgl.enable(gl.DEPTH_TEST);\r\n\tthis.pickFramebuffer.unbind();\r\n\r\n\t// first pass, draw invisible instances, for occlusion\r\n\tfor (var inst in instances) {\r\n\t\tvar instance = instances[inst];\r\n\t\tvar mesh     = meshes[instance.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!instance.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(instance.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : [0.0, 0.0, 0.0, 0.0],\r\n\t\t\t\"uMode\"                      : 2.0\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(instance.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t}\r\n\r\n\t// second pass, draw color coded spots, for picking\r\n\tfor (var spt in spots) {\r\n\t\tvar spot = spots[spt];\r\n\t\tvar mesh     = meshes[spot.mesh];\r\n\t\tif (!mesh) continue;\r\n\t\tvar renderable = mesh.renderable;\r\n\t\tif (!renderable) continue;\r\n\t\tif (!spot.visible) continue;\r\n\r\n\t\t// GLstate setup\r\n\t\txform.model.push();\r\n\t\txform.model.multiply(space.transform.matrix);\r\n\t\txform.model.multiply(spot.transform.matrix);\r\n\t\txform.model.multiply(mesh.transform.matrix);\r\n\r\n\t\tvar colorID = this._ID2Color(spot.ID);\r\n\t\tvar uniforms = {\r\n\t\t\t\"uWorldViewProjectionMatrix\" : xform.modelViewProjectionMatrix,\r\n\t\t\t\"uPointSize\"                 : this._scene.config.pointSize,\r\n\t\t\t\"uColorID\"                   : colorID,\r\n\t\t\t\"uMode\"                      : 2.0\r\n\t\t};\r\n\r\n\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\tif (!renderable.isReady) continue;\r\n\t\t\tvar nexus = renderable;\r\n\t\t\tnexus.updateView([0, 0, width, height], xform.projectionMatrix, xform.modelViewMatrix);\r\n\r\n\t\t\tthis.pickFramebuffer.bind();\r\n\r\n\t\t\tvar program = CurrProgram;\r\n\t\t\tprogram.setUniforms(uniforms);\r\n\t\t\tprogram.bind();\r\n\t\t\t\tnexus.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\tnexus.render();\r\n\t\t\tprogram.unbind();\r\n\r\n\t\t\tthis.pickFramebuffer.unbind();\r\n\t\t}\r\n\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\trenderer.begin();\r\n\t\t\t\trenderer.setFramebuffer(this.pickFramebuffer);\r\n\t\t\t\trenderer.setTechnique(CurrTechnique);\r\n\t\t\t\trenderer.setDefaultGlobals();\r\n\t\t\t\trenderer.setPrimitiveMode(spot.rendermode);\r\n\t\t\t\trenderer.setGlobals(uniforms);\r\n\t\t\t\trenderer.setModel(renderable);\r\n\t\t\t\trenderer.renderModel();\r\n\t\t\t\trenderer.setFramebuffer(null);\r\n\t\t\trenderer.end();\r\n\t\t}\r\n\r\n\t\t// GLstate cleanup\r\n\t\txform.model.pop();\r\n\t\tgl.depthMask(true);\r\n\t}\r\n\r\n\tthis.pickFramebuffer.readPixels(pixel, {\r\n\t\tx      : this._pickpoint[0],\r\n\t\ty      : this._pickpoint[1],\r\n\t\twidth  : 1,\r\n\t\theight : 1,\r\n\t\tformat : gl.RGBA,\r\n\t\ttype   : gl.UNSIGNED_BYTE\r\n\t});\r\n\r\n\treturn pixel;\r\n},\r\n\r\n_drawNull : function () {\r\n\tvar gl = this.ui.gl;\r\n\tgl.clearColor(0.0, 0.0, 0.0, 0.0);\r\n\tgl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT | gl.STENCIL_BUFFER_BIT);\r\n},\r\n\r\n// creates mesh models\r\n_createMeshModels : function () {\r\n\tvar that = this;\r\n\tvar gl = this.ui.gl;\r\n\r\n\tfor(var keys = Object.keys(this._scene.meshes), i = keys.length-1; i >= 0; i--) {\r\n\t\tvar m = keys[i];\r\n\r\n\t\tvar mesh = this._scene.meshes[m];\r\n\r\n\t\tif (!mesh.url) continue;\r\n\r\n\t\tif (this._objectsToProcess == 0) this._testReady();\r\n\t\telse {\r\n\t\t\tthis._objectsToProcess--;\r\n\r\n\t\t\tif(mesh.mType == null)\r\n\t\t\t{\r\n\t\t\t\tvar ext = mesh.url.split('.').pop().split(/\\#|\\?/)[0].toLowerCase();\r\n\t\t\t\tif((ext === \"nxs\") || (ext === \"nxz\")) \r\n\t\t\t\t\tmesh.mType = \"nexus\";\r\n\t\t\t\telse if(ext === \"ply\")\r\n\t\t\t\t\tmesh.mType = \"ply\";\r\n\t\t\t}\r\n\r\n\t\t\tif(mesh.mType === \"nexus\") {\r\n\t\t\t\tvar nexus_instance = new Nexus.Renderer(gl);\r\n\t\t\t\tnexus_instance.onLoad = function () { that._onMeshReady(); };\r\n\t\t\t\tnexus_instance.onUpdate = this.ui.postDrawEvent;\r\n\r\n\t\t\t\tmesh.renderable = nexus_instance;\r\n\t\t\t\tnexus_instance.open(mesh.url);\r\n\t\t\t}\r\n\t\t\telse if(mesh.mType === \"ply\") {\r\n\t\t\t\tmesh.renderable = null;\r\n\t\t\t\tsglRequestBinary(mesh.url, {\r\n\t\t\t\t\tonSuccess : (function(m){ return function (req) { that._onPlyLoaded(req, m, gl); }; })(mesh)\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n},\r\n\r\n// creates simple 2-point line model\r\n_createLineModel : function () {\r\n\tvar gl = this.ui.gl;\r\n\tthis.simpleLineModel = new SglModel(gl, {\r\n\t\tvertices : {\r\n\t\t\tposition : [ 0,0,0,\r\n\t\t\t\t\t\t 1,1,1 ],\r\n\t\t\tnormal : [ 0,0,0,\r\n\t\t\t\t\t   0,0,0 ],\r\n\t\t\tcolor : {value : [ 1.0, 0.0, 0.0 ]}\r\n\t\t},\r\n\t\tprimitives : [\"lines\",\"points\"]\r\n\t});\r\n},\r\n\r\n// creates simple quad model\r\n_createQuadModels : function () {\r\n\tvar gl = this.ui.gl;\r\n\tthis.simpleQuadXModel = new SglModel(gl, {\r\n\t\tvertices : {\r\n\t\t\tposition : [ 0.0, 0.5, 0.5,\r\n\t\t\t\t\t\t 0.0,-0.5, 0.5,\r\n\t\t\t\t\t\t 0.0,-0.5,-0.5,\r\n\t\t\t\t\t\t 0.0, 0.5,-0.5,\r\n\t\t\t\t\t\t 0.0,-0.5,-0.5,\r\n\t\t\t\t\t\t 0.0, 0.5, 0.5],\r\n\t\t\tnormal : [ 1.0,0.0,0.0,\r\n\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t   1.0,0.0,0.0,\r\n\t\t\t\t\t   1.0,0.0,0.0 ],\r\n\t\t\tcolor : {value : [ 1.0, 0.0, 0.0 ]}\r\n\t\t},\r\n\t\tprimitives : [\"triangles\"]\r\n\t});\r\n\tthis.simpleQuadYModel = new SglModel(gl, {\r\n\t\tvertices : {\r\n\t\t\tposition : [  0.5, 0.0, 0.5,\r\n\t\t\t\t\t\t -0.5, 0.0, 0.5,\r\n\t\t\t\t\t\t -0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t  0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t -0.5, 0.0,-0.5,\r\n\t\t\t\t\t\t  0.5, 0.0, 0.5],\r\n\t\t\tnormal : [ 0.0,1.0,0.0,\r\n\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t   0.0,1.0,0.0,\r\n\t\t\t\t\t   0.0,1.0,0.0 ],\r\n\t\t\tcolor : {value : [ 0.0, 1.0, 0.0 ]}\r\n\t\t},\r\n\t\tprimitives : [\"triangles\"]\r\n\t});\r\n\tthis.simpleQuadZModel = new SglModel(gl, {\r\n\t\tvertices : {\r\n\t\t\tposition : [  0.5, 0.5, 0.0,\r\n\t\t\t\t\t\t -0.5, 0.5, 0.0,\r\n\t\t\t\t\t\t -0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t  0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t -0.5,-0.5, 0.0,\r\n\t\t\t\t\t\t  0.5, 0.5, 0.0],\r\n\t\t\tnormal : [ 0.0,0.0,1.0,\r\n\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t   0.0,0.0,1.0,\r\n\t\t\t\t\t   0.0,0.0,1.0 ],\r\n\t\t\tcolor : {value : [ 0.0, 0.0, 1.0 ]}\r\n\t\t},\r\n\t\tprimitives : [\"triangles\"]\r\n\t});\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// EVENTS HANDLERS\r\n//----------------------------------------------------------------------------------------\r\nonInitialize : function () {\r\n\tvar gl = this.ui.gl;\r\n\r\n\t// debug mode\r\n\tthis._isDebugging = HOP_DEBUGMODE;\r\n\r\n\tgl.getExtension('EXT_frag_depth');\r\n\tgl.clearColor(0.5, 0.5, 0.5, 1.0);\r\n\tgl.clearStencil(0);\r\n\tgl.depthFunc(gl.LESS);\r\n\r\n\t// vertex attrib defaults\r\n\tgl.vertexAttrib3f(1.0, 0.0, 0.0, 0.0);\t\t//1 aNormal\r\n\tgl.vertexAttrib4f(2.0, 0.8, 0.8, 0.8, 1.0);\t//2 aColor\r\n\tgl.vertexAttrib2f(3.0, 0.0, 0.0);\t\t\t//3 aTextureCoord\r\n\tgl.vertexAttrib1f(4.0, 1.0);\t\t\t\t//4 aPointSize\r\n\r\n\t// scene rendering support data\r\n\tthis.renderer   = new SglModelRenderer(gl);\r\n\tthis.xform      = new SglTransformationStack();\r\n\tthis.viewMatrix = SglMat4.identity();\r\n\r\n\t// screenshot support\r\n\tthis.isCapturingScreenshot = false;\r\n\tthis.screenshotData = null;\r\n\t\r\n\t// nexus parameters\r\n\tthis._nexusTargetFps   = 15.0;\r\n\tthis._nexusTargetError = 1.0;\r\n\tthis._nexusCacheSize   = 50000000;\r\n\r\n\t// shaders\r\n\tthis.installDefaultShaders();\r\n\r\n\t// handlers\r\n\tthis._onPickedInstance  = 0;\r\n\tthis._onPickedSpot      = 0;\r\n\tthis._onEnterInstance   = 0;\r\n\tthis._onEnterSpot       = 0;\r\n\tthis._onLeaveInstance   = 0;\r\n\tthis._onLeaveSpot       = 0;\r\n\tthis._onEndPickingPoint = 0;\r\n\tthis._onEndMeasurement  = 0;\r\n\r\n\t// animation\r\n\tthis.ui.animateRate = 0;\r\n\r\n\t// current cursor XY position\r\n\tthis.x \t\t\t= 0.0;\r\n\tthis.y \t\t\t= 0.0;\r\n\r\n\tthis._keycombo = false;\r\n\r\n\t// SCENE DATA\r\n\tthis._scene         = null;\r\n\tthis._sceneParsed   = false;\r\n\tthis._sceneReady    = false;\r\n\tthis._objectsToProcess = 0;\r\n\tthis._objectsToLoad = 0;\r\n\r\n\tthis._instancesProgressiveID = 1;\r\n\tthis._spotsProgressiveID     = 1;\r\n\r\n\tthis._lightDirection = HOP_DEFAULTLIGHT;\r\n\r\n\tthis.sceneCenter = [0.0, 0.0, 0.0];\r\n\tthis.sceneRadiusInv = 1.0;\r\n\r\n\tthis._targetInstanceName = null;\r\n\tthis._targetHotSpotName  = null;\r\n\r\n\tthis._animating      = false;\r\n\tthis._movingLight    = false;\r\n\r\n\tthis._resizable      = true;\r\n\r\n\tthis._clickable      = false;\r\n\tthis._onHover        = false;\r\n\r\n\tthis._lastCursor     = \"default\";\r\n\tthis._pickedInstance = null;\r\n\tthis._pickedSpot     = null;\r\n\tthis._lastPickedInstance = null;\r\n\tthis._lastPickedSpot     = null;\r\n\tthis._lastInstanceID = 0;\r\n\tthis._lastSpotID     = 0;\r\n\tthis._pickpoint      = [1, 1];\r\n\r\n\t// global measurement data\r\n\tthis._isMeasuring = false;\r\n\r\n\t// point2point measurement data\r\n\tthis._isMeasuringDistance = false;\r\n\tthis._measurementStage = 0; // 0=inactive 1=picking pointA 2=picking pointB 3=measurement ready\r\n\tthis._pointA = [0.0, 0.0, 0.0];\r\n\tthis._pointB = [0.0, 0.0, 0.0];\r\n\tthis.measurement = 0;\r\n\r\n\t// point picking measurement data\r\n\tthis._isMeasuringPickpoint = false;\r\n\tthis._pickValid = false;\r\n\tthis._pickedPoint = [0.0, 0.0, 0.0];\r\n\r\n\t// plane section\r\n\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\tthis._clipAxis  = [0.0, 0.0, 0.0];\r\n\tthis._clipPlane = [0.0, 0.0, 0.0, 0.0];\r\n\tthis._sceneBboxMin = [0.0, 0.0, 0.0]\r\n\tthis._sceneBboxMax = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxCenter = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxDiag = 0.0;\r\n},\r\n\r\ninstallDefaultShaders : function () {\r\n\tthis.facesProgram = this._createStandardFacesProgram();\r\n\tthis.pointsProgram = this._createStandardPointsProgram();\r\n\tthis.utilsProgram = this._createUtilsProgram();\r\n\tthis.colorShadedProgram = this._createColorShadedProgram();\r\n\r\n\tthis.faceTechnique = this._createStandardFacesTechnique();\r\n\tthis.pointTechnique = this._createStandardPointsTechnique();\r\n\tthis.utilsTechnique = this._createUtilsTechnique();\r\n\tthis.colorShadedTechnique = this._createColorShadedTechnique();\r\n\r\n\tthis.simpleLineTechnique = this._createSimpleLinetechnique();\r\n\tthis.multiLinesPointsTechnique = this._createMultiLinesPointstechnique();\r\n},\r\n\r\nonDrag : function (button, x, y, e) {\r\n\tvar ui = this.ui;\r\n\r\n\tif(this._clickable) this._clickable = false;\r\n\r\n\tif(this._movingLight && ui.isMouseButtonDown(0)){\r\n\t\tvar dxl = (x / (ui.width  - 1)) * 2.0 - 1.0;\r\n\t\tvar dyl = (y / (ui.height - 1)) * 2.0 - 1.0;\r\n\t\tthis.rotateLight(dxl/2, dyl/2);\r\n\t\treturn;\r\n\t}\r\n\r\n\t// if locked trackball, just return. we check AFTER the light-trackball test\r\n\tif (this._scene.trackball.locked) return;\r\n\r\n\tif(ui.dragDeltaX(button) != 0) this.x += (ui.cursorDeltaX/500);\r\n\tif(ui.dragDeltaY(button) != 0) this.y += (ui.cursorDeltaY/500);\r\n\r\n\tvar action = SGL_TRACKBALL_NO_ACTION;\r\n\tif ((ui.isMouseButtonDown(0) && ui.isKeyDown(17)) || ui.isMouseButtonDown(1) || ui.isMouseButtonDown(2)) {\r\n\t\taction = SGL_TRACKBALL_PAN;\r\n\t}\r\n\telse if (ui.isMouseButtonDown(0)) {\r\n\t\taction = SGL_TRACKBALL_ROTATE;\r\n\t}\r\n\r\n\tvar testMatrix = this.trackball._matrix.slice();\r\n\r\n\tthis.trackball.action = action;\r\n\tthis.trackball.track(this.viewMatrix, this.x, this.y, 0.0);\r\n\r\n\tvar diff;\r\n\tfor(var i=0; i<testMatrix.length; i++) {\r\n\t\tif(testMatrix[i]!=this.trackball._matrix[i]) {diff=true; break;}\r\n\t}\r\n\tif(diff) this.repaint();\r\n},\r\n\r\nonMouseMove : function (x, y, e) {\r\n\tif(e.target.id!=this.ui.gl.canvas.id) return;\r\n\tif(this._onHover)\r\n\t\tif (!this.ui.isDragging(0) && !this.ui.isDragging(1) && !this.ui.isDragging(2)) this._pickingRefresh(x, y);\r\n},\r\n\r\nonMouseOut : function (x, y, e) {\r\n\t// Colin Addition\r\n\tvar evt = document.createEvent(\"MouseEvents\");\r\n\tevt.initEvent(\"mouseup\", true, true);\r\n\te.target.dispatchEvent(evt);\r\n\tif(this._onHover) this._pickingRefresh(-1,-1);\r\n\tthis._clickable = false;\r\n},\r\n\r\nonMouseButtonDown : function (button, x, y, e) {\r\n\tif(this._onHover) this._pickingRefresh(x,y);\r\n\tif(button==0) this._clickable = true;\r\n},\r\n\r\nonClick : function (button, x, y, e) {\r\n\tvar xy = this.ui._getMouseClientPos(e);\r\n\r\n\tthis.ui._clickPrevPos = this.ui._clickPos;\r\n\tthis.ui._clickPos = xy;\r\n\r\n\tvar clickDeltaPos = [this.ui._clickPos[0] - this.ui._clickPrevPos[0], this.ui._clickPos[1] - this.ui._clickPrevPos[1]];\r\n\tvar clickDeltaTime = this.ui._clickPos[3] - this.ui._clickPrevPos[3];\r\n\r\n\tvar clickDeltaDist = SpiderGL.Math.Vec2.length(clickDeltaPos);\r\n\r\n\tif (this._clickable) {\r\n\t\tthis._pickingRefresh(x, y);\r\n\r\n\t\tif(clickDeltaDist <= 30 && clickDeltaTime <= 250) {\r\n\t\t\tif(this.trackball.recenter){\r\n\t\t\t\tvar ppoint = this._drawScenePickingXYZ();\r\n\t\t\t\tif (ppoint!=null) {\r\n\t\t\t\t\tthis.ui.animateRate = 30;\r\n\t\t\t\t\tthis.trackball.recenter(ppoint);\r\n\t\t\t\t\tthis.repaint();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif(this._onPickedSpot && this._pickedSpot!=null) this._onPickedSpot(this._pickedSpot);\r\n\t\tif(this._onPickedInstance && this._pickedInstance!=null) this._onPickedInstance(this._pickedInstance);\r\n\t\tif(this._isMeasuringPickpoint) this._pickpointRefresh(0, x, y, e);\r\n\t\tif(this._isMeasuringDistance) this._measureRefresh(0, x, y, e);\r\n\t}\r\n\tthis._clickable = false;\r\n},\r\n\r\nonKeyDown : function (key, e) {\r\n\tif (e.ctrlKey) {\r\n\t\tif (e.key == 'p') // ctrl-p to save screenshot\r\n\t\t{\r\n\t\t\te.preventDefault();\r\n\t\t\tthis.isCapturingScreenshot = true;\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t}\r\n},\r\n\r\nonKeyPress : function (key, e) {\r\n\tif(this._isDebugging) { // DEBUGGING-AUTHORING keys\r\n\t\tif (e.charCode == '49') { // key \"1\" to show nexus patches\r\n\t\t\tNexus.Debug.nodes =! Nexus.Debug.nodes;\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if (e.charCode == '50') { // key \"2\" to toggle camera perspective/orthographic\r\n\t\t\tthis.toggleCameraType();\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse if((e.charCode == '80') || (e.charCode == '112')) // key \"P\" to print trackball\r\n\t\t\tconsole.log(this.trackball.getState());\r\n\t}\r\n},\r\n\r\nonKeyUp : function (key, e) {\r\n\tif(this._keycombo && e.keyCode == '18') {\r\n\t\te.preventDefault();\r\n\t\tthis._keycombo = false;\r\n\t}\r\n},\r\n\r\nonMouseWheel: function (wheelDelta, x, y, e) {\r\n\tvar diff = false;\r\n\r\n\tif(e && e.altKey) { // key \"ALT\" + MOUSE WHEEL to change pointclouds point set size\r\n\t\tthis._keycombo = true;\r\n\r\n\t\tvar testValue = this._scene.config.pointSize;\r\n\r\n\t\tthis._scene.config.pointSize += wheelDelta/10;\r\n\r\n\t\tif (this._scene.config.pointSize < this._scene.config.pointSizeMinMax[0]) this._scene.config.pointSize = this._scene.config.pointSizeMinMax[0];\r\n\t\telse if (this._scene.config.pointSize > this._scene.config.pointSizeMinMax[1]) this._scene.config.pointSize = this._scene.config.pointSizeMinMax[1];\r\n\r\n\t\tif(testValue!=this._scene.config.pointSize) {\r\n\t\t\tdiff=true;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\t// if locked trackball, just return.\r\n\t\tif (this._scene.trackball.locked) return;\r\n\t\t\r\n\t\tvar action = SGL_TRACKBALL_SCALE;\r\n\r\n\t\tvar factor = wheelDelta > 0.0 ? (0.90) : (1.10);\r\n\r\n\t\tvar testMatrix = this.trackball._matrix.slice();\r\n\r\n\t\tthis.trackball.action = action;\r\n\t\tthis.trackball.track(this.viewMatrix, 0.0, 0.0, factor);\r\n\t\tthis.trackball.action = SGL_TRACKBALL_NO_ACTION;\r\n\r\n\t\tfor(var i=0; i<testMatrix.length; i++) {\r\n\t\t\tif(testMatrix[i]!=this.trackball._matrix[i]) {diff=true; break;}\r\n\t\t}\r\n\t}\r\n\r\n\tif(diff) this.repaint();\r\n},\r\n\r\nonAnimate : function (dt) {\r\n\tif (this._isSceneReady()) {\r\n\t\t// animate trackball\r\n\t\tif(this.trackball.tick(dt)) {\r\n\t\t\tthis.repaint();\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.ui.animateRate = 0;\r\n\t\t\tif(this._onHover && !this.ui._cursorPos[2]) this._pickingRefresh(this.ui._cursorPos[0], this.ui._cursorPos[1]);\r\n\t\t}\r\n\t}\r\n},\r\n\r\nonDraw : function () {\r\n\tif (this._isSceneReady())\r\n\t\tthis._drawScene();\r\n\telse\r\n\t\tthis._drawNull();\r\n},\r\n\r\n//----------------------------------------------------------------------------------------\r\n// EXPOSED FUNCTIONS\r\n//----------------------------------------------------------------------------------------\r\nsetScene : function (options) {\r\n\tif (!options) return;\r\n\r\n\t// scene reset, if already present\r\n\tif(this._scene != null)\r\n\t{\r\n\t\tthis._scene         = null;\r\n\t\tthis._sceneParsed   = false;\r\n\t\tthis._sceneReady    = false;\r\n\t\tthis._instancesProgressiveID = 1;\r\n\t\tthis._spotsProgressiveID     = 1;\r\n\t\tthis._objectsToProcess = 0;\r\n\t\tthis._objectsToLoad = 0;\r\n\t\tthis._stopMeasurement();\r\n\t\tthis._stopPickPoint();\r\n\t\tthis._clipAxis = [0.0, 0.0, 0.0];\r\n\t\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\t\tthis.enableLightTrackball(false);\r\n\t}\r\n\r\n\t// scene parsing\r\n\tvar scene = this._parseScene(options);\r\n\tif (!scene) return;\r\n\tthis._scene = scene;\r\n\r\n\t// trackball creation\r\n\tthis.trackball  = new scene.trackball.type();\r\n\tthis.trackball.setup(scene.trackball.trackOptions);\r\n\tthis.trackball.track(SglMat4.identity(), 0.0, 0.0, 0.0);\r\n\r\n\tvar gl = this.ui.gl;\r\n\r\n\t// nexus parameters init\r\n\tNexus.setTargetError(gl, this._nexusTargetError);\r\n\tNexus.setTargetFps(gl, this._nexusTargetFps);\r\n\tNexus.setMaxCacheSize(gl, this._nexusCacheSize);\r\n\r\n\t// mesh models creation\r\n\tthis._createMeshModels();\r\n\r\n\t// point-to-point line model creation\r\n\tthis._createLineModel();\r\n\r\n\t// quad models creation\r\n\tthis._createQuadModels();\r\n\r\n\t// create a space for other entities\r\n\tthis._scene.entities = {};\r\n\r\n\tthis._sceneParsed = true;\r\n},\r\n\r\nget version() {\r\n\treturn HOP_VERSION;\r\n},\r\n\r\nsupportsWebGL : function () {\r\n\treturn this._supportsWebGL;\r\n},\r\n\r\ntoggleDebugMode : function () {\r\n\tthis._isDebugging = !this._isDebugging;\r\n},\r\n\r\nrepaint : function () {\r\n\tthis.ui.postDrawEvent();\r\n},\r\n\r\nsaveScreenshot : function () {\r\n\tthis.isCapturingScreenshot = true;\r\n\tthis.repaint();\r\n},\r\n\r\n//------entities-------------------\r\ncreateEntity : function (eName, type, positionList) {\r\n\t// type \"points\", \"lines\", \"triangles\"\r\n\tvar nEntity = {};\r\n\tnEntity.visible = true;\r\n\tnEntity.type = type;\r\n\tnEntity.renderable = null;\r\n\tnEntity.transform = {};\r\n\tnEntity.transform.matrix = SglMat4.identity();\r\n\tnEntity.color = [1.0, 0.0, 1.0, 1.0];\r\n\tnEntity.useTransparency = false;\r\n\tnEntity.zOff = 0.0;\r\n\r\n\tvar modelDescriptor = {};\r\n\tif(type == \"points\")\r\n\t\tmodelDescriptor.primitives = [\"points\"];\r\n\telse if(type == \"lines\")\r\n\t\tmodelDescriptor.primitives = [\"lines\"];\r\n\telse if(type == \"triangles\")\r\n\t\tmodelDescriptor.primitives = [\"triangles\"];\t\r\n\tmodelDescriptor.vertices = {};\r\n\tmodelDescriptor.vertices.position = [];\r\n\tmodelDescriptor.vertices.normal = [];\r\n\tmodelDescriptor.vertices.color = {value : [ 1.0, 0.0, 1.0, 1.0 ]};\r\n\tvar numVerts = positionList.length;\r\n\r\n\tfor (vInd = 0; vInd < numVerts; vInd++)\r\n\t{\r\n\t\tmodelDescriptor.vertices.position.push(positionList[vInd][0]);\r\n\t\tmodelDescriptor.vertices.position.push(positionList[vInd][1]);\r\n\t\tmodelDescriptor.vertices.position.push(positionList[vInd][2]);\r\n\t\t\r\n\t\tmodelDescriptor.vertices.normal.push(0.0);\r\n\t\tmodelDescriptor.vertices.normal.push(0.0);\r\n\t\tmodelDescriptor.vertices.normal.push(0.0);\r\n\t}\r\n\tvar gl = this.ui.gl;\r\n\tnEntity.renderable = new SglModel(gl, modelDescriptor);\r\n\t\r\n\t// setting\r\n\tthis._scene.entities[eName] = {};\r\n\tthis._scene.entities[eName] = nEntity;\r\n\treturn this._scene.entities[eName];\r\n},\r\n\r\ndeleteEntity : function (eName) {\r\n\tdelete this._scene.entities[eName];\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// nexus\r\n\r\nsetNexusTargetFps: function(fps) {\r\n\tthis._nexusTargetFps = fps;\r\n\tNexus.setTargetFps(this.ui.gl, fps);\r\n},\r\n\r\ngetNexusTargetFps: function() {\r\n\treturn this._nexusTargetFps;\r\n},\r\n\r\nsetNexusTargetError: function(error) {\r\n\tthis._nexusTargetError = error;\r\n\tNexus.setTargetError(this.ui.gl, error);\r\n},\r\n\r\ngetNexusTargetError: function() {\r\n\treturn this._nexusTargetError;\r\n},\r\n\r\nsetNexusCacheSize: function(size) {\r\n\tthis._nexusCacheSize = size;\r\n\tNexus.setMaxCacheSize(this.ui.gl, size);\r\n},\r\n\r\ngetNexusCacheSize: function() {\r\n\treturn this._nexusCacheSize;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// trackball\r\n\r\nresetTrackball : function () {\r\n\tthis.trackball.reset();\r\n\tthis.trackball.track(SglMat4.identity(), 0.0, 0.0, 0.0);\r\n\tthis._lightDirection = HOP_DEFAULTLIGHT; // also reset lighting\r\n\tthis.repaint();\r\n},\r\n\r\ngetTrackballPosition : function () {\r\n\treturn this.trackball.getState();\r\n},\r\n\r\nsetTrackballPosition : function (newposition) {\r\n\tthis.trackball.setState(newposition);\r\n\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// camera animations\r\n\r\nanimateToTrackballPosition : function (newposition, newtime) {\r\n\tthis.ui.animateRate = 30;\r\n\tthis.trackball.animateToState(newposition, newtime);\r\n\tthis.repaint();\r\n},\r\n\r\nisAnimate : function () {\r\n\tif(this.ui.animateRate > 0) this._animating = true;\r\n\telse this._animating = false;\r\n\treturn this._animating;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// dynamic center/radius mode\r\n\r\nsetCenterModeFirst : function () {\r\n\tthis._scene.space.centerMode = \"first\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCenterModeScene : function () {\r\n\tthis._scene.space.centerMode = \"scene\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCenterModeSpecific : function (instancename) {\r\n\tif(this._scene.modelInstances[instancename])\r\n\t{\r\n\t\tthis._scene.space.centerMode = \"specific\";\r\n\t\tthis._scene.space.whichInstanceCenter = instancename;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - No such instance\";\r\n},\r\n\r\nsetCenterModeExplicit : function (newcenter) {\r\n\tif((newcenter.constructor === Array)&&(newcenter.length = 3)&&(isFinite(String(newcenter[0])))&&(isFinite(String(newcenter[1])))&&(isFinite(String(newcenter[2]))))\r\n\t{\r\n\t\tthis._scene.space.centerMode = \"explicit\";\r\n\t\tthis._scene.space.explicitCenter = newcenter;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - Not a point\";\r\n},\r\n\r\nsetRadiusModeFirst : function () {\r\n\tthis._scene.space.radiusMode = \"first\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetRadiusModeScene : function () {\r\n\tthis._scene.space.radiusMode = \"scene\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetRadiusModeSpecific : function (instancename) {\r\n\tif(this._scene.modelInstances[instancename])\r\n\t{\r\n\t\tthis._scene.space.radiusMode = \"specific\";\r\n\t\tthis._scene.space.whichInstanceRadius = instancename;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - No such instance\";\r\n},\r\n\r\nsetRadiusModeExplicit : function (newradius) {\r\n\tif((isFinite(String(newradius)))&&(newradius>0.0))\r\n\t{\r\n\t\tthis._scene.space.radiusMode = \"explicit\";\r\n\t\tthis._scene.space.explicitRadius = newradius;\r\n\t\tthis.repaint();\r\n\t}\r\n\telse\r\n\t\treturn \"ERROR - Not a radius\";\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance solid color\r\n\r\nsetInstanceSolidColorByName : function (name, newState, redraw, newColor) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[inst].color = newColor;\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tinstances[name].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[name].color = newColor;\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceSolidColor : function (tag, newState, redraw, newColor) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\tif(newColor)\r\n\t\t\t\tinstances[inst].color = newColor;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tinstances[inst].useSolidColor = newState;\r\n\t\t\t\t\tif(newColor)\r\n\t\t\t\t\t\tinstances[inst].color = newColor;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceSolidColorByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL)\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\telse\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useSolidColor = !instances[name].useSolidColor;\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceSolidColor : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\t\telse\r\n\t\t\tfor (var tg in instances[inst].tags)\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useSolidColor = !instances[inst].useSolidColor;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceSolidColorEnabledByName : function (name) {\r\n\tvar solidcolor = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn solidcolor;\r\n},\r\n\r\nisInstanceSolidColorEnabled : function (tag) {\r\n\tvar solidcolor = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\tsolidcolor = true;\r\n\t\t\t\treturn solidcolor;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useSolidColor){\r\n\t\t\t\t\t\tsolidcolor = true;\r\n\t\t\t\t\t\treturn solidcolor;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn solidcolor;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance transparency\r\n\r\nsetInstanceTransparencyByName : function (name, newState, redraw, newAlpha) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tinstances[name].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[name].alpha = newAlpha;\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceTransparency : function (tag, newState, redraw, newAlpha) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\tif(newAlpha)\r\n\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tinstances[inst].useTransparency = newState;\r\n\t\t\t\t\tif(newAlpha)\r\n\t\t\t\t\t\tinstances[inst].alpha = newAlpha;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceTransparencyByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useTransparency = !instances[name].useTransparency;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceTransparency : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useTransparency = !instances[inst].useTransparency;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n\r\nisInstanceTransparencyEnabledByName : function (name) {\r\n\tvar transparency = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn transparency;\r\n},\r\n\r\nisInstanceTransparencyEnabled : function (tag) {\r\n\tvar transparency = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\ttransparency = true;\r\n\t\t\t\treturn transparency;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useTransparency){\r\n\t\t\t\t\t\ttransparency = true;\r\n\t\t\t\t\t\treturn transparency;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn transparency;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance shading\r\n//----specular\r\n\r\nsetInstanceSpecularityByName : function (name, color, hardness, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].specularColor = [color[0], color[1], color[2], hardness];\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceSpecularity : function (tag, color, hardness, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].specularColor = [color[0], color[1], color[2], hardness];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n//----backface\r\n\r\nsetInstanceBackfaceByName : function (name, color, mode, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar modecode = 0.0;\r\n\tif (mode == \"tint\") modecode = 0.0;\r\n\telse if (mode == \"fill\") modecode = 1.0;\r\n\telse if (mode == \"cull\") modecode = 2.0;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceBackface : function (tag, color, mode, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\tvar modecode = 0.0;\r\n\tif (mode == \"tint\") modecode = 0.0;\r\n\telse if (mode == \"fill\") modecode = 1.0;\r\n\telse if (mode == \"cull\") modecode = 2.0;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].backfaceColor = [color[0], color[1], color[2], modecode];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// instance visibility\r\n\r\nsetInstanceVisibilityByName : function (name, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].visible = newState;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].visible = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceVisibility : function (tag, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].visible = newState;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].visible = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceVisibilityByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].visible = !instances[name].visible;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceVisibility : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].visible = !instances[inst].visible;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceVisibilityEnabledByName : function (name) {\r\n\tvar visibility = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\nisInstanceVisibilityEnabled : function (tag) {\r\n\tvar visibility = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].visible){\r\n\t\t\t\t\t\tvisibility = true;\r\n\t\t\t\t\t\treturn visibility;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// spot visibility\r\n\r\nsetSpotVisibilityByName : function (name, newState, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var spt in spots)\r\n\t\t\tspots[spt].visible = newState;\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) // if an hotspot with that name exists\r\n\t\t\tspots[name].visible = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetSpotVisibility : function (tag, newState, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tfor (var spt in spots) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tspots[spt].visible = newState;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag)\r\n\t\t\t\t\tspots[spt].visible = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleSpotVisibilityByName : function (name, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var spt in spots)\r\n\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) // if an hotspot with that name exists\r\n\t\t\tspots[name].visible = !spots[name].visible;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleSpotVisibility : function (tag, redraw) {\r\n\tvar spots = this._scene.spots;\r\n\tfor (var spt in spots) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag)\r\n\t\t\t\t\tspots[spt].visible = !spots[spt].visible;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisSpotVisibilityEnabledByName : function (name) {\r\n\tvar visibility = false;\r\n\tvar spots = this._scene.spots;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var spt in spots) {\r\n\t\t\tif(spots[spt].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(spots[name]) { // if an hotspot with that name exists\r\n\t\t\tif(spots[name].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\nisSpotVisibilityEnabled : function (tag) {\r\n\tvar visibility = false;\r\n\tvar spots = this._scene.spots;\r\n\r\n\tfor (var spt in spots) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(spots[spt].visible){\r\n\t\t\t\tvisibility = true;\r\n\t\t\t\treturn visibility;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in spots[spt].tags){\r\n\t\t\t\tif(spots[spt].tags[tg] == tag){\r\n\t\t\t\t\tif(spots[spt].visible){\r\n\t\t\t\t\t\tvisibility = true;\r\n\t\t\t\t\t\treturn visibility;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn visibility;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// sections\r\n\r\nresetClippingXYZ: function() {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis = [0.0, 0.0, 0.0];\r\n\tthis._clipPoint = [0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingXYZ: function(cx, cy, cz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis = [cx,cy,cz];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingX: function(cx) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[0] = cx;\r\n\tthis.repaint();\r\n},\r\nsetClippingY: function(cy) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[1] = cy;\r\n\tthis.repaint();\r\n},\r\nsetClippingZ: function(cz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipAxis[2] = cz;\r\n\tthis.repaint();\r\n},\r\n\r\ngetClippingX : function () {\r\n\treturn this._clipAxis[0];\r\n},\r\ngetClippingY : function () {\r\n\treturn this._clipAxis[1];\r\n},\r\ngetClippingZ : function () {\r\n\treturn this._clipAxis[2];\r\n},\r\n\r\nsetClippingPointXYZabs: function(clx, cly, clz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint = [clx, cly, clz];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointXabs: function(clx) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[0] = clx;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointYabs: function(cly) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[1] = cly;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointZabs: function(clz) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPoint[2] = clz;\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointXYZ: function(clx, cly, clz) {\r\n\tvar nClipPoint = [0.0, 0.0, 0.0];\r\n\r\n\tthis._calculateBounding();\r\n\r\n\tif(clx<0.0) clx=0.0; else if(clx>1.0) clx=1.0;\r\n\tif(cly<0.0) cly=0.0; else if(cly>1.0) cly=1.0\r\n\tif(clz<0.0) clz=0.0; else if(clz>1.0) clz=1.0;\r\n\r\n\tnClipPoint[0] = this._sceneBboxMin[0] + clx * (this._sceneBboxMax[0] - this._sceneBboxMin[0]);\r\n\tnClipPoint[1] = this._sceneBboxMin[1] + cly * (this._sceneBboxMax[1] - this._sceneBboxMin[1]);\r\n\tnClipPoint[2] = this._sceneBboxMin[2] + clz * (this._sceneBboxMax[2] - this._sceneBboxMin[2]);\r\n\r\n\tthis._clipPoint = nClipPoint;\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPointX: function(clx) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(clx<0.0) clx=0.0; else if(clx>1.0) clx=1.0;\r\n\tnClipPoint = this._sceneBboxMin[0] + clx * (this._sceneBboxMax[0] - this._sceneBboxMin[0]);\r\n\tthis._clipPoint[0] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointY: function(cly) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(cly<0.0) cly=0.0; else if(cly>1.0) cly=1.0;\r\n\tnClipPoint = this._sceneBboxMin[1] + cly * (this._sceneBboxMax[1] - this._sceneBboxMin[1]);\r\n\tthis._clipPoint[1] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\nsetClippingPointZ: function(clz) {\r\n\tvar nClipPoint = 0.0;\r\n\tthis._calculateBounding();\r\n\tif(clz<0.0) clz=0.0; else if(clz>1.0) clz=1.0;\r\n\tnClipPoint = this._sceneBboxMin[2] + clz * (this._sceneBboxMax[2] - this._sceneBboxMin[2]);\r\n\tthis._clipPoint[2] = nClipPoint;\r\n\tthis.repaint();\r\n},\r\n\r\n_calculateBounding: function() {\r\n\tvar meshes    = this._scene.meshes;\r\n\tvar instances = this._scene.modelInstances;\r\n\tthis._sceneBboxMin = SglVec3.maxNumber();\r\n\tthis._sceneBboxMax = SglVec3.minNumber();\r\n\tthis._sceneBboxCenter = [0.0, 0.0, 0.0];\r\n\tthis._sceneBboxDiag = 0.0;\r\n\tvar imin = [0.0, 0.0, 0.0];\r\n\tvar imax = [0.0, 0.0, 0.0];\r\n\r\n\tfor (var inst in instances) {\r\n\t\tvar mesh = meshes[instances[inst].mesh];\r\n\t\tif((mesh)&&(mesh.renderable)&&(instances[inst].clippable)){\r\n\t\t\tvar instCenter = SglVec3.to4(mesh.renderable.datasetCenter,1);\r\n\t\t\tinstCenter = SglMat4.mul4(mesh.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(instances[inst].transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglMat4.mul4(this._scene.space.transform.matrix, instCenter);\r\n\t\t\tinstCenter = SglVec4.to3(instCenter);\r\n\r\n\t\t\tvar radius = mesh.renderable.datasetRadius;\r\n\t\t\tvar vector111 = SglVec3.one();\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(mesh.transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(instances[inst].transform.matrix), vector111);\r\n\t\t\tvector111 = SglMat3.mul3(SglMat4.to33(this._scene.space.transform.matrix), vector111);\r\n\t\t\tvar scalefactor = SglVec3.length(vector111) / SglVec3.length([1,1,1]);\r\n\t\t\tradius = radius*scalefactor;\r\n\r\n\t\t\timin[0] = instCenter[0] - radius;\r\n\t\t\timin[1] = instCenter[1] - radius;\r\n\t\t\timin[2] = instCenter[2] - radius;\r\n\t\t\timax[0] = instCenter[0] + radius;\r\n\t\t\timax[1] = instCenter[1] + radius;\r\n\t\t\timax[2] = instCenter[2] + radius;\r\n\r\n\t\t\tif(imin[0] < this._sceneBboxMin[0]) this._sceneBboxMin[0] = imin[0];\r\n\t\t\tif(imin[1] < this._sceneBboxMin[1]) this._sceneBboxMin[1] = imin[1];\r\n\t\t\tif(imin[2] < this._sceneBboxMin[2]) this._sceneBboxMin[2] = imin[2];\r\n\t\t\tif(imax[0] > this._sceneBboxMax[0]) this._sceneBboxMax[0] = imax[0];\r\n\t\t\tif(imax[1] > this._sceneBboxMax[1]) this._sceneBboxMax[1] = imax[1];\r\n\t\t\tif(imax[2] > this._sceneBboxMax[2]) this._sceneBboxMax[2] = imax[2];\r\n\t\t}\r\n\t}\r\n\r\n\tthis._sceneBboxCenter[0] = (this._sceneBboxMin[0] + this._sceneBboxMax[0]) / 2.0;\r\n\tthis._sceneBboxCenter[1] = (this._sceneBboxMin[1] + this._sceneBboxMax[1]) / 2.0;\r\n\tthis._sceneBboxCenter[2] = (this._sceneBboxMin[2] + this._sceneBboxMax[2]) / 2.0;\r\n\r\n\tthis._sceneBboxDiag = SglVec3.length([ this._sceneBboxMax[0]-this._sceneBboxMin[0], this._sceneBboxMax[1]-this._sceneBboxMin[1], this._sceneBboxMax[2]-this._sceneBboxMin[2]]);\r\n},\r\n\r\nsetClippingRendermode: function(showPlanes, showBorder, borderSize, borderColor) {\r\n\tthis._calculateBounding();\r\n\tthis._scene.config.showClippingPlanes = showPlanes;\r\n\tthis._scene.config.showClippingBorder = showBorder;\r\n\tif(borderSize>0.0)\r\n\t\tthis._scene.config.clippingBorderSize = borderSize;\r\n\tif(borderColor)\r\n\t\tthis._scene.config.clippingBorderColor = borderColor;\r\n\tthis.repaint();\r\n},\r\n\r\ngetClippingRendermode: function() {\r\n\tvar rendermode = [this._scene.config.showClippingPlanes, this._scene.config.showClippingBorder, this._scene.config.clippingBorderSize, this._scene.config.clippingBorderColor];\r\n\treturn rendermode;\r\n},\r\n\r\nresetClippingPlane : function () {\r\n\tthis._calculateBounding();\r\n\tthis._clipPlane = [0.0, 0.0, 0.0, 0.0];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPlaneExplicit : function (axis, offset) {\r\n\tthis._calculateBounding();\r\n\tthis._clipPlane = [axis[0], axis[1], axis[2], offset];\r\n\tthis.repaint();\r\n},\r\n\r\nsetClippingPlane : function (angleH, angleV, sign, delta, deltaabs) {\r\n\tthis._calculateBounding();\r\n\tvar axis;\r\n\tvar m = SglMat4.identity();\r\n\tthis._clipPlaneAH = angleH;\r\n\tthis._clipPlaneAV = angleV;\r\n\r\n\t// horizontal angle\r\n\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(sglDegToRad(angleH), [0.0, -1.0, 0.0]));\r\n\t// vertical angle\r\n\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(sglDegToRad(angleV), [0.0, 0.0, 1.0]));\r\n\r\n\taxis = [sign*1.0, 0.0, 0.0, 1.0];\r\n\taxis = SglMat4.mul4(m, axis);\r\n\r\n\tvar sceneOff = (this._sceneBboxDiag / 2.0) * (delta / 100.0);\r\n\tif(typeof deltaabs !== \"undefined\")\r\n\t\tsceneOff = deltaabs;\r\n\tvar position = [this._sceneBboxCenter[0] + (axis[0] * sceneOff), this._sceneBboxCenter[1] + (axis[1] * sceneOff), this._sceneBboxCenter[2] + (axis[2] * sceneOff)];\r\n\tsceneOff = SglVec3.dot([axis[0], axis[1], axis[2]], position);\r\n\r\n\tthis._clipPlane = [axis[0], axis[1], axis[2], -sceneOff];\r\n\tthis.repaint();\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// zoom\r\n\r\nzoomIn: function() {\r\n\tthis.onMouseWheel(1);\r\n},\r\n\r\nzoomOut: function() {\r\n\tthis.onMouseWheel(-1);\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// light\r\n\r\nrotateLight: function(x, y) {\r\n\tx *= 2;\r\n\ty *= 2;\r\n\tvar r = Math.sqrt(x*x + y*y);\r\n\tif(r >= 1) {\r\n\t\tx /= r;\r\n\t\ty /= r;\r\n\t\tr = 0.999;\r\n\t}\r\n\tvar z = Math.sqrt(1 - r*r);\r\n\tthis._lightDirection = [-x, -y, -z];\r\n\tthis.repaint();\r\n},\r\n\r\nenableLightTrackball: function(on) {\r\n\tthis._movingLight = on;\r\n\r\n\tif(on && !this._scene.space.sceneLighting) this._scene.space.sceneLighting = on;\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nisLightTrackballEnabled: function() {\r\n\treturn this._movingLight;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// onHover\r\n\r\nenableOnHover: function(on) {\r\n\tthis._onHover = on;\r\n},\r\n\r\nisOnHoverEnabled: function() {\r\n\treturn this._onHover;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// linear measure\r\n\r\nenableMeasurementTool: function(on) {\r\n\tif(on)\r\n\t\tthis._startMeasurement();\r\n\telse\r\n\t\tthis._stopMeasurement();\r\n},\r\n\r\nisMeasurementToolEnabled: function() {\r\n\treturn this._isMeasuringDistance;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// point measure\r\n\r\nenablePickpointMode: function(on) {\r\n\tif(on)\r\n\t\tthis._startPickPoint();\r\n\telse\r\n\t\tthis._stopPickPoint();\r\n},\r\n\r\nisPickpointModeEnabled: function() {\r\n\treturn this._isMeasuringPickpoint;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// measurements\r\n\r\nisAnyMeasurementEnabled: function() {\r\n\treturn this._isMeasuring;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// camera type\r\n\r\ntoggleCameraType: function() {\r\n\tif(this._scene.space.cameraType == \"orthographic\")\r\n\t\tthis._scene.space.cameraType = \"perspective\"\r\n\telse\r\n\t\tthis._scene.space.cameraType = \"orthographic\"\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nsetCameraPerspective: function() {\r\n\tthis._scene.space.cameraType = \"perspective\";\r\n\tthis.repaint();\r\n},\r\n\r\nsetCameraOrthographic: function() {\r\n\tthis._scene.space.cameraType = \"orthographic\";\r\n\tthis.repaint();\r\n},\r\n\r\ngetCameraType : function () {\r\n\treturn this._scene.space.cameraType;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// trackball lock\r\n\r\ntoggleTrackballLock: function() {\r\n\tthis._scene.trackball.locked = !this._scene.trackball.locked;\r\n},\r\n\r\nsetTrackballLock: function(newState) {\r\n\tthis._scene.trackball.locked = newState;\r\n},\r\n\r\nisTrackballLockEnabled: function() {\r\n\treturn this._scene.trackball.locked;\r\n},\r\n\r\n//-----------------------------------------------------------------------------\r\n// lighting\r\n\r\nenableSceneLighting: function(on) {\r\n\tthis._scene.space.sceneLighting = on;\r\n\r\n\tif(!on && this._movingLight) this._movingLight = on;\r\n\r\n\tthis.repaint();\r\n},\r\n\r\nisSceneLightingEnabled: function() {\r\n\treturn this._scene.space.sceneLighting;\r\n},\r\n\r\nsetInstanceLightingByName : function (name, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useLighting = newState;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useLighting = newState;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nsetInstanceLighting : function (tag, newState, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL) {\r\n\t\t\tinstances[inst].useLighting = newState;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useLighting = newState;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceLightingByName : function (name, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(name == HOP_ALL) {\r\n\t\tfor (var inst in instances)\r\n\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) // if an instance with that name exists\r\n\t\t\tinstances[name].useLighting = !instances[name].useLighting;\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\ntoggleInstanceLighting : function (tag, redraw) {\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(tag == HOP_ALL)\r\n\t\t{\r\n\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag)\r\n\t\t\t\t\tinstances[inst].useLighting = !instances[inst].useLighting;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tif(redraw)\r\n\t\tthis.repaint();\r\n},\r\n\r\nisInstanceLightingEnabledByName : function (name) {\r\n\tvar Lighting = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tif(!name || name==HOP_ALL) {\r\n\t\tfor (var inst in instances) {\r\n\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse {\r\n\t\tif(instances[name]) { // if an instance with that name exists\r\n\t\t\tif(instances[name].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t }\r\n\t}\r\n\treturn Lighting;\r\n},\r\n\r\nisInstanceLightingEnabled : function (tag) {\r\n\tvar Lighting = false;\r\n\tvar instances = this._scene.modelInstances;\r\n\r\n\tfor (var inst in instances) {\r\n\t\tif(!tag || tag==HOP_ALL){\r\n\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\tLighting = true;\r\n\t\t\t\treturn Lighting;\r\n\t\t\t}\r\n\t\t}\r\n\t\telse{\r\n\t\t\tfor (var tg in instances[inst].tags){\r\n\t\t\t\tif(instances[inst].tags[tg] == tag){\r\n\t\t\t\t\tif(instances[inst].useLighting){\r\n\t\t\t\t\t\tLighting = true;\r\n\t\t\t\t\t\treturn Lighting;\r\n\t\t\t\t\t}\r\n\t\t\t\t }\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn Lighting;\r\n}\r\n\r\n}; // Presenter.prototype END\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2020, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nvar parsePly = (function(){\r\n\tvar canonicTypes = {\r\n\t\t\"char\"    : \"int8\",\r\n\t\t\"int8\"    : \"int8\",\r\n\t\t\"uchar\"   : \"uint8\",\r\n\t\t\"uint8\"   : \"uint8\",\r\n\t\t\"short\"   : \"int16\",\r\n\t\t\"int16\"   : \"int16\",\r\n\t\t\"ushort\"  : \"uint16\",\r\n\t\t\"uint16\"  : \"uint16\",\r\n\t\t\"int\"     : \"int32\",\r\n\t\t\"int32\"   : \"int32\",\r\n\t\t\"uint\"    : \"uint32\",\r\n\t\t\"uint32\"  : \"uint32\",\r\n\t\t\"float\"   : \"float32\",\r\n\t\t\"float32\" : \"float32\",\r\n\t\t\"double\"  : \"float64\",\r\n\t\t\"float64\" : \"float64\"\r\n\t};\r\n\r\n\tfunction trim(s) {\r\n\t\tvar r = s;\r\n\t\tvar n = r.length;\r\n\t\tvar i = 0;\r\n\t\tvar blanks = \" \\n\\r\\t\";\r\n\t\twhile ((i < n) && (blanks.indexOf(r.charAt(i)) >= 0)) { i++; }\r\n\t\tr = r.substring(i, r.length);\r\n\t\ti = r.length - 1;\r\n\t\twhile ((i > 0) && (blanks.indexOf(r.charAt(i)) >= 0)) { i--; }\r\n\t\tr = r.substring(0, i+1);\r\n\t\treturn r;\r\n\t}\r\n\r\n\tfunction extractHeader(data) {\r\n\t\tif (!data || !data.view || !data.view.buffer) return null;\r\n\r\n\t\tvar u8 = new Uint8Array(data.view.buffer);\r\n\t\tvar endHeaderToken = \"end_header\";\r\n\t\tvar header = \"\";\r\n\t\tvar found  = false;\r\n\t\tvar currC  = null;\r\n\t\tvar prevC  = null;\r\n\t\tvar pos    = data.pos;\r\n\t\tvar p      = 0;\r\n\t\tvar n      = 0;\r\n\r\n\t\tfor (pos=0, n=u8.byteLength; pos<n; ++pos) {\r\n\t\t\tcurrC = String.fromCharCode(u8[pos]);\r\n\t\t\theader += currC;\r\n\t\t\tif (currC === \"\\n\") {\r\n\t\t\t\tif (pos >= endHeaderToken.length) {\r\n\t\t\t\t\tp = pos - endHeaderToken.length;\r\n\t\t\t\t\tif (prevC == \"\\r\") p--;\r\n\t\t\t\t\tif (header.substring(p, p + endHeaderToken.length) == endHeaderToken) {\r\n\t\t\t\t\t\tfound = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tprevC = currC;\r\n\t\t}\r\n\r\n\t\tdata.pos = pos;\r\n\r\n\t\tif (!found) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tdata.pos++;\r\n\t\treturn header;\r\n\t}\r\n\r\n\tfunction splitHeader(header) {\r\n\t\tvar lines  = header.split(\"\\n\");\r\n\t\tvar trimmed = [ ];\r\n\t\tvar tokens  = null;\r\n\t\tvar s = null;\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\ts = trim(lines[i]);\r\n\t\t\tif (s) {\r\n\t\t\t\ttokens = s.split(\" \");\r\n\t\t\t\tif (tokens.length > 0) {\r\n\t\t\t\t\tfor (var j=0, m=tokens.length; j<m; ++j) {\r\n\t\t\t\t\t\ttokens[j] = trim(tokens[j]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttrimmed.push(tokens);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn trimmed;\r\n\t}\r\n\r\n\tfunction parseHeader(header) {\r\n\t\tif (!header || header.length <= 0) return null;\r\n\t\tif (header[0][0] != \"ply\") return null;\r\n\r\n\t\tvar elem   = null;\r\n\t\tvar prop   = null;\r\n\t\tvar tokens = null;\r\n\t\tvar token  = null;\r\n\t\tvar tn     = 0;\r\n\r\n\t\tvar info = {\r\n\t\t\tformat     : null,\r\n\t\t\telements   : [ ],\r\n\t\t\telementMap : { },\r\n\t\t\tcomments   : [ ],\r\n\t\t\tothers     : [ ]\r\n\t\t};\r\n\r\n\t\tfor (var i=1; i<header.length-1; ++i) {\r\n\t\t\ttokens = header[i];\r\n\t\t\ttn = tokens.length;\r\n\t\t\ttoken  = tokens[0].toLowerCase();\r\n\t\t\tswitch (token) {\r\n\t\t\t\tcase \"format\":\r\n\t\t\t\t\tif (tn >= 3) {\r\n\t\t\t\t\t\tinfo.format = {\r\n\t\t\t\t\t\t\tname    : tokens[1],\r\n\t\t\t\t\t\t\tversion : tokens[2],\r\n\t\t\t\t\t\t\tbinary  : (tokens[1].toLowerCase().indexOf(\"binary\") >= 0),\r\n\t\t\t\t\t\t\tlittleEndian : ((tokens[1].toLowerCase()) == \"binary_little_endian\")\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"comment\":\r\n\t\t\t\t\tinfo.comments.push(tokens.slice(1));\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"element\":\r\n\t\t\t\t\tif (tn >= 3) {\r\n\t\t\t\t\t\telem = {\r\n\t\t\t\t\t\t\tname  : tokens[1],\r\n\t\t\t\t\t\t\tcount : parseInt(tokens[2]),\r\n\t\t\t\t\t\t\tproperties  : [ ],\r\n\t\t\t\t\t\t\tpropertyMap : { }\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tinfo.elements.push(elem);\r\n\t\t\t\t\t\tinfo.elementMap[elem.name.toLowerCase()] = elem;\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase \"property\":\r\n\t\t\t\t\tif (elem && (tn >= 3)) {\r\n\t\t\t\t\t\tprop = {\r\n\t\t\t\t\t\t\tname : tokens[tn-1],\r\n\t\t\t\t\t\t\ttype : tokens.slice(1, tn - 1)\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\telem.properties.push(prop);\r\n\t\t\t\t\t\telem.propertyMap[prop.name.toLowerCase()] = prop;\r\n\t\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tinfo.others.push(tokens.slice());\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!info.format) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn info;\r\n\t}\r\n\r\n\tvar tabStr = \"\\t\";\r\n\r\n\tfunction setupLines(lines, tabs) {\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\tlines[i] = tabs + lines[i];\r\n\t\t}\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadValue(assignExpr, types, index, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = [ ];\r\n\t\tvar type  = types[index];\r\n\r\n\t\tif (type.toLowerCase() == \"list\") {\r\n\t\t\tvar nIde = \"n\" + level;\r\n\t\t\tvar vIde = \"v\" + level;\r\n\t\t\tvar iIde = \"i\" + level;\r\n\r\n\t\t\tnewIdentifiers[nIde] = true;\r\n\t\t\tnewIdentifiers[vIde] = true;\r\n\t\t\tnewIdentifiers[iIde] = true;\r\n\r\n\t\t\tlevel++;\r\n\t\t\tindex++;\r\n\r\n\t\t\tlines = lines.concat(lines, generateReadValue(/*\"var \" + */ \"\" + nIde, types, index, binary, littleEndian, \"\", level, newIdentifiers));\r\n\t\t\tindex++;\r\n\t\r\n\t\t\tlines.push(/*\"var \" + */ vIde + \" = new Array(\" + nIde + \");\");\r\n\t\t\tlines.push(\"for (\" + /*\"var \" + */ iIde +\"=0; \" + iIde + \"<\" + nIde + \"; ++\" + iIde + \") {\");\r\n\t\t\tlines = lines.concat(generateReadValue(vIde + \"[\" + iIde + \"]\", types, index, binary, littleEndian, tabStr, level, newIdentifiers));\r\n\t\t\t//lines.push(\"\");\r\n\t\t\tlines.push(\"}\");\r\n\t\t\tlines.push(assignExpr + \" = \" + vIde + \";\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tif (binary) {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase \"char\":\r\n\t\t\t\t\tcase \"int8\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt8(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"uchar\":\r\n\t\t\t\t\tcase \"uint8\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint8(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"short\":\r\n\t\t\t\t\tcase \"int16\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt16(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 2;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"ushort\":\r\n\t\t\t\t\tcase \"uint16\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint16(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 2;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"int\":\r\n\t\t\t\t\tcase \"int32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getInt32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"uint\":\r\n\t\t\t\t\tcase \"uint32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getUint32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"float\":\r\n\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getFloat32(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 4;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"double\":\r\n\t\t\t\t\tcase \"float64\":\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = view.getFloat64(pos, \" + littleEndian + \");\");\r\n\t\t\t\t\t\tlines.push(\"pos += 8;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tswitch (type) {\r\n\t\t\t\t\tcase \"char\"   :\r\n\t\t\t\t\tcase \"int8\"   :\r\n\t\t\t\t\tcase \"uchar\"  :\r\n\t\t\t\t\tcase \"uint8\"  :\r\n\t\t\t\t\tcase \"short\"  :\r\n\t\t\t\t\tcase \"int16\"  :\r\n\t\t\t\t\tcase \"ushort\" :\r\n\t\t\t\t\tcase \"uint16\" :\r\n\t\t\t\t\tcase \"int\"    :\r\n\t\t\t\t\tcase \"int32\"  :\r\n\t\t\t\t\tcase \"uint\"   :\r\n\t\t\t\t\tcase \"uint32\" :\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = parseInt(view[pos]);\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tcase \"float\"   :\r\n\t\t\t\t\tcase \"float32\" :\r\n\t\t\t\t\tcase \"double\"   :\r\n\t\t\t\t\tcase \"float64\" :\r\n\t\t\t\t\t\tlines.push(assignExpr + \" = parseFloat(view[pos]);\");\r\n\t\t\t\t\t\tlines.push(\"pos += 1;\");\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadProperty(assignExpr, types, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = generateReadValue(assignExpr, types, 0, binary, littleEndian, \"\", level, newIdentifiers);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadElement(assignExpr, props, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar p  = null;\r\n\t\tvar lines = [ ];\r\n\t\tfor (var i=0, n=props.length; i<n; ++i) {\r\n\t\t\tp = props[i];\r\n\t\t\tlines = lines.concat(generateReadProperty(assignExpr + \"[\\\"\" + p.name + \"\\\"]\", p.type, binary, littleEndian, \"\", level, newIdentifiers));\r\n\t\t\tlines.push(\"\");\r\n\t\t}\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadElements(elemIndex, elem, binary, littleEndian, tabs, level, newIdentifiers) {\r\n\t\tvar lines = [ ];\r\n\t\tvar nIde  = \"n\" + level;\r\n\t\tvar iIde  = \"i\" + level;\r\n\t\tlevel++;\r\n\r\n\t\tnewIdentifiers[nIde]      = true;\r\n\t\tnewIdentifiers[iIde]      = true;\r\n\t\tnewIdentifiers[\"element\"] = true;\r\n\t\tnewIdentifiers[\"elem\"]    = true;\r\n\t\tnewIdentifiers[\"args\"]    = true;\r\n\r\n\t\tlines.push(/*\"var \" + */ \"element = info.elements[\" + elemIndex + \"];\");\r\n\t\tlines.push(/*\"var \" + */ nIde + \" = element.count;\");\r\n\t\tlines.push(/*\"var \" + */ \"elem = { };\");\r\n\t\tlines.push(/*\"var \" + */ \"args = [ info, element, 0, elem];\");\r\n\r\n\t\tlines.push(\"callbacks.onBeginElements.call(handler, info, element);\");\r\n\r\n\t\tlines.push(\"for (\" + /*\"var \" + */ iIde +\"=0; \" + iIde + \"<\" + nIde + \"; ++\" + iIde + \") {\");\r\n\t\tlines = lines.concat(generateReadElement(\"elem\", elem.properties, binary, littleEndian, tabStr, level, newIdentifiers));\r\n\t\tlines.push(tabStr + \"args[2] = \" + iIde + \";\");\r\n\t\tlines.push(tabStr + \"callbacks.onElement.apply(handler, args);\");\r\n\t\tlines.push(\"}\");\r\n\r\n\t\tlines.push(\"callbacks.onEndElements.call(handler, info, element);\");\r\n\r\n\t\tsetupLines(lines, tabs);\r\n\t\treturn lines;\r\n\t}\r\n\r\n\tfunction generateReadMesh(elems, binary, littleEndian) {\r\n\t\tvar lines = [ ];\r\n\t\tlines.push(\"function (data, info, callbacks, handler) {\");\r\n\t\tlines.push(tabStr + \"var view = data.view;\");\r\n\t\tlines.push(tabStr + \"var pos  = data.pos;\");\r\n\t\tlines.push(\"\");\r\n\r\n\t\tvar newIdentifiers = { };\r\n\r\n\t\tvar elementLines = [ ];\r\n\t\tfor (var i=0, n=elems.length; i<n; ++i) {\r\n\t\t\telementLines = elementLines.concat(generateReadElements(i, elems[i], binary, littleEndian, tabStr, 0, newIdentifiers));\r\n\t\t\telementLines.push(\"\");\r\n\t\t}\r\n\r\n\t\tvar ides = [ ];\r\n\t\tfor (var ide in newIdentifiers) {\r\n\t\t\tides.push(ide);\r\n\t\t}\r\n\t\tides.sort();\r\n\t\tlines.push(tabStr + \"var \" + ides.join(\", \") + \";\");\r\n\t\tlines.push(\"\");\r\n\r\n\t\tlines.push(tabStr + \"callbacks.onBeginContent.call(handler, info);\");\r\n\t\tlines = lines.concat(elementLines);\r\n\t\tlines.push(tabStr + \"callbacks.onEndContent.call(handler, info);\");\r\n\r\n\t\tlines.push(tabStr + \"data.pos = pos;\");\r\n\t\tlines.push(\"}\");\r\n\r\n\t\tsetupLines(lines, \"\");\r\n\t\tvar s = \"\";\r\n\t\tfor (var i=0, n=lines.length; i<n; ++i) {\r\n\t\t\ts += lines[i] + \"\\n\";\r\n\t\t}\r\n\t\treturn s;\r\n\t}\r\n\r\n\tfunction getMeshInfo(data) {\r\n\t\tif (!data) return null;\r\n\r\n\t\tvar header = extractHeader(data);\r\n\t\tif (!header) return null;\r\n\r\n\t\tvar tokens = splitHeader(header);\r\n\t\tif (!tokens) return null;\r\n\r\n\t\tvar info = parseHeader(tokens);\r\n\t\tif (!info) return null;\r\n\r\n\t\treturn info;\r\n\t}\r\n\r\n\tfunction mainParsePly(buffer, handler) {\r\n\t\tif (!buffer) return null;\r\n\r\n\t\tfunction emptyFunc() { };\r\n\r\n\t\thandler = handler || { };\r\n\t\tvar callbacks = {\r\n\t\t\tonBegin                 : (handler.onBegin         || emptyFunc),\r\n\t\t\t\tonHeader            : (handler.onHeader        || emptyFunc),\r\n\t\t\t\tonBeginContent      : (handler.onBeginContent  || emptyFunc),\r\n\t\t\t\t\tonBeginElements : (handler.onBeginElements || emptyFunc),\r\n\t\t\t\t\t\tonElement   : (handler.onElement       || emptyFunc),\r\n\t\t\t\t\tonEndElements   : (handler.onEndElements   || emptyFunc),\r\n\t\t\t\tonEndContent        : (handler.onEndContent    || emptyFunc),\r\n\t\t\tonEnd                   : (handler.onEnd           || emptyFunc)\r\n\t\t};\r\n\r\n\t\tvar dataView = new DataView(buffer);\r\n\t\tvar data = {\r\n\t\t\tview : dataView,\r\n\t\t\tpos  : 0\r\n\t\t};\r\n\r\n\t\tvar info = getMeshInfo(data);\r\n\t\tif (!info) return false;\r\n\r\n\t\tif (!info.format.binary) {\r\n\t\t\tdata.view = Array.prototype.map.call(\r\n\t\t\t\tnew Uint8Array(buffer, data.pos),\r\n\t\t\t\tfunction (x) {\r\n\t\t\t\t\treturn String.fromCharCode(x);\r\n\t\t\t\t}\r\n\t\t\t).join(\"\").split(\" \");\r\n\t\t\tdata.pos = 0;\r\n\t\t}\r\n\r\n\t\tfor (var i in info.comments) {\r\n\t\t\tif (info.comments[i][0]==\"TextureFile\") handler._textureUrl = info.comments[i][1];\r\n\t\t}\r\n\r\n\t\tvar readMeshStr  = generateReadMesh(info.elements, info.format.binary, info.format.littleEndian);\r\n\t\tvar readMeshFunc = eval(\"(\" + readMeshStr + \")\");\r\n\r\n\t\tfor (var e in info.elements) {\r\n\t\t\tfor (var p in info.elements[e].propertyMap) {\r\n\t\t\t\tinfo.elements[e].propertyMap[p].canonicType = canonicTypes[info.elements[e].propertyMap[p].type];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcallbacks.onBegin.call(handler);\r\n\t\t\tcallbacks.onHeader.call(handler, info);\r\n\t\t\treadMeshFunc(data, info, callbacks, handler);\r\n\t\tcallbacks.onEnd.call(handler);\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn mainParsePly;\r\n})();\r\n\r\nvar importPly = (function(){\r\n\tfunction emptyFunction() {\r\n\t}\r\n\r\n\tfunction propertiesTypes() {\r\n\t\tvar r = [ ];\r\n\t\tvar m = { };\r\n\t\tvar a = null;\r\n\t\tfor (var i=0; i<arguments.length; ++i) {\r\n\t\t\ta = arguments[i];\r\n\t\t\tif (!a) return r;\r\n\t\t\tm[a.canonicType] = 1;\r\n\t\t}\r\n\t\tfor (var t in m) {\r\n\t\t\tr.push(t);\r\n\t\t}\r\n\t\treturn r;\r\n\t}\r\n\r\n\tfunction PlyHandler(buffer) {\r\n\t\tthis._buffer           = buffer;\r\n\r\n\t\tthis._modelDescriptor  = null;\r\n\r\n\t\tthis._verticesCount    = 0;\r\n\t\tthis._vertexAttributes = null;\r\n\t\tthis._vertexStride     = 0;\r\n\t\tthis._vertexBuffer     = null;\r\n\t\tthis._handleVertex     = emptyFunction;\r\n\r\n\t\tthis._facesCount       = 0;\r\n\t\tthis._indexBuffer      = null;\r\n\t\tthis._handleFace       = emptyFunction;\r\n\r\n\t\tthis._view             = null;\r\n\r\n\t\tthis._hasPosition      = null;\r\n\t\tthis._hasNormal        = null;\r\n\t\tthis._hasColor         = null;\r\n\t\tthis._hasTexCoord      = null;\r\n\r\n\t\tthis._textureUrl       = null;\r\n\r\n\t\tthis._renderMode       = [\"POINT\"];\r\n\r\n\t\tthis._boundingBox      = { \r\n\t\t\tmin: [ 1000000.0, 1000000.0, 1000000.0], \r\n\t\t\tmax: [-1000000.0,-1000000.0,-1000000.0]\r\n\t\t};\r\n\t}\r\n\r\n\tPlyHandler.prototype = {\r\n\t\tget modelDescriptor() {\r\n\t\t\treturn this._modelDescriptor;\r\n\t\t},\r\n\r\n\t\tonBegin : function () {\r\n\t\t},\r\n\r\n\t\tonHeader : function (header) {\r\n\t\t\tvar tabStr = \"\\t\";\r\n\r\n\t\t\tvar elem   = null;\r\n\t\t\tvar props  = null;\r\n\t\t\tvar ptypes = null;\r\n\r\n\t\t\tvar verticesCount    = 0;\r\n\t\t\tvar vertexLines      = null;\r\n\t\t\tvar vertexAttributes = { };\r\n\t\t\tvar vertexStride     = 0;\r\n\r\n\t\t\tvar hasPosition = false;\r\n\t\t\tvar hasNormal   = false;\r\n\t\t\tvar hasColor    = false;\r\n\t\t\tvar hasTexCoord = false;\r\n\r\n\t\t\telem  = header.elementMap[\"vertex\"];\r\n\t\t\tif (elem && elem.count > 0) {\r\n\t\t\t\tverticesCount = elem.count;\r\n\t\t\t\tprops = elem.propertyMap;\r\n\r\n\t\t\t\tvertexLines = [ ];\r\n\r\n\t\t\t\tvertexLines.push(\"function (header, elementInfo, index, element) {\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var sf32         = SpiderGL.Type.SIZEOF_FLOAT32;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var sui8         = SpiderGL.Type.SIZEOF_UINT8;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var offset       = index * this._vertexStride;\");\r\n\t\t\t\tvertexLines.push(tabStr + \"var view         = this._view;\");\r\n\t\t\t\tvertexLines.push(\"\");\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"x\"], props[\"y\"], props[\"z\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasPosition = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.x, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.y, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.z, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"position\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 3,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 3 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"nx\"], props[\"ny\"], props[\"nz\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasNormal = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.nx, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.ny, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.nz, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"normal\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 3,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 3 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"red\"], props[\"green\"], props[\"blue\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasColor = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"uint8\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.red  ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.green); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, element.blue ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setUint8(offset, 255          ); offset += sui8;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"color\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 4,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.UINT8,\r\n\t\t\t\t\t\t\t\toffset : vertexStride,\r\n\t\t\t\t\t\t\t\tnormalized : true\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 4 * SpiderGL.Type.SIZEOF_UINT8;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.red,   littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.green, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.blue,  littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, 1.0,           littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"color\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 4,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 4 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tptypes = propertiesTypes(props[\"texture_u\"], props[\"texture_v\"]);\r\n\t\t\t\tif (ptypes.length == 1) {\r\n\t\t\t\t\thasTexCoord = true;\r\n\t\t\t\t\tswitch (ptypes[0]) {\r\n\t\t\t\t\t\tcase \"float32\":\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.texture_u, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(tabStr + \"view.setFloat32(offset, element.texture_v, littleEndian); offset += sf32;\");\r\n\t\t\t\t\t\t\tvertexLines.push(\"\");\r\n\t\t\t\t\t\t\tvertexAttributes[\"texturecoord\"] = {\r\n\t\t\t\t\t\t\t\tsize   : 2,\r\n\t\t\t\t\t\t\t\ttype   : SpiderGL.Type.FLOAT32,\r\n\t\t\t\t\t\t\t\toffset : vertexStride\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\tvertexStride += 2 * SpiderGL.Type.SIZEOF_FLOAT32;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\tdefault: break;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvertexLines.push(\"}\");\r\n\t\t\t}\r\n\r\n\t\t\tvar facesCount = 0;\r\n\t\t\tvar faceLines  = null;\r\n\r\n\t\t\telem  = header.elementMap[\"face\"];\r\n\t\t\tif (elem && elem.count > 0) {\r\n\t\t\t\tfacesCount = elem.count;\r\n\t\t\t\tprops = elem.propertyMap;\r\n\r\n\t\t\t\tfaceLines = [ ];\r\n\r\n\t\t\t\tfaceLines.push(\"function (header, elementInfo, index, element) {\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var sui32        = SpiderGL.Type.SIZEOF_UINT32;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var offset       = index * 3 * sui32;\");\r\n\t\t\t\tfaceLines.push(tabStr + \"var view         = this._view;\");\r\n\t\t\t\tfaceLines.push(\"\");\r\n\r\n\t\t\t\tif (props[\"vertex_indices\"]) {\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[0], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[1], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_indices[2], littleEndian); offset += sui32;\");\r\n\t\t\t\t}\r\n\t\t\t\telse if (props[\"vertex_index\"]) {\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[0], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[1], littleEndian); offset += sui32;\");\r\n\t\t\t\t\tfaceLines.push(tabStr + \"view.setUint32(offset, element.vertex_index[2], littleEndian); offset += sui32;\");\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tfacesCount = 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfaceLines.push(\"}\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._mesh = null;\r\n\r\n\t\t\tthis._hasPosition      = hasPosition;\r\n\t\t\tthis._hasNormal        = hasNormal;\r\n\t\t\tthis._hasColor         = hasColor;\r\n\t\t\tthis._hasTexCoord      = hasTexCoord;\r\n\r\n\t\t\tthis._verticesCount    = verticesCount;\r\n\t\t\tthis._vertexAttributes = vertexAttributes;\r\n\t\t\tthis._vertexStride     = vertexStride;\r\n\t\t\tthis._vertexBuffer     = null;\r\n\t\t\tthis._handleVertex     = emptyFunction;\r\n\r\n\t\t\tif (vertexStride > 0) {\r\n\t\t\t\tvar vertexFuncStr = vertexLines.join(\"\\n\");\r\n\t\t\t\tthis._handleVertex = eval(\"(\" + vertexFuncStr + \")\");\r\n\t\t\t}\r\n\r\n\t\t\tthis._facesCount   = facesCount;\r\n\t\t\tthis._indexBuffer  = null;\r\n\t\t\tthis._handleFace   = emptyFunction;\r\n\r\n\t\t\tif (facesCount > 0) {\r\n\t\t\t\tvar faceFuncStr = faceLines.join(\"\\n\");\r\n\t\t\t\tthis._handleFace = eval(\"(\" + faceFuncStr + \")\");\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonBeginContent : function (header) {\r\n\t\t},\r\n\r\n\t\tonBeginElements : function (header, elementInfo) {\r\n\t\t\tswitch (elementInfo.name) {\r\n\t\t\t\tcase \"vertex\":\r\n\t\t\t\t\tthis._vertexBuffer  = new ArrayBuffer(this._verticesCount * this._vertexStride);\r\n\t\t\t\t\tthis._view          = new DataView(this._vertexBuffer);\r\n\t\t\t\t\tthis._handleElement = this._handleVertex;\r\n\t\t\t\tbreak;\r\n\t\t\t\tcase \"face\":\r\n\t\t\t\t\tthis._indexBuffer   = new ArrayBuffer(this._facesCount * 3 * SpiderGL.Type.SIZEOF_UINT32);\r\n\t\t\t\t\tthis._view          = new DataView(this._indexBuffer);\r\n\t\t\t\t\tthis._handleElement = this._handleFace;\r\n\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tthis._view          = null;\r\n\t\t\t\t\tthis._handleElement = emptyFunction;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tonElement : function (header, elementInfo, index, element) {\r\n\t\t\t// bounding box calculation\r\n\t\t\tif (elementInfo.name==\"vertex\"){\r\n\t\t\t\tif(element.x < this._boundingBox.min[0])\r\n\t\t\t\t\tthis._boundingBox.min[0] = element.x;\r\n\t\t\t\tif(element.y < this._boundingBox.min[1])\r\n\t\t\t\t\tthis._boundingBox.min[1] = element.y;\r\n\t\t\t\tif(element.z < this._boundingBox.min[2])\r\n\t\t\t\t\tthis._boundingBox.min[2] = element.z;\r\n\t\t\t\t\t\r\n\t\t\t\tif(element.x > this._boundingBox.max[0])\r\n\t\t\t\t\tthis._boundingBox.max[0] = element.x;\r\n\t\t\t\tif(element.y > this._boundingBox.max[1])\r\n\t\t\t\t\tthis._boundingBox.max[1] = element.y;\r\n\t\t\t\tif(element.z > this._boundingBox.max[2])\r\n\t\t\t\t\tthis._boundingBox.max[2] = element.z;\r\n\t\t\t}\r\n\r\n\t\t\tthis._handleElement(header, elementInfo, index, element);\r\n\t\t},\r\n\r\n\t\tonEndElements : function (header, elementInfo) {\r\n\t\t\tthis._view          = null;\r\n\t\t\tthis._handleElement = emptyFunction;\r\n\t\t},\r\n\r\n\t\tonEndContent : function () {\r\n\t\t},\r\n\r\n\t\tonEnd : function () {\r\n\t\t\tif ((this._verticesCount <= 0) && (this._facesCount <= 0)) return;\r\n\r\n//\t\t\tvar gl = this._gl;\r\n\t\t\tvar modelDescriptor = {\r\n\t\t\t\tversion : \"0.0.1.0 EXP\",\r\n\t\t\t\tmeta : {\r\n\t\t\t\t},\r\n\t\t\t\tdata : {\r\n\t\t\t\t\tvertexBuffers : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tindexBuffers : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\taccess : {\r\n\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tsemantic : {\r\n\t\t\t\t\tbindings : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tchunks : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tlogic : {\r\n\t\t\t\t\tparts : {\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tcontrol : {\r\n\t\t\t\t},\r\n\t\t\t\textra : {\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tvar modelVertexBuffers    = modelDescriptor.data.vertexBuffers;\r\n\t\t\tvar modelIndexBuffers     = modelDescriptor.data.indexBuffers;\r\n\t\t\tvar modelVertexStreams    = modelDescriptor.access.vertexStreams;\r\n\t\t\tvar modelPrimitiveStreams = modelDescriptor.access.primitiveStreams;\r\n\t\t\tvar modelBindings         = modelDescriptor.semantic.bindings;\r\n\t\t\tvar modelChunks           = modelDescriptor.semantic.chunks;\r\n\t\t\tvar modelParts            = modelDescriptor.logic.parts;\r\n\r\n\t\t\tmodelDescriptor.extra.boundingBox = this._boundingBox;\r\n\r\n\t\t\tmodelDescriptor.extra.renderMode = this._renderMode;\r\n\r\n\t\t\tmodelDescriptor.extra.hasPosition = this._hasPosition;\r\n\t\t\tmodelDescriptor.extra.hasNormal   = this._hasNormal;\r\n\t\t\tmodelDescriptor.extra.hasColor    = this._hasColor;\r\n\t\t\tmodelDescriptor.extra.hasTexCoord = this._hasTexCoord;\r\n\r\n\t\t\tmodelDescriptor.extra.textureUrl = this._textureUrl;\r\n\r\n\t\t\tvar maxVerticesCount = (1 << 16) - 1;\r\n\r\n\t\t\tvar baseVertexBufferName = \"mainVertexBuffer\";\r\n\t\t\tvar baseIndexBufferName  = \"mainIndexBuffer\";\r\n\t\t\tvar baseBindingName      = \"mainBinding\";\r\n\t\t\tvar baseChunkName        = \"mainChunk\";\r\n\t\t\tvar basePointStreamName  = \"vertices\";\r\n\t\t\tvar baseTriStreamName    = \"triangles\";\r\n\t\t\tvar basePartName         = \"mainPart\";\r\n\r\n\t\t\tif (this._facesCount > 0) {\r\n\t\t\t\tvar littleEndian = SpiderGL.Type.LITTLE_ENDIAN;\r\n\t\t\t\tvar indexStride  = SpiderGL.Type.SIZEOF_UINT32;\r\n\t\t\t\tvar wholeSize    = Float64Array.BYTES_PER_ELEMENT;\r\n\r\n\t\t\t\tvar stride       = this._vertexStride;\r\n\t\t\t\tvar partCount    = stride % wholeSize;\r\n\t\t\t\tvar wholeCount   = (stride - partCount) / wholeSize;\r\n\r\n\t\t\t\tvar vertexBufferView = new Uint8Array(this._vertexBuffer);\r\n\t\t\t\tvar indexBufferView  = new Uint32Array(this._indexBuffer);\r\n\r\n\t\t\t\tvar chunksCount        = 0;\r\n\t\t\t\tvar chunkVertexBuffers = [ ];\r\n\t\t\t\tvar chunkVerticesCount = [ ];\r\n\t\t\t\tvar chunkIndexBuffers  = [ ];\r\n\t\t\t\tvar chunkIndicesCount  = [ ];\r\n\r\n\t\t\t\tvar facesLeft        = this._facesCount;\r\n\t\t\t\tvar currFaceIndex    = 0;\r\n\r\n\t\t\t\tvar indicesBuffer = new Uint32Array(this._facesCount * 3);\r\n\r\n\t\t\t\twhile (facesLeft > 0) {\r\n\t\t\t\t\tvar verticesMap   = new Uint32Array(this._verticesCount);\r\n\t\t\t\t\tvar verticesNew   = new Uint32Array(maxVerticesCount);\r\n\t\t\t\t\tvar verticesCount = 0;\r\n\t\t\t\t\tvar indicesCount  = 0;\r\n\t\t\t\t\tvar facesCount    = 0;\r\n\r\n\t\t\t\t\twhile ((verticesCount <= (maxVerticesCount - 3)) && (facesLeft > 0)) {\r\n\t\t\t\t\t\tfor (var k=0; k<3; ++k, ++currFaceIndex) {\r\n\t\t\t\t\t\t\tvar v = indexBufferView[currFaceIndex];\r\n\t\t\t\t\t\t\tvar r = verticesMap[v];\r\n\t\t\t\t\t\t\tif (!r) {\r\n\t\t\t\t\t\t\t\tverticesNew[verticesCount++] = v;\r\n\t\t\t\t\t\t\t\tverticesMap[v] = verticesCount;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindicesBuffer[indicesCount++] = v;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tfacesLeft--;\r\n\t\t\t\t\t\tfacesCount++;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (facesCount <= 0) continue;\r\n\r\n\t\t\t\t\tvar chunkVertexBuffer     = new ArrayBuffer(verticesCount * stride);\r\n\t\t\t\t\tvar chunkVertexBufferView = new Uint8Array(chunkVertexBuffer);\r\n\t\t\t\t\tvar chunkIndexBuffer      = new Uint16Array(indicesCount);\r\n\r\n\t\t\t\t\tfor (var i=0; i<indicesCount; ++i) {\r\n\t\t\t\t\t\tchunkIndexBuffer[i] = verticesMap[indicesBuffer[i]] - 1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar s = 0;\r\n\t\t\t\t\tfor (var i=0, d=0; i<verticesCount; ++i, d+=stride) {\r\n\t\t\t\t\t\ts = verticesNew[i] * stride;\r\n\t\t\t\t\t\tchunkVertexBufferView.set(vertexBufferView.subarray(s, s + stride), d);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tchunkVertexBuffers.push(chunkVertexBuffer);\r\n\t\t\t\t\tchunkVerticesCount.push(verticesCount);\r\n\t\t\t\t\tchunkIndexBuffers.push(chunkIndexBuffer);\r\n\t\t\t\t\tchunkIndicesCount.push(indicesCount);\r\n\t\t\t\t\tchunksCount++;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar partChunks = new Array(chunksCount);\r\n\r\n\t\t\t\tfor (var i=0; i<chunksCount; ++i) {\r\n\t\t\t\t\tvar vertexBufferName = baseVertexBufferName + i;\r\n\t\t\t\t\tvar indexBufferName  = baseIndexBufferName  + i;\r\n\t\t\t\t\tvar bindingName      = baseBindingName      + i;\r\n\t\t\t\t\tvar chunkName        = baseChunkName        + i;\r\n\r\n\t\t\t\t\tmodelVertexBuffers[vertexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : chunkVertexBuffers[i]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar binding = {\r\n\t\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmodelBindings[bindingName] = binding;\r\n\r\n\t\t\t\t\tfor (var a in this._vertexAttributes) {\r\n\t\t\t\t\t\tvar attr = this._vertexAttributes[a];\r\n\t\t\t\t\t\tvar vertexStreamName = a + i;\r\n\t\t\t\t\t\tmodelVertexStreams[vertexStreamName] = {\r\n\t\t\t\t\t\t\tbuffer : vertexBufferName,\r\n\t\t\t\t\t\t\tsize   : attr.size,\r\n\t\t\t\t\t\t\ttype   : attr.type,\r\n\t\t\t\t\t\t\tstride : this._vertexStride,\r\n\t\t\t\t\t\t\toffset : attr.offset,\r\n\t\t\t\t\t\t\tnormalized : !!attr.normalized\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbinding.vertexStreams[a.toUpperCase()] = [vertexStreamName];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmodelIndexBuffers[indexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : chunkIndexBuffers[i]\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tvar pointStreamName = basePointStreamName + i;\r\n\t\t\t\t\tmodelPrimitiveStreams[pointStreamName] = {\r\n\t\t\t\t\t\tmode  : SpiderGL.Type.POINTS,\r\n\t\t\t\t\t\tcount : chunkVerticesCount[i]\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"POINT\"] = [pointStreamName];\r\n\r\n\t\t\t\t\tvar triStreamName = baseTriStreamName + i;\r\n\t\t\t\t\tmodelPrimitiveStreams[triStreamName] = {\r\n\t\t\t\t\t\tbuffer : indexBufferName,\r\n\t\t\t\t\t\tmode   : SpiderGL.Type.TRIANGLES,\r\n\t\t\t\t\t\tcount  : chunkIndicesCount[i],\r\n\t\t\t\t\t\ttype   : SpiderGL.Type.UINT16,\r\n\t\t\t\t\t\toffset : 0\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"FILL\"] = [triStreamName];\r\n\r\n\t\t\t\t\tvar chunk = {\r\n\t\t\t\t\t\ttechniques : {\r\n\t\t\t\t\t\t\t\"common\" : {\r\n\t\t\t\t\t\t\t\tbinding : bindingName\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmodelChunks[chunkName] = chunk;\r\n\r\n\t\t\t\t\tpartChunks[i] = chunkName;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tmodelParts[basePartName] = {\r\n\t\t\t\t\tchunks : partChunks\r\n\t\t\t\t};\r\n\r\n\t\t\t\tthis._renderMode.unshift(\"FILL\");\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar binding = {\r\n\t\t\t\t\tvertexStreams : {\r\n\t\t\t\t\t},\r\n\t\t\t\t\tprimitiveStreams : {\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t\tmodelBindings[baseBindingName] = binding;\r\n\r\n\t\t\t\tif (this._verticesCount > 0) {\r\n\t\t\t\t\tvar vertexBufferName = baseVertexBufferName;\r\n\t\t\t\t\tmodelVertexBuffers[vertexBufferName] = {\r\n\t\t\t\t\t\ttypedArray : this._vertexBuffer\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tfor (var a in this._vertexAttributes) {\r\n\t\t\t\t\t\tvar attr = this._vertexAttributes[a];\r\n\t\t\t\t\t\tmodelVertexStreams[a] = {\r\n\t\t\t\t\t\t\tbuffer : vertexBufferName,\r\n\t\t\t\t\t\t\tsize   : attr.size,\r\n\t\t\t\t\t\t\ttype   : attr.type,\r\n\t\t\t\t\t\t\tstride : this._vertexStride,\r\n\t\t\t\t\t\t\toffset : attr.offset,\r\n\t\t\t\t\t\t\tnormalized : !!attr.normalized\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\tbinding.vertexStreams[a.toUpperCase()] = [a];\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmodelPrimitiveStreams[basePointStreamName] = {\r\n\t\t\t\t\t\tmode   : SpiderGL.Type.POINTS,\r\n\t\t\t\t\t\tcount  : this._verticesCount\r\n\t\t\t\t\t};\r\n\t\t\t\t\tbinding.primitiveStreams[\"POINT\"] = [basePointStreamName];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ((this._verticesCount > 0) || (this._facesCount > 0)) {\r\n\t\t\t\t\tmodelChunks[baseChunkName] = {\r\n\t\t\t\t\t\ttechniques : {\r\n\t\t\t\t\t\t\t\"common\" : {\r\n\t\t\t\t\t\t\t\tbinding : baseBindingName\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tmodelParts[basePartName] = {\r\n\t\t\t\t\t\tchunks : [baseChunkName]\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis._modelDescriptor = modelDescriptor;\r\n\t\t}\r\n\t};\r\n\r\n\tfunction mainImportPly(buffer) {\r\n\t\tvar handler = new PlyHandler(buffer);\r\n\t\tparsePly(buffer, handler);\r\n\t\tvar modelDescriptor = handler.modelDescriptor;\r\n\t\treturn modelDescriptor;\r\n\t};\r\n\r\n\treturn mainImportPly;\r\n})();\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a PanTiltTrackball object.\r\n * @class Interactor which implements a pan-tilt trackball controller with bounds.\r\n */\r\nfunction PanTiltTrackball() {\r\n}\r\n\r\nPanTiltTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPanX     : 0.0,\r\n\t\t\tstartPanY     : 0.0,\r\n\t\t\tstartAngleX   : 0.0,\r\n\t\t\tstartAngleY   : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPanX    : [-0.7, 0.7],\r\n\t\t\tminMaxPanY    : [-0.7, 0.7],\r\n\t\t\tminMaxAngleX  : [-70.0, 70.0],\r\n\t\t\tminMaxAngleY  : [-70.0, 70.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPanX = opt.startPanX;\t\t\t\t\t//pan X\r\n\t\tthis._startPanY = opt.startPanY;\t\t\t\t\t//pan Y\r\n\t\tthis._startAngleX = sglDegToRad(opt.startAngleX);\t//angle X\r\n\t\tthis._startAngleY = sglDegToRad(opt.startAngleY);\t//angle Y\r\n\t\tthis._startDistance = opt.startDistance;\t\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._angleX = this._startAngleX;\r\n\t\tthis._angleY = this._startAngleY;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPanX = this._startPanX;\r\n\t\tthis._targetPanY = this._startPanY;\r\n\t\tthis._targetAngleX = this._startAngleX;\r\n\t\tthis._targetAngleY = this._startAngleY;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPanX = 0.0;\r\n\t\tthis._speedPanY = 0.0;\r\n\t\tthis._speedAngleX = 0.0;\r\n\t\tthis._speedAngleY = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t//limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tthis._minMaxPanX   = opt.minMaxPanX;\r\n\t\tthis._minMaxPanY   = opt.minMaxPanY;\r\n\t\tthis._minMaxAngleX = opt.minMaxAngleX;\r\n\t\tthis._minMaxAngleX[0] = sglDegToRad(this._minMaxAngleX[0]);\r\n\t\tthis._minMaxAngleX[1] = sglDegToRad(this._minMaxAngleX[1]);\r\n\t\tthis._minMaxAngleY = opt.minMaxAngleY;\r\n\t\tthis._minMaxAngleY[0] = sglDegToRad(this._minMaxAngleY[0]);\r\n\t\tthis._minMaxAngleY[1] = sglDegToRad(this._minMaxAngleY[1]);\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._angleY, [1.0, 0.0, 0.0]));\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._angleX, [0.0, -1.0, 0.0]));\r\n\t\t// pan\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([this._panX, this._panY, 0.0]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [this._panX, this._panY, sglRadToDeg(this._angleX), sglRadToDeg(this._angleY), this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._panX     = newstate[0];\r\n\t\tthis._panY     = newstate[1];\r\n\t\tthis._angleX   = sglDegToRad(newstate[2]);\r\n\t\tthis._angleY   = sglDegToRad(newstate[3]);\r\n\t\tthis._distance = newstate[4];\r\n\r\n\t\t//check limits\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._angleX = this._clamp(this._angleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\tthis._angleY = this._clamp(this._angleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPanX     = newstate[0];\r\n\t\t\tthis._targetPanY     = newstate[1];\r\n\t\t\tthis._targetAngleX   = sglDegToRad(newstate[2]);\r\n\t\t\tthis._targetAngleY   = sglDegToRad(newstate[3]);\r\n\t\t\tthis._targetDistance = newstate[4];\r\n\r\n\t\t\t//check limits\r\n\t\t\tthis._targetPanX = this._clamp(this._targetPanX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\t\tthis._targetPanY = this._clamp(this._targetPanY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\t\tthis._targetAngleX = this._clamp(this._targetAngleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\t\tthis._targetAngleY = this._clamp(this._targetAngleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPanX = 2.0;\r\n\t\t\tthis._speedPanY = 2.0;\r\n\t\t\tthis._speedAngleX = Math.PI;\r\n\t\t\tthis._speedAngleY = Math.PI;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePanX = Math.abs((this._targetPanX - this._panX) / this._speedPanX);\r\n\t\t\tvar timePanY = Math.abs((this._targetPanY - this._panY) / this._speedPanY);\r\n\t\t\tvar timeAngleX = Math.abs((this._targetAngleX - this._angleX) / this._speedAngleX);\r\n\t\t\tvar timeAngleY = Math.abs((this._targetAngleY - this._angleY) / this._speedAngleY);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\r\n\t\t\tvar maxtime = Math.max( timePanX, Math.max( timePanY, Math.max( timeAngleX, Math.max( timeAngleY, timeDistance ) ) ));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPanX     *= timePanX / animationtime;\r\n\t\t\tthis._speedPanY     *= timePanY / animationtime;\r\n\t\t\tthis._speedAngleX   *= timeAngleX / animationtime;\r\n\t\t\tthis._speedAngleY   *= timeAngleY / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tvar newpanX = -(newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = -(newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis.animateToState([newpanX, newpanY, sglRadToDeg(this._angleX), sglRadToDeg(this._angleY), (this._distance * 0.6)]);\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPanX     = this._speedPanX * dt;\r\n\t\tvar deltaPanY     = this._speedPanY * dt;\r\n\t\tvar deltaAngleX   = this._speedAngleX * dt;\r\n\t\tvar deltaAngleY   = this._speedAngleY * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\r\n\t\tvar diffPanX = this._targetPanX - this._panX;\r\n\t\tvar diffPanY = this._targetPanY - this._panY;\r\n\t\tvar diffAngleX = this._targetAngleX - this._angleX;\r\n\t\tvar diffAngleY = this._targetAngleY - this._angleY;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\r\n\t\tif (diffPanX > deltaPanX)\r\n\t\t\tthis._panX += deltaPanX;\r\n\t\telse if (diffPanX < -deltaPanX)\r\n\t\t\tthis._panX -= deltaPanX;\r\n\t\telse\r\n\t\t\tthis._panX = this._targetPanX;\r\n\r\n\t\tif (diffPanY > deltaPanY)\r\n\t\t\tthis._panY += deltaPanY;\r\n\t\telse if (diffPanY < -deltaPanY)\r\n\t\t\tthis._panY -= deltaPanY;\r\n\t\telse\r\n\t\t\tthis._panY = this._targetPanY;\r\n\r\n\t\tif (diffAngleX > deltaAngleX)\r\n\t\t\tthis._angleX += deltaAngleX;\r\n\t\telse if (diffAngleX < -deltaAngleX)\r\n\t\t\tthis._angleX -= deltaAngleX;\r\n\t\telse\r\n\t\t\tthis._angleX = this._targetAngleX;\r\n\r\n\t\tif (diffAngleY > deltaAngleY)\r\n\t\t\tthis._angleY += deltaAngleY;\r\n\t\telse if (diffAngleY < -deltaAngleY)\r\n\t\t\tthis._angleY -= deltaAngleY;\r\n\t\telse\r\n\t\t\tthis._angleY = this._targetAngleY;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif(this._panX == this._targetPanX)\r\n\t\t\tif(this._panX == this._targetPanX)\r\n\t\t\t\tif(this._angleX == this._targetAngleX)\r\n\t\t\t\t\tif(this._angleY == this._targetAngleY)\r\n\t\t\t\t\t\tif(this._distance == this._targetDistance){\r\n\t\t\t\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action()  { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._angleX = this._startAngleX;\r\n\t\tthis._angleY = this._startAngleY;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.pan(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._angleX += dx;\r\n\t\tthis._angleY += dy;\r\n\t\tthis._angleX = this._clamp(this._angleX, this._minMaxAngleX[0], this._minMaxAngleX[1]);\r\n\t\tthis._angleY = this._clamp(this._angleY, this._minMaxAngleY[0], this._minMaxAngleY[1]);\r\n\t},\r\n\r\n\tpan: function(m, dx, dy) {\r\n\t\tvar panSpeed = Math.max(Math.min(1.5, this._distance),0.05);\r\n\t\tthis._panX -= dx/2.0 * panSpeed; \r\n\t\tthis._panY -= dy/2.0 * panSpeed;\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a SphereTrackball object.\r\n * @class Interactor which implements a full spherical trackball controller.\r\n */\r\nfunction SphereTrackball() {\r\n}\r\n\r\nSphereTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._sphereMatrix = SglMat4.identity();\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startDistance = opt.startDistance; //distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t//limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\r\n\t\tthis._pts    = [ [0.0, 0.0], [0.0, 0.0] ];\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\tclamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// spheretrack\r\n\t\tm = SglMat4.mul(m, this._sphereMatrix);\r\n\r\n\t\tthis._matrix = m;\r\n\t  \r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\t_projectOnSphere : function(x, y) {\r\n\t\tvar r = 1.0;\r\n\r\n\t\tvar z = 0.0;\r\n\t\tvar d = sglSqrt(x*x + y*y);\r\n\t\tif (d < (r * 0.70710678118654752440)) {\r\n\t\t\t/* Inside sphere */\r\n\t\t\tz = sglSqrt(r*r - d*d);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t/* On hyperbola */\r\n\t\t\tt = r / 1.41421356237309504880;\r\n\t\t\tz = t*t / d;\r\n\t\t}\r\n\t\treturn z;\r\n\t},\r\n\r\n\t_transform : function(m, x, y, z) {\r\n\t\treturn SglMat4.mul4(m, [x, y, z, 0.0]);\r\n\t},\r\n\r\n\t_transformOnSphere : function(m, x, y) {\r\n\t\tvar z = this._projectOnSphere(x, y);\r\n\t\treturn this._transform(m, x, y, z);\r\n\t},\r\n\r\n\t_translate : function(offset, f) {\r\n\t\tvar invMat = SglMat4.inverse(this._sphereMatrix);\r\n\t\tvar t = SglVec3.to4(offset, 0.0);\r\n\t\tt = SglMat4.mul4(invMat, t);\r\n\t\tt = SglVec4.muls(t, f);\r\n\t\tvar trMat = SglMat4.translation(t);\r\n\t\tthis._sphereMatrix = SglMat4.mul(this._sphereMatrix, trMat);\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn this._sphereMatrix;\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\tthis._sphereMatrix = newstate;\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate) {\r\n\t\tthis._sphereMatrix = newstate;\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\tvar newpanX = (newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = (newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanZ = (newpoint[2]-presenter.sceneCenter[2]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis._sphereMatrix[12] = -newpanX;\r\n\t\tthis._sphereMatrix[13] = -newpanY;\r\n\t\tthis._sphereMatrix[14] = -newpanZ;\r\n\t\tthis._distance *= 0.6;\r\n\t\tthis._distance = this.clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\treturn false;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) this._new_action = true; this._action = a; },\r\n\r\n\tget action()  { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._sphereMatrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pts    = [ [0.0, 0.0], [0.0, 0.0] ];\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tthis._pts[0][0] = this._pts[1][0] + dx;\r\n\t\tthis._pts[0][1] = this._pts[1][1] + dy;\r\n\t\tthis._pts[1][0] = dx;\r\n\t\tthis._pts[1][1] = dy;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis.rotate(m);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis.pan(m);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_DOLLY:\r\n\t\t\t\tthis.dolly(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\trotate : function(m) {\r\n\t\tif ((this._pts[0][0] == this._pts[1][0]) && (this._pts[0][1] == this._pts[1][1])) return;\r\n\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\r\n\t\tvar v0 = this._transformOnSphere(mInv, this._pts[0][0], this._pts[0][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\t\tvar v1 = this._transformOnSphere(mInv, this._pts[1][0], this._pts[1][1]);\r\n\r\n\t\tvar axis   = SglVec3.cross(v0, v1);\r\n\t\tvar angle  = SglVec3.length(axis);\r\n\t\tvar rotMat = SglMat4.rotationAngleAxis(angle, axis);\r\n\r\n\t\tthis._sphereMatrix = SglMat4.mul(rotMat, this._sphereMatrix);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tpan : function(m) {\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\t\tvar v0 = this._transform(mInv, this._pts[0][0], this._pts[0][1], -1.0);\r\n\t\tvar v1 = this._transform(mInv, this._pts[1][0], this._pts[1][1], -1.0);\r\n\t\tvar offset = SglVec3.sub(v1, v0);\r\n\t\tthis._translate(offset, 2.0);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tdolly : function(m, dz) {\r\n\t\tvar mInv = SglMat4.inverse(m);\r\n\t\tvar offset = this._transform(mInv, 0.0, 0.0, dz);\r\n\t\tthis._translate(offset, 1.0);\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this.clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._computeMatrix();\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a TurntableTrackball object.\r\n * @class Interactor which implements a Turntable controller with bounds.\r\n */\r\nfunction TurnTableTrackball() {\r\n}\r\n\r\nTurnTableTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPhi      : 0.0,\r\n\t\t\tstartTheta    : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPhi     : [-180, 180],\r\n\t\t\tminMaxTheta   : [-80.0, 80.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPhi = sglDegToRad(opt.startPhi);\t\t//phi (horizontal rotation)\r\n\t\tthis._startTheta = sglDegToRad(opt.startTheta);\t//theta (vertical rotation)\r\n\t\tthis._startDistance = opt.startDistance;\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPhi = this._startPhi;\r\n\t\tthis._targetTheta = this._startTheta;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPhi = 0.0;\r\n\t\tthis._speedTheta = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t// limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tif((opt.minMaxPhi[0] == -180)&&(opt.minMaxPhi[1] == 180))\r\n\t\t\tthis._limitPhi = false;\r\n\t\telse\r\n\t\t\tthis._limitPhi = true;\r\n\t\tthis._minMaxPhi   = opt.minMaxPhi;\r\n\t\tthis._minMaxPhi[0] = sglDegToRad(this._minMaxPhi[0]);\r\n\t\tthis._minMaxPhi[1] = sglDegToRad(this._minMaxPhi[1]);\r\n\t\tthis._minMaxTheta = opt.minMaxTheta;\r\n\t\tthis._minMaxTheta[0] = sglDegToRad(this._minMaxTheta[0]);\r\n\t\tthis._minMaxTheta[1] = sglDegToRad(this._minMaxTheta[1]);\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// rotation\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [sglRadToDeg(this._phi), sglRadToDeg(this._theta), this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._phi      = sglDegToRad(newstate[0]);\r\n\t\tthis._theta    = sglDegToRad(newstate[1]);\r\n\t\tthis._distance = newstate[2];\r\n\r\n\t\t//check limits\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPhi = sglDegToRad(newstate[0]);\r\n\t\t\tthis._targetTheta = sglDegToRad(newstate[1]);\r\n\t\t\tthis._targetDistance = newstate[2];\r\n\r\n\t\t\t//check limits\r\n\t\t\tif(this._limitPhi)\r\n\t\t\t\tthis._targetPhi = this._clamp(this._targetPhi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\t\tthis._targetPhi = this._targetPhi % (2*Math.PI);\r\n\t\t\tthis._targetTheta = this._clamp(this._targetTheta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPhi = Math.PI;\r\n\t\t\tthis._speedTheta = Math.PI;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t//if phi unconstrained rotation, it is necessary to find a good rotation direction\r\n\t\t\tif(!this._limitPhi){\r\n\t\t\t\t// normalize (-2pi 2pi) current phi angle, to prevent endless unwinding\r\n\t\t\t\tthis._phi = this._phi % (2*Math.PI);\r\n\r\n\t\t\t\t// determine minimal, normalized target phi angle, to prevent endless unwinding\r\n\t\t\t\tvar clampedangle = this._targetPhi;\r\n\t\t\t\tclampedangle = clampedangle % (2*Math.PI);\r\n\r\n\t\t\t\tif(Math.abs(clampedangle - this._phi) < Math.PI) { // standard rotation\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tclampedangle = (clampedangle - 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tclampedangle = (clampedangle + 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._targetPhi = clampedangle;\r\n\t\t\t}\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePhi      = Math.abs((this._targetPhi - this._phi) / this._speedPhi);\r\n\t\t\tvar timeTheta    = Math.abs((this._targetTheta - this._theta) / this._speedTheta);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\r\n\t\t\tvar maxtime = Math.max( timePhi, Math.max( timeTheta, timeDistance ));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPhi      *= timePhi / animationtime;\r\n\t\t\tthis._speedTheta    *= timeTheta / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPhi      = this._speedPhi * dt;\r\n\t\tvar deltaTheta    = this._speedTheta * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\r\n\t\tvar diffPhi      = this._targetPhi - this._phi;\r\n\t\tvar diffTheta    = this._targetTheta - this._theta;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\r\n\t\tif (diffPhi > deltaPhi)\r\n\t\t\tthis._phi += deltaPhi;\r\n\t\telse if (diffPhi < -deltaPhi)\r\n\t\t\tthis._phi -= deltaPhi;\r\n\t\telse\r\n\t\t\tthis._phi = this._targetPhi;\r\n\r\n\t\tif (diffTheta > deltaTheta)\r\n\t\t\tthis._theta += deltaTheta;\r\n\t\telse if (diffTheta < -deltaTheta)\r\n\t\t\tthis._theta -= deltaTheta;\r\n\t\telse\r\n\t\t\tthis._theta = this._targetTheta;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif(this._phi == this._targetPhi)\r\n\t\t\tif(this._theta == this._targetTheta)\r\n\t\t\t\tif(this._distance == this._targetDistance){\r\n\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action() { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._phi += dx;\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\r\n\t\t// avoid eternal accumulation of rotation, just for the sake of cleanliness\r\n\t\tif (this._phi > 10.0) this._phi = this._phi - 10.0;\r\n\t\tif (this._phi < -10.0) this._phi = this._phi + 10.0;\r\n\r\n\t\tthis._theta += dy;\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2018, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\n/**\r\n * Constructs a TurntableCylTrackball object.\r\n * @class Interactor which implements a Turntable controller + cylindrical pan with bounds.\r\n */\r\nfunction TurntablePanTrackball() {\r\n}\r\n\r\nTurntablePanTrackball.prototype = {\r\n\r\n\tsetup : function (options) {\r\n\t\toptions = options || {};\r\n\t\tvar opt = sglGetDefaultObject({\r\n\t\t\tstartCenter   : [ 0.0, 0.0, 0.0 ],\r\n\t\t\tstartPhi      : 0.0,\r\n\t\t\tstartTheta    : 0.0,\r\n\t\t\tstartDistance : 2.0,\r\n\t\t\tstartPanX     : 0.0,\r\n\t\t\tstartPanY     : 0.0,\r\n\t\t\tstartPanZ     : 0.0,\r\n\t\t\tminMaxDist    : [0.2, 4.0],\r\n\t\t\tminMaxPhi     : [-180, 180],\r\n\t\t\tminMaxTheta   : [-80.0, 80.0],\r\n\t\t\tminMaxPanX    : [-1.0, 1.0],\r\n\t\t\tminMaxPanY    : [-1.0, 1.0],\r\n\t\t\tminMaxPanZ    : [-1.0, 1.0],\r\n\t\t\tpathStates      : [ ],\t// path points array\r\n\t\t\tanimationLocked : false,// if true disable trackball interactions during animation\r\n\t\t\tanimationTime   : null\t// when single position navigation, each to point navigation is # seconds (if null, automatically computed)\r\n\t\t}, options);\r\n\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\t\tthis._matrix = SglMat4.identity();\r\n\r\n\t\t// path\r\n\t\tthis._pathStates = opt.pathStates;\r\n\t\tthis._animationLocked = opt.animationLocked;\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\t// trackball center\r\n\t\tthis._center = opt.startCenter;\r\n\r\n\t\t// starting/default parameters\r\n\t\tthis._startPhi = sglDegToRad(opt.startPhi);\t\t//phi (horizontal rotation)\r\n\t\tthis._startTheta = sglDegToRad(opt.startTheta);\t//theta (vertical rotation)\r\n\t\tthis._startPanX = opt.startPanX;\t\t\t\t//panX\r\n\t\tthis._startPanY = opt.startPanY;\t\t\t\t//panY\r\n\t\tthis._startPanZ = opt.startPanZ;\t\t\t\t//panZ\r\n\t\tthis._startDistance = opt.startDistance;\t\t//distance\r\n\r\n\t\t// current parameters\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._panZ = this._startPanZ;\r\n\t\tthis._distance = this._startDistance;\r\n\r\n\t\t// target paramenters\r\n\t\tthis._targetPhi = this._startPhi;\r\n\t\tthis._targetTheta = this._startTheta;\r\n\t\tthis._targetPanX = this._startPanX;\r\n\t\tthis._targetPanY = this._startPanY;\r\n\t\tthis._targetPanZ = this._startPanZ;\r\n\t\tthis._targetDistance = this._startDistance;\r\n\r\n\t\t//animation data\r\n\t\tthis._isAnimating = false;\r\n\t\tthis._speedPhi = 0.0;\r\n\t\tthis._speedTheta = 0.0;\r\n\t\tthis._speedPanX = 0.0;\r\n\t\tthis._speedPanY = 0.0;\r\n\t\tthis._speedPanZ = 0.0;\r\n\t\tthis._speedDistance = 0.0;\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._animationTime = opt.animationTime;\r\n\r\n\t\t// limits\r\n\t\tthis._minMaxDist  = opt.minMaxDist;\r\n\t\tif((opt.minMaxPhi[0] == -180)&&(opt.minMaxPhi[1] == 180))\r\n\t\t\tthis._limitPhi = false;\r\n\t\telse\r\n\t\t\tthis._limitPhi = true;\r\n\t\tthis._minMaxPhi   = opt.minMaxPhi;\r\n\t\tthis._minMaxPhi[0] = sglDegToRad(this._minMaxPhi[0]);\r\n\t\tthis._minMaxPhi[1] = sglDegToRad(this._minMaxPhi[1]);\r\n\t\tthis._minMaxTheta = opt.minMaxTheta;\r\n\t\tthis._minMaxTheta[0] = sglDegToRad(this._minMaxTheta[0]);\r\n\t\tthis._minMaxTheta[1] = sglDegToRad(this._minMaxTheta[1]);\r\n\t\tthis._minMaxPanX  = opt.minMaxPanX;\r\n\t\tthis._minMaxPanY  = opt.minMaxPanY;\r\n\t\tthis._minMaxPanZ  = opt.minMaxPanZ;\r\n\r\n\t\tthis._start = [0.0, 0.0];\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t_clamp : function(value, low, high) {\r\n\t\tif(value < low) return low;\r\n\t\tif(value > high) return high;\r\n\t\treturn value;\r\n\t},\r\n\r\n\t_computeMatrix: function() {\r\n\t\tvar m = SglMat4.identity();\r\n\r\n\t\t// centering\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._center[0], -this._center[1], -this._center[2]]));\r\n\t\t// zoom\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([0.0, 0.0, -this._distance]));\r\n\t\t// rotation\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]));\r\n\t\t// tilt\r\n\t\tm = SglMat4.mul(m, SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]));\r\n\t\t// panning\r\n\t\tm = SglMat4.mul(m, SglMat4.translation([-this._panX, -this._panY, -this._panZ]));\r\n\r\n\t\tthis._matrix = m;\r\n\r\n\t\tif(typeof onTrackballUpdate != \"undefined\")\r\n\t\t\tonTrackballUpdate(this.getState());\t\t\t\t\t\t\t  \r\n\t},\r\n\r\n\tgetState : function () {\r\n\t\treturn [sglRadToDeg(this._phi), sglRadToDeg(this._theta), this._panX, this._panY, this._panZ, this._distance];\r\n\t},\r\n\r\n\tsetState : function (newstate) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tthis._phi      = sglDegToRad(newstate[0]);\r\n\t\tthis._theta    = sglDegToRad(newstate[1]);\r\n\t\tthis._panX     = newstate[2];\r\n\t\tthis._panY     = newstate[3];\r\n\t\tthis._panZ     = newstate[4];\r\n\t\tthis._distance = newstate[5];\r\n\r\n\t\t//check limits\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._panZ = this._clamp(this._panZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\tanimateToState : function (newstate, newtime) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tif(newstate)\r\n\t\t{\r\n\t\t\t// stop autoWalking\r\n\t\t\tthis._isAutoWalking = false;\r\n\r\n\t\t\t// setting targets\r\n\t\t\tthis._targetPhi      = sglDegToRad(newstate[0]);\r\n\t\t\tthis._targetTheta    = sglDegToRad(newstate[1]);\r\n\t\t\tthis._targetPanX     = newstate[2];\r\n\t\t\tthis._targetPanY     = newstate[3];\r\n\t\t\tthis._targetPanZ     = newstate[4];\r\n\t\t\tthis._targetDistance = newstate[5];\r\n\r\n\t\t\t//check limits\r\n\t\t\tif(this._limitPhi)\r\n\t\t\t\tthis._targetPhi = this._clamp(this._targetPhi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\t\t\tthis._targetPhi = this._targetPhi % (2*Math.PI);\r\n\t\t\tthis._targetTheta = this._clamp(this._targetTheta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t\t\tthis._targetPanX = this._clamp(this._targetPanX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\t\tthis._targetPanY = this._clamp(this._targetPanY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\t\tthis._targetPanZ = this._clamp(this._targetPanZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\t\t\tthis._targetDistance = this._clamp(this._targetDistance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\r\n\t\t\t// setting base velocities\r\n\t\t\tthis._speedPhi = Math.PI;\r\n\t\t\tthis._speedTheta = Math.PI;\r\n\t\t\tthis._speedPanX = 1.0;\r\n\t\t\tthis._speedPanY = 1.0;\r\n\t\t\tthis._speedPanZ = 1.0;\r\n\t\t\tthis._speedDistance = 2.0;\r\n\r\n\t\t\t//if phi unconstrained rotation, it is necessary to find a good rotation direction\r\n\t\t\tif(!this._limitPhi){\r\n\t\t\t\t// normalize (-2pi 2pi) current phi angle, to prevent endless unwinding\r\n\t\t\t\tthis._phi = this._phi % (2*Math.PI);\r\n\r\n\t\t\t\t// determine minimal, normalized target phi angle, to prevent endless unwinding\r\n\t\t\t\tvar clampedangle = this._targetPhi;\r\n\t\t\t\tclampedangle = clampedangle % (2*Math.PI);\r\n\r\n\t\t\t\tif(Math.abs(clampedangle - this._phi) < Math.PI) { // standard rotation\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse{\r\n\t\t\t\t\tif(clampedangle > this._phi){\r\n\t\t\t\t\t\tclampedangle = (clampedangle - 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = -Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse{\r\n\t\t\t\t\t\tclampedangle = (clampedangle + 2*Math.PI)\r\n\t\t\t\t\t\tthis.speedphi = Math.PI;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._targetPhi = clampedangle;\r\n\t\t\t}\r\n\r\n\t\t\t// find max animation time to set a time limit and then synchronize all movements\r\n\t\t\tvar timePhi      = Math.abs((this._targetPhi - this._phi) / this._speedPhi);\r\n\t\t\tvar timeTheta    = Math.abs((this._targetTheta - this._theta) / this._speedTheta);\r\n\t\t\tvar timeDistance = Math.abs((this._targetDistance - this._distance) / this._speedDistance);\r\n\t\t\tvar timePanX     = Math.abs((this._targetPanX - this._panX) / this._speedPanX);\r\n\t\t\tvar timePanY     = Math.abs((this._targetPanY - this._panY) / this._speedPanY);\r\n\t\t\tvar timePanZ     = Math.abs((this._targetPanZ - this._panZ) / this._speedPanZ);\r\n\r\n\t\t\tvar maxtime = Math.max( timePhi, Math.max( timeTheta, Math.max( timeDistance, Math.max( timePanX, Math.max( timePanY, timePanZ )))));\r\n\t\t\tvar animationtime = this._clamp(maxtime, 0.5, 2.0);\r\n\r\n\t\t\tif(newtime) animationtime = newtime;\r\n\t\t\telse if (this._animationTime) animationtime = this._animationTime;\r\n\r\n\t\t\tthis._speedPhi      *= timePhi / animationtime;\r\n\t\t\tthis._speedTheta    *= timeTheta / animationtime;\r\n\t\t\tthis._speedDistance *= timeDistance / animationtime;\r\n\t\t\tthis._speedPanX     *= timePanX / animationtime;\r\n\t\t\tthis._speedPanY     *= timePanY / animationtime;\r\n\t\t\tthis._speedPanZ     *= timePanZ / animationtime;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif(this._pathPosNum == this._pathStates.length){\r\n\t\t\t\tthis._isAutoWalking = false;\r\n\t\t\t\tthis._pathPosNum = 0;\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar state = this._pathStates[this._pathPosNum][0];\r\n\t\t\t\tvar time = this._animationTime;\r\n\t\t\t\tif(!Array.isArray(state)) state = this._pathStates[this._pathPosNum];\r\n\t\t\t\telse if (this._pathStates[this._pathPosNum][1]) time = this._pathStates[this._pathPosNum][1];\r\n\t\t\t\tif(!this._isAutoWalking) this.animateToState(state, time);\r\n\t\t\t\tthis._isAutoWalking = true;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// start animation\r\n\t\tthis._isAnimating = true;\r\n\t},\r\n\r\n\trecenter : function (newpoint) {\r\n\t\t// stop animation\r\n\t\tthis._isAnimating = this._isAutoWalking = false;\r\n\r\n\t\tvar newpanX = (newpoint[0]-presenter.sceneCenter[0]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanY = (newpoint[1]-presenter.sceneCenter[1]) * presenter.sceneRadiusInv;\r\n\t\tvar newpanZ = (newpoint[2]-presenter.sceneCenter[2]) * presenter.sceneRadiusInv;\r\n\r\n\t\tthis.animateToState([sglRadToDeg(this._phi), sglRadToDeg(this._theta), newpanX, newpanY, newpanZ, (this._distance * 0.6)]);\r\n\t},\r\n\r\n\ttick : function (dt) {\r\n\t\tif(!this._isAnimating) return false;\r\n\r\n\t\tvar deltaPhi      = this._speedPhi * dt;\r\n\t\tvar deltaTheta    = this._speedTheta * dt;\r\n\t\tvar deltaDistance = this._speedDistance * dt;\r\n\t\tvar deltaPanX     = this._speedPanX * dt;\r\n\t\tvar deltaPanY     = this._speedPanY * dt;\r\n\t\tvar deltaPanZ     = this._speedPanZ * dt;\r\n\r\n\t\tvar diffPhi      = this._targetPhi - this._phi;\r\n\t\tvar diffTheta    = this._targetTheta - this._theta;\r\n\t\tvar diffDistance = this._targetDistance - this._distance;\r\n\t\tvar diffPanX     = this._targetPanX - this._panX;\r\n\t\tvar diffPanY     = this._targetPanY - this._panY;\r\n\t\tvar diffPanZ     = this._targetPanZ - this._panZ;\r\n\r\n\t\tif (diffPhi > deltaPhi)\r\n\t\t\tthis._phi += deltaPhi;\r\n\t\telse if (diffPhi < -deltaPhi)\r\n\t\t\tthis._phi -= deltaPhi;\r\n\t\telse\r\n\t\t\tthis._phi = this._targetPhi;\r\n\r\n\t\tif (diffTheta > deltaTheta)\r\n\t\t\tthis._theta += deltaTheta;\r\n\t\telse if (diffTheta < -deltaTheta)\r\n\t\t\tthis._theta -= deltaTheta;\r\n\t\telse\r\n\t\t\tthis._theta = this._targetTheta;\r\n\r\n\t\tif (diffDistance > deltaDistance)\r\n\t\t\tthis._distance += deltaDistance;\r\n\t\telse if (diffDistance < -deltaDistance)\r\n\t\t\tthis._distance -= deltaDistance;\r\n\t\telse\r\n\t\t\tthis._distance = this._targetDistance;\r\n\r\n\t\tif (diffPanX > deltaPanX)\r\n\t\t\tthis._panX += deltaPanX;\r\n\t\telse if (diffPanX < -deltaPanX)\r\n\t\t\tthis._panX -= deltaPanX;\r\n\t\telse\r\n\t\t\tthis._panX = this._targetPanX;\r\n\r\n\t\tif (diffPanY > deltaPanY)\r\n\t\t\tthis._panY += deltaPanY;\r\n\t\telse if (diffPanY < -deltaPanY)\r\n\t\t\tthis._panY -= deltaPanY;\r\n\t\telse\r\n\t\t\tthis._panY = this._targetPanY;\r\n\r\n\t\tif (diffPanZ > deltaPanZ)\r\n\t\t\tthis._panZ += deltaPanZ;\r\n\t\telse if (diffPanZ < -deltaPanZ)\r\n\t\t\tthis._panZ -= deltaPanZ;\r\n\t\telse\r\n\t\t\tthis._panZ = this._targetPanZ;\r\n\r\n\t\tif(this._phi == this._targetPhi)\r\n\t\t\tif(this._theta == this._targetTheta)\r\n\t\t\t\tif(this._distance == this._targetDistance)\r\n\t\t\t\t\tif(this._panX == this._targetPanX)\r\n\t\t\t\t\t\tif(this._panY == this._targetPanY)\r\n\t\t\t\t\t\t\tif(this._panZ == this._targetPanZ){\r\n\t\t\t\t\t\t\t\tthis._isAnimating = false; \r\n\t\t\t\t\t\t\t\tif(this._isAutoWalking) { this._pathPosNum++; this._isAutoWalking = false; this.animateToState(); }\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\tthis._computeMatrix();\r\n\t\treturn true;\r\n\t},\r\n\r\n\tset action(a) { if(this._action != a) { this._new_action = true; this._action = a; } },\r\n\r\n\tget action() { return this._action; },\r\n\r\n\tget matrix() { this._computeMatrix(); return this._matrix; },\r\n\r\n\tget distance() { return this._distance; },\r\n\r\n\treset : function () {\r\n\t\tthis._matrix = SglMat4.identity();\r\n\t\tthis._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tthis._new_action = true;\r\n\r\n\t\tthis._phi = this._startPhi;\r\n\t\tthis._theta = this._startTheta;\r\n\t\tthis._distance = this._startDistance;\r\n\t\tthis._panX = this._startPanX;\r\n\t\tthis._panY = this._startPanY;\r\n\t\tthis._panZ = this._startPanZ;\r\n\r\n\t\tthis._pathPosNum = 0;\r\n\r\n\t\tthis._isAutoWalking = false;\r\n\t\tthis._isAnimating = false;\r\n\r\n\t\tthis._computeMatrix();\r\n\t},\r\n\r\n\ttrack : function(m, x, y, z) {\r\n\t\tif(this._animationLocked && this._isAnimating) this._action = SGL_TRACKBALL_NO_ACTION;\r\n\t\tif(this._new_action) {\r\n\t\t\tthis._start[0] = x;\r\n\t\t\tthis._start[1] = y;\r\n\t\t\tthis._new_action = false;\r\n\t\t}\r\n\r\n\t\tvar dx = this._start[0] - x;\r\n\t\tvar dy = this._start[1] - y;\r\n\t\tthis._start[0] = x;\r\n\t\tthis._start[1] = y;\r\n\r\n\t\tswitch (this._action) {\r\n\t\t\tcase SGL_TRACKBALL_ROTATE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.rotate(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_PAN:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.pan(m, dx, dy);\r\n\t\t\tbreak;\r\n\r\n\t\t\tcase SGL_TRACKBALL_SCALE:\r\n\t\t\t\tthis._isAnimating = this._isAutoWalking = false; //stopping animation\r\n\t\t\t\tthis.scale(m, z);\r\n\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\treturn this._computeMatrix();\r\n\t},\r\n\r\n\tpan: function(m, dx, dy) {\r\n\t\t//determining current X, Y and Z axis\r\n\t\tvar Xvec = [1.0, 0.0, 0.0, 1.0];\r\n\t\tvar Yvec = [0.0, 1.0, 0.0, 1.0];\r\n\t\tvar Zvec = [0.0, 0.0, 1.0, 1.0];\r\n\t\tXvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Xvec);\r\n\t\tYvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Yvec);\r\n\t\tZvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._phi, [0.0, -1.0, 0.0]), Zvec);\r\n\t\tXvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Xvec);\r\n\t\tYvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Yvec);\r\n\t\tZvec = SglMat4.mul4(SglMat4.rotationAngleAxis(this._theta, [1.0, 0.0, 0.0]), Zvec);\r\n\r\n\t\tvar panSpeed = Math.max(Math.min(1.5, this._distance),0.05);\r\n\t\tthis._panX += ((dx * Xvec[0]) + (dy * Xvec[1])) * panSpeed;\r\n\t\tthis._panY += ((dx * Yvec[0]) + (dy * Yvec[1])) * panSpeed;\r\n\t\tthis._panZ += ((dx * Zvec[0]) + (dy * Zvec[1])) * panSpeed;\r\n\r\n\t\t//clamping\r\n\t\tthis._panX = this._clamp(this._panX, this._minMaxPanX[0], this._minMaxPanX[1]);\r\n\t\tthis._panY = this._clamp(this._panY, this._minMaxPanY[0], this._minMaxPanY[1]);\r\n\t\tthis._panZ = this._clamp(this._panZ, this._minMaxPanZ[0], this._minMaxPanZ[1]);\r\n\t},\r\n\r\n\trotate: function(m, dx, dy) {\r\n\t\tthis._phi += dx;\r\n\t\tif(this._limitPhi)\r\n\t\t\tthis._phi = this._clamp(this._phi, this._minMaxPhi[0], this._minMaxPhi[1]);\r\n\r\n\t\t// avoid eternal accumulation of rotation, just for the sake of cleanliness\r\n\t\tif (this._phi > 10.0) this._phi = this._phi - 10.0;\r\n\t\tif (this._phi < -10.0) this._phi = this._phi + 10.0;\r\n\r\n\t\tthis._theta += dy;\r\n\t\tthis._theta = this._clamp(this._theta, this._minMaxTheta[0], this._minMaxTheta[1]);\r\n\t},\r\n\r\n\tscale : function(m, s) {\r\n\t\tthis._distance *= s;\r\n\t\tthis._distance = this._clamp(this._distance, this._minMaxDist[0], this._minMaxDist[1]);\r\n\t}\r\n};\r\n/***********************************************************************/\r\n","/*\r\n3DHOP - 3D Heritage Online Presenter\r\nCopyright (c) 2014-2020, Visual Computing Lab, ISTI - CNR\r\nAll rights reserved.\r\n\r\nThis program is free software: you can redistribute it and/or modify\r\nit under the terms of the GNU General Public License as published by\r\nthe Free Software Foundation, either version 3 of the License, or\r\n(at your option) any later version.\r\n\r\nThis program is distributed in the hope that it will be useful,\r\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\r\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\r\nGNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License\r\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\r\n*/\r\n\r\nfunction init3dhop() {\r\n\tif (isIOS()) $('head').append('<meta name=\"viewport\" content=\"width=device-width\">'); //IOS DEVICES CHECK\r\n\r\n\tvar interval, id, ismousedown;\r\n\tvar button = 0;\r\n\r\n\t$('#toolbar img')\r\n\t\t.mouseenter(function(e) {\r\n\t\t\tid = $(this).attr('id');\r\n\t\t\tif(!ismousedown) $(this).css(\"opacity\",\"0.8\");\r\n\t\t\telse $(this).css(\"opacity\",\"1.0\");\r\n\t\t})\r\n\t\t.mouseout(function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t\t$(this).css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.mousedown(function(e) {\r\n\t\t\tid = $(this).attr('id');\r\n\t\t\tismousedown = true;\r\n\t\t\tif(e.button==button){\r\n\t\t\t\tactionsToolbar(id);\r\n\t\t\t\tif(id == \"zoomin\" || id == \"zoomout\"){\r\n\t\t\t\t\tinterval = setInterval(function(){\r\n\t\t\t\t\t\tactionsToolbar(id);\r\n\t\t\t\t\t}, 100);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tclearInterval(interval); \r\n\t\t\t\t}\r\n\t\t\t\t$(this).css(\"opacity\",\"1.0\");\r\n\t\t\t\tbutton=0;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.mouseup(function(e) {\r\n\t\t\tismousedown = false;\r\n\t\t\tif(e.button==button){\r\n\t\t\t\tclearInterval(interval); \r\n\t\t\t\t$(this).css(\"opacity\",\"0.8\");\r\n\t\t\t\tbutton=0;\r\n\t\t\t}\r\n\t\t})\r\n\t\t.on('touchstart', function(e) { \r\n\t\t\tbutton=2;\r\n\t\t})\r\n\t\t.on('touchend', function(e) {\r\n\t\t\tbutton=0;\r\n\t\t});\r\n\r\n\t$('.output-table td:has(.output-text,.output-input)').css(\"border-radius\", \"5px\").css(\"background-color\", \"rgba(125,125,125,0.25)\");\r\n\r\n\t$('#3dhop')\r\n\t\t.on('touchstart pointerdown', function(e) {\r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.on('touchend pointerup', function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t})\r\n\t\t.on('touchmove', function(e) {\r\n\t\t\tclearInterval(interval); \r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t});\r\n\r\n\t$('#3dhop:not(#draw-canvas)').on('contextmenu', function(e) { return false; });\r\n\r\n\t$('#draw-canvas')\r\n\t\t.on('contextmenu', function(e) {\r\n\t\t\tif (!isMobile()) return false; //MOBILE DEVICES CHECK\r\n\t\t})\r\n\t\t.on('touchstart pointerdown', function(e) {\r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\");\r\n\t\t})\r\n\t\t.mousedown(function(e) { \r\n\t\t\t$('#toolbar img').css(\"opacity\",\"0.5\"); \r\n\t\t\tif(e.preventDefault) e.preventDefault(); \r\n\t\t\tif (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n\t\t\telse if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n\t\t});\r\n\r\n\t$(document).on('MSFullscreenChange mozfullscreenchange webkitfullscreenchange', function(e) { //fullscreen handler \r\n\t\tif(!document.msFullscreenElement&&!document.mozFullScreen&&!document.webkitIsFullScreen) exitFullscreen();\r\n\t});\r\n\r\n\tif (window.navigator.userAgent.indexOf('Trident/') > 0) { //IE fullscreen handler \r\n\t\t$('#full').click(function() {enterFullscreen();});\r\n\t\t$('#full_on').click(function() {exitFullscreen();});\r\n\t}\r\n\r\n\t$(window).on('resize', function () {\r\n//\t\tif (!presenter._resizable) return;\r\n\r\n\t\tvar width, height;\r\n\r\n\t\tif(document.fullscreenElement || document.mozFullScreenElement || document.webkitFullscreenElement ) {\r\n\t\t\twidth = Math.max(document.documentElement.clientWidth, window.innerWidth);\r\n\t\t\theight = window.innerHeight;\r\n\t\t}\r\n\t\telse {\r\n\t\t\twidth = $('#3dhop').parent().width();\r\n\t\t\theight = $('#3dhop').parent().height();\r\n\t\t}\r\n\r\n\t\tresizeCanvas(width,height);\r\n\r\n\t\tpresenter.ui.postDrawEvent();\r\n\t});\r\n\r\n\t$('.close').mouseenter( function() {\r\n\t\t$('.close').css(\"display\", \"none\");\r\n\t\t$('.close_on').css(\"display\", \"inline\");\r\n\t});\r\n\t$('.close_on').mouseleave( function() {\r\n\t\t$('.close_on').css(\"display\", \"none\");\r\n\t\t$('.close').css(\"display\", \"inline\");\r\n\t});\r\n\r\n\tresizeCanvas($('#3dhop').parent().width(),$('#3dhop').parent().height());\r\n\r\n\tanchorPanels();\r\n\r\n\tset3dhlg();\r\n}\r\n\r\nfunction set3dhlg() {\r\n  $('#tdhlg').css({right:2, bottom:2});\r\n  $('#tdhlg').html(\"Powered by 3DHOP</br>CNR &nbsp;&ndash;&nbsp; ISTI\");\r\n  $('#tdhlg').mouseover(function() {\r\n\t $('#tdhlg').animate({ \r\n\t\theight: \"25px\"\r\n\t  }, \"fast\" );\r\n\t })\r\n\t.mouseout(function() {\r\n\t $('#tdhlg').animate({ \r\n\t\theight: \"13px\"\r\n\t  }, \"slow\" );\r\n\t });\r\n  $('#tdhlg').click(function() { window.open('http://vcg.isti.cnr.it/3dhop/', '_blank') });\r\n}\r\n\r\n// +++ INTERFACE SWITCHING FUNCTIONS +++ //\r\n\r\nfunction lightSwitch(on) {\r\n  if(on === undefined) on = presenter.isLightTrackballEnabled();\r\n\r\n  if(on){\r\n    $('#light').css(\"visibility\", \"hidden\");\r\n    $('#light_on').css(\"visibility\", \"visible\");\r\n    $('#lighting_off').css(\"visibility\", \"hidden\");\t//manage lighting combined interface\r\n    $('#lighting').css(\"visibility\", \"visible\");\t//manage lighting combined interface\r\n  }\r\n  else{\r\n    $('#light_on').css(\"visibility\", \"hidden\");\r\n    $('#light').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction lightingSwitch(on) {\r\n  if(on === undefined) on = presenter.isSceneLightingEnabled();\r\n\r\n  if(on){\r\n    $('#lighting_off').css(\"visibility\", \"hidden\");\r\n    $('#lighting').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#lighting').css(\"visibility\", \"hidden\");\r\n    $('#lighting_off').css(\"visibility\", \"visible\");\r\n    $('#light_on').css(\"visibility\", \"hidden\");\t//manage light combined interface\r\n    $('#light').css(\"visibility\", \"visible\");\t//manage light combined interface\r\n  }\r\n}\r\n\r\nfunction hotspotSwitch(on) {\r\n  if(on === undefined) on = presenter.isSpotVisibilityEnabled();\r\n\r\n  if(on){\r\n    $('#hotspot').css(\"visibility\", \"hidden\");\r\n    $('#hotspot_on').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#hotspot_on').css(\"visibility\", \"hidden\");\r\n    $('#hotspot').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction pickpointSwitch(on) {\r\n  if(on === undefined) on = presenter.isPickpointModeEnabled();\r\n\r\n  if(on){  \r\n    $('#pick').css(\"visibility\", \"hidden\");\r\n    $('#pick_on').css(\"visibility\", \"visible\");\r\n    $('#pickpoint-box').fadeIn().css(\"display\",\"table\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#pick_on').css(\"visibility\", \"hidden\");\r\n    $('#pick').css(\"visibility\", \"visible\");\r\n    $('#pickpoint-box').css(\"display\",\"none\");\r\n    $('#pickpoint-output').html(\"[ 0 , 0 , 0 ]\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\nfunction measureSwitch(on) {\r\n  if(on === undefined) on = presenter.isMeasurementToolEnabled();\r\n\r\n  if(on){  \r\n    $('#measure').css(\"visibility\", \"hidden\");\r\n    $('#measure_on').css(\"visibility\", \"visible\");\r\n    $('#measure-box').fadeIn().css(\"display\",\"table\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#measure_on').css(\"visibility\", \"hidden\");\r\n    $('#measure').css(\"visibility\", \"visible\");\r\n    $('#measure-box').css(\"display\",\"none\");\r\n    $('#measure-output').html(\"0.0\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\nfunction colorSwitch(on) {\r\n  if(on === undefined) on = $('#color').css(\"visibility\")==\"visible\";\r\n\r\n  if(on) {\r\n\t$('#color').css(\"visibility\", \"hidden\");\r\n\t$('#color_on').css(\"visibility\", \"visible\");\r\n  }\r\n  else {\r\n\t$('#color_on').css(\"visibility\", \"hidden\");\r\n\t$('#color').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction cameraSwitch(on) {\r\n  if(on === undefined) on = $('#perspective').css(\"visibility\")==\"visible\";\r\n\r\n  if(on){\r\n    $('#perspective').css(\"visibility\", \"hidden\");\r\n    $('#orthographic').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n    $('#orthographic').css(\"visibility\", \"hidden\");\r\n    $('#perspective').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\n\r\nfunction helpSwitch(on) {\r\n  if(on === undefined) on = $('#help').css(\"visibility\")==\"visible\";\r\n\r\n  if(on) {\r\n\t$('#help').css(\"visibility\", \"hidden\");\r\n\t$('#help_on').css(\"visibility\", \"visible\");\r\n  }\r\n  else {\r\n\t$('#help_on').css(\"visibility\", \"hidden\");\r\n\t$('#help').css(\"visibility\", \"visible\");\r\n  }\r\n}\r\n\r\nfunction sectiontoolSwitch(on) {\r\n  if(on === undefined) on = $('#sections').css(\"visibility\")==\"visible\";\r\n\r\n  if(on){\r\n\t$('#sections').css(\"visibility\", \"hidden\");\r\n\t$('#sections_on').css(\"visibility\", \"visible\");\r\n\t$('#sections-box').fadeIn().css(\"display\",\"table\");\r\n\t$('#xplane, #yplane, #zplane').css(\"visibility\", \"visible\");\r\n  }\r\n  else{\r\n\t$('#sections_on').css(\"visibility\", \"hidden\");\r\n\t$('#sections').css(\"visibility\", \"visible\");\r\n\t$('#sections-box').css(\"display\",\"none\");\r\n\t$('#sections-box img').css(\"visibility\", \"hidden\");\r\n\tpresenter.setClippingXYZ(0, 0, 0);\r\n  }\r\n}\r\n\r\nfunction sectiontoolInit() {\r\n\t// set sections value\r\n\tpresenter.setClippingPointXYZ(0.5, 0.5, 0.5);\r\n\r\n\t// set sliders \r\n\tvar xplaneSlider = $('#xplaneSlider')[0];\r\n\txplaneSlider.min = 0.0;\r\n\txplaneSlider.max = 1.0;\r\n\txplaneSlider.step = 0.01;\r\n\txplaneSlider.defaultValue = 0.5;\r\n\txplaneSlider.oninput=function(){ sectionxSwitch(true); presenter.setClippingPointX(this.valueAsNumber);};\r\n\txplaneSlider.onchange=function(){ sectionxSwitch(true); presenter.setClippingPointX(this.valueAsNumber);};\r\n\r\n\tvar yplaneSlider = $('#yplaneSlider')[0];\r\n\typlaneSlider.min = 0.0;\r\n\typlaneSlider.max = 1.0;\r\n\typlaneSlider.step = 0.01;\r\n\typlaneSlider.defaultValue = 0.5;\r\n\typlaneSlider.oninput=function(){ sectionySwitch(true); presenter.setClippingPointY(this.valueAsNumber);};\r\n\typlaneSlider.onchange=function(){ sectionySwitch(true); presenter.setClippingPointY(this.valueAsNumber);};\r\n\r\n\tvar zplaneSlider = $('#zplaneSlider')[0];\r\n\tzplaneSlider.min = 0.0;\r\n\tzplaneSlider.max = 1.0;\r\n\tzplaneSlider.step = 0.01;\r\n\tzplaneSlider.defaultValue = 0.5;\r\n\tzplaneSlider.oninput=function(){ sectionzSwitch(true); presenter.setClippingPointZ(this.valueAsNumber);};\r\n\tzplaneSlider.onchange=function(){ sectionzSwitch(true); presenter.setClippingPointZ(this.valueAsNumber);};\r\n\r\n\t// set checkboxes\r\n\tvar xplaneFlip = $('#xplaneFlip')[0];\r\n\txplaneFlip.defaultChecked = false;\r\n\txplaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingX()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingX(-1);\r\n\t\t\telse presenter.setClippingX(1);\r\n\t\t}\r\n\t};\r\n\r\n\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\typlaneFlip.defaultChecked = false;\r\n\typlaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingY()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingY(-1);\r\n\t\t\telse presenter.setClippingY(1);\r\n\t\t}\r\n\t};\r\n\r\n\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\tzplaneFlip.defaultChecked = false;\r\n\tzplaneFlip.onchange=function(){\r\n\t\tif(presenter.getClippingZ()!=0){\r\n\t\t\tif(this.checked) presenter.setClippingZ(-1);\r\n\t\t\telse presenter.setClippingZ(1);\r\n\t\t}\r\n\t};\r\n\t\r\n\tvar planesCheck = $('#showPlane')[0];\r\n\tplanesCheck.defaultChecked = presenter.getClippingRendermode()[0];\r\n\tplanesCheck.onchange = function(){ presenter.setClippingRendermode(this.checked, presenter.getClippingRendermode()[1]); };\r\n\r\n\tvar edgesCheck = $('#showBorder')[0];\r\n\tedgesCheck.defaultChecked = presenter.getClippingRendermode()[1];\r\n\tedgesCheck.onchange=function(){ presenter.setClippingRendermode(presenter.getClippingRendermode()[0], this.checked); };\r\n}\r\n\r\nfunction sectiontoolReset() {\r\n\t// reset sections value\r\n\tpresenter.setClippingPointXYZ(0.5, 0.5, 0.5);\r\n\r\n\t// reset sliders \r\n\tvar xplaneSlider = $('#xplaneSlider')[0];\r\n\txplaneSlider.value = xplaneSlider.defaultValue;\r\n\r\n\tvar yplaneSlider = $('#yplaneSlider')[0];\r\n\typlaneSlider.value = yplaneSlider.defaultValue;\r\n\r\n\tvar zplaneSlider = $('#zplaneSlider')[0]; \r\n\tzplaneSlider.value = zplaneSlider.defaultValue;\r\n\r\n\t// reset checkboxes\r\n\tvar xplaneFlip = $('#xplaneFlip')[0];\r\n\txplaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\typlaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\tzplaneFlip.checked = xplaneFlip.defaultChecked;\r\n\r\n\tvar planesCheck = $('#showPlane')[0];\r\n\tplanesCheck.checked = planesCheck.defaultChecked;\r\n\tpresenter.setClippingRendermode(planesCheck.checked, presenter.getClippingRendermode()[1]);\r\n\r\n\tvar edgesCheck = $('#showBorder')[0];\r\n\tedgesCheck.checked = edgesCheck.defaultChecked;\r\n\tpresenter.setClippingRendermode(presenter.getClippingRendermode()[0], edgesCheck.checked);\r\n}\r\n\r\nfunction sectionxSwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingX()==0);\r\n\r\n\tif(on){\r\n\t\t$('#xplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#xplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar xplaneFlip = $('#xplaneFlip')[0]; \r\n\t\tif(xplaneFlip.checked) presenter.setClippingX(-1);\r\n\t\telse presenter.setClippingX(1);\r\n\t}\r\n\telse {\r\n\t\t$('#xplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#xplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingX(0);\r\n\t}\r\n}\r\n\r\nfunction sectionySwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingY()==0);\r\n\r\n\tif(on){\r\n\t\t$('#yplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#yplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar yplaneFlip = $('#yplaneFlip')[0];\r\n\t\tif(yplaneFlip.checked) presenter.setClippingY(-1);\r\n\t\telse presenter.setClippingY(1);\r\n\t}\r\n\telse {\r\n\t\t$('#yplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#yplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingY(0);\r\n\t}\r\n}\r\n\r\nfunction sectionzSwitch(on) {\r\n  if(on === undefined) on = (presenter.getClippingZ()==0);\r\n\r\n\tif(on){\r\n\t\t$('#zplane').css(\"visibility\", \"hidden\");\r\n\t\t$('#zplane_on').css(\"visibility\", \"visible\");\r\n\t\tvar zplaneFlip = $('#zplaneFlip')[0];\r\n\t\tif(zplaneFlip.checked) presenter.setClippingZ(-1);\r\n\t\telse presenter.setClippingZ(1);\r\n\t}\r\n\telse {\r\n\t\t$('#zplane_on').css(\"visibility\", \"hidden\");\r\n\t\t$('#zplane').css(\"visibility\", \"visible\");\r\n\t\tpresenter.setClippingZ(0);\r\n\t}\r\n}\r\n\r\nfunction fullscreenSwitch() {\r\n  if($('#full').css(\"visibility\")==\"visible\"){\r\n    if (window.navigator.userAgent.indexOf('Trident/') < 0) enterFullscreen();\r\n  }\r\n  else{\r\n    if (window.navigator.userAgent.indexOf('Trident/') < 0) exitFullscreen();\r\n  }\r\n}\r\n\r\nfunction enterFullscreen() {\r\n  $('#full').css(\"visibility\", \"hidden\");\r\n  $('#full_on').css(\"visibility\", \"visible\");\r\n\r\n  if (isIOS()) return; //IOS DEVICES CHECK\r\n\r\n  presenter._nativeWidth  = presenter.ui.width;\r\n  presenter._nativeHeight = presenter.ui.height;\r\n//  presenter._nativeResizable = presenter._resizable;\r\n//  presenter._resizable = true;\r\n\r\n  var viewer = $('#3dhop')[0];\r\n  if (viewer.msRequestFullscreen) viewer.msRequestFullscreen();\r\n  else if (viewer.mozRequestFullScreen) viewer.mozRequestFullScreen();\r\n  else if (viewer.webkitRequestFullscreen) viewer.webkitRequestFullscreen();\r\n\r\n  presenter.ui.postDrawEvent();\r\n}\r\n\r\nfunction exitFullscreen() {\r\n  $('#full_on').css(\"visibility\", \"hidden\");\r\n  $('#full').css(\"visibility\", \"visible\");\r\n\r\n  if (isIOS()) return; //IOS DEVICES CHECK\r\n\r\n  resizeCanvas(presenter._nativeWidth,presenter._nativeHeight)\r\n//  presenter._resizable = presenter._nativeResizable;\r\n\r\n  if (document.msExitFullscreen) document.msExitFullscreen();\r\n  else if (document.mozCancelFullScreen) document.mozCancelFullScreen();\r\n  else if (document.webkitExitFullscreen) document.webkitExitFullscreen();\r\n\r\n  presenter.ui.postDrawEvent(); \r\n}\r\n\r\nfunction showPanel(id) {\r\n    $('#cover').css(\"display\", \"table\");\r\n    $('.panel').css(\"display\", \"none\");\r\n    $('#'+id).css(\"display\", \"table\");\r\n}\r\n\r\n/*DEPRECATED*/\r\nfunction measurementSwitch() {\r\n  var on = presenter.isMeasurementToolEnabled();\r\n\r\n  if(on){\r\n    $('#measure').css(\"visibility\", \"hidden\");\r\n    $('#measure_on').css(\"visibility\", \"visible\");\r\n    $('#measurebox').css(\"visibility\",\"visible\");\r\n    $('#draw-canvas').css(\"cursor\",\"crosshair\");\r\n  }\r\n  else{\r\n    if (window.getSelection && window.getSelection()!='') window.getSelection().removeAllRanges();\r\n    else if (document.selection && document.selection.createRange()!='') document.selection.empty();\r\n    $('#measure_on').css(\"visibility\", \"hidden\");\r\n    $('#measure').css(\"visibility\", \"visible\");\r\n    $('#measurebox').css(\"visibility\",\"hidden\");\r\n    $('#measure-output').html(\"0.0\");\r\n    if (!presenter.isAnyMeasurementEnabled()) $('#draw-canvas').css(\"cursor\",\"default\");\r\n  }\r\n}\r\n\r\n// +++ INTERFACE POSITIONING FUNCTIONS +++ //\r\n\r\nfunction moveToolbar(l,t) {\r\n\t$('#toolbar').css('left', l);\r\n\t$('#toolbar').css('top', t);\r\n\tanchorPanels();\r\n}\r\n\r\nfunction movePickpointbox(l,t) {\r\n\t$('#pickpoint-box').css('left', l);\r\n\t$('#pickpoint-box').css('top', t);\r\n}\r\n\r\nfunction moveMeasurementbox(l,t) {\r\n\t$('#measure-box').css('left', l);\r\n\t$('#measure-box').css('top', t);\r\n}\r\n\r\nfunction moveSectionsbox(l,t) {\r\n\t$('#sections-box').css('left', l);\r\n\t$('#sections-box').css('top', t);\r\n}\r\n\r\n/*DEPRECATED*/\r\nfunction moveMeasurebox(r,t) {\r\n  $('#measurebox').css('right', r);\r\n  $('#measurebox').css('top', t);\r\n}\r\n\r\nfunction resizeCanvas(w,h) {\r\n  $('#draw-canvas').attr('width', w);\r\n  $('#draw-canvas').attr('height',h);\r\n  $('#3dhop').css('width', w);\r\n  $('#3dhop').css('height', h);\r\n\r\n//  if (!presenter) return;\r\n\r\n//  var width, height;\r\n//  width = Math.max(document.documentElement.clientWidth, window.innerWidth || 0);\r\n//  (isIOS()) ? (height = document.documentElement.clientHeight) : (height = window.innerHeight); //IOS DEVICES CHECK\r\n\r\n//  if (width != w || height != h) presenter._resizable = false;\r\n//  else presenter._resizable = true;\r\n}\r\n\r\nfunction anchorPanels() {\r\n\tif ($('#pickpoint-box')[0] && $('#pick')[0]) \r\n\t{\r\n\t\t$('#pickpoint-box').css('left', ($('#pick').position().left + $('#pick').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#pickpoint-box').css('top', ($('#pick').position().top + $('#toolbar').position().top));\r\n\t}\r\n\tif ($('#measure-box')[0] && $('#measure')[0])\r\n\t{\r\n\t\t$('#measure-box').css('left', ($('#measure').position().left + $('#measure').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#measure-box').css('top', ($('#measure').position().top + $('#toolbar').position().top));\r\n\t}\r\n\tif ($('#sections-box')[0] && $('#sections')[0]) \r\n\t{\r\n\t\t$('#sections-box').css('left', ($('#sections').position().left + $('#sections').width() + $('#toolbar').position().left + 5));\r\n\t\t$('#sections-box').css('top', ($('#sections').position().top + $('#toolbar').position().top));\r\n\t}\r\n}\r\n\r\n// +++ INTERFACE UTILITY FUNCTIONS +++ //\r\n\r\nfunction isIOS() {\r\n\tvar isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n\treturn isIOS;\r\n}\r\n\r\nfunction isMobile() {\r\n\tvar isMobile = (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4)));\r\n\treturn isMobile;\r\n}\r\n"]}