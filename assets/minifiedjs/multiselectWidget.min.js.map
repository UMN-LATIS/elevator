{"version":3,"sources":["multiselectWidget.js"],"names":["loadGroup","targetId","sourceContent","$","find","each","index","el","selectIndex","data","category","entryList","keys","Object","sort","key","value","append","attr","text","groupSelected","selectedItems","val","trigger","loadCascadeNumber","parentGroup","targetCategory","target","i","targetElement","selectedItem","selectElement","empty","isNumeric","length","itemName","document","on","e","this","closest","selectedElements","filter"],"mappings":"AAEA,QAASA,WAAUC,GAEAC,cAAcD,EAChCE,GAAE,IAAIF,GAAUG,KAAK,gBAAgBC,KAAK,SAASC,EAAOC,GAEzD,GAAIC,GAAcL,EAAEI,GAAIE,KAAK,iBACzBC,EAAWP,EAAEI,GAAIE,KAAK,WAE1B,IAAmB,IAAhBD,EAAmB,CACrB,GAAIG,GAAYT,cAAcD,GAAUS,EAExC,IAAGC,EAAW,CACb,GAAIC,GAAOC,OAAOD,KAAKD,EACvBC,GAAKE,OAELX,EAAEE,KAAKO,EAAK,SAASG,EAAKC,GACzBb,EAAEI,GAAIU,OAAOd,EAAE,qBAAqBe,KAAK,QAAQF,GAAOG,KAAKH,KAE9D,IAAII,GAAgBC,cAAcpB,EAC/BmB,GAAcV,KAChBP,EAAEI,GAAIe,IAAIF,EAAcV,IACxBP,EAAEI,GAAIgB,QAAQ,eA2BnB,QAASC,mBAAkBC,EAAajB,GAEvC,GAEIkB,GAFAC,EAASzB,cAAcC,EAAEsB,GAAaP,KAAK,OAC3CE,EAAgBC,cAAclB,EAAEsB,GAAaP,KAAK,MAEtD,KAAIU,EAAE,EAAGA,EAAEpB,EAAaoB,IAAK,CAC5B,GAAIC,GAAgB1B,EAAEsB,GAAarB,KAAK,uBAAyBwB,EAAI,IACrEF,GAAiBvB,EAAE0B,GAAepB,KAAK,WACvC,IAAIqB,GAAe3B,EAAE0B,GAAeP,KACpCK,GAASA,EAAOD,GAAgBI,GAIjC,GAAIC,GAAgB5B,EAAEsB,GAAarB,KAAK,uBAAyBI,EAAc,IAG/E,IADAkB,EAAiBvB,EAAE4B,GAAetB,KAAK,YACvC,CAGAkB,EAASA,EAAOD,GAChBvB,EAAE4B,GAAeC,QACjB7B,EAAE4B,GAAed,OAAO,oBAIxB,IAAIL,GAAOC,OAAOD,KAAKe,EAcvB,KAbIxB,EAAE8B,UAAUrB,EAAK,KAKpBe,EAAOb,OACPF,EAAOC,OAAOD,KAAKe,IAJnBf,EAAKE,OAUNoB,OAAStB,EAAKsB,OACTN,EAAI,EAAGA,EAAIM,OAAQN,IAAK,CAC5Bb,IAAMH,EAAKgB,GACXZ,MAAQW,EAAOZ,IACf,IAAIoB,EAEHA,GADEhC,EAAE8B,UAAUlB,KACHC,MAGAD,IAEZZ,EAAE4B,GAAed,OAAOd,EAAE,qBAAqBe,KAAK,QAAQiB,GAAUhB,KAAKgB,IASzEf,EAAcM,KAChBvB,EAAE4B,GAAeT,IAAIF,EAAcM,IACnCvB,EAAE4B,GAAeR,QAAQ,YA/E3BpB,EAAEiC,UAAUC,GAAG,SAAU,eAAgB,SAASC,GAEjD,GAAI9B,GAAcL,EAAEoC,MAAM9B,KAAK,iBAE3BgB,GADWtB,EAAEoC,MAAM9B,KAAK,YACVN,EAAEoC,MAAMC,QAAQ,sBAC9BC,EAAmBtC,EAAEsB,GAAarB,KAAK,wBAAwBsC,OAAO,WACzE,MAAOvC,GAAEoC,MAAMrB,KAAK,sBAAwBV,GAG7CL,GAAEsC,GAAkBpC,KAAK,SAASC,EAAOC,GACxCJ,EAAEI,GAAIe,IAAI,MAIXE,kBAAkBC,EAAajB,EAAY","file":"multiselectWidget.min.js","sourcesContent":["\n\nfunction loadGroup(targetId) {\n\n\tvar targetArray = sourceContent[targetId];\n\t$(\"#\"+targetId).find(\".multiSelect\").each(function(index, el) {\n\n\t\tvar selectIndex = $(el).data(\"cascadenumber\");\n\t\tvar category = $(el).data(\"category\");\n\n\t\tif(selectIndex === 0) {\n\t\t\tvar entryList = sourceContent[targetId][category];\n\n\t\t\tif(entryList) {\n\t\t\t\tvar keys = Object.keys(entryList);\n\t\t\t\tkeys.sort();\n\n\t\t\t\t$.each(keys,function(key, value) {\n\t\t\t\t\t$(el).append($(\"<option></option>\").attr(\"value\",value).text(value));\n\t\t\t\t});\n\t\t\t\tvar groupSelected = selectedItems[targetId];\n\t\t\t\tif(groupSelected[category]) {\n\t\t\t\t\t$(el).val(groupSelected[category]);\n\t\t\t\t\t$(el).trigger(\"change\");\n\t\t\t\t}\n\n\t\t\t}\n\t\t}\n\t});\n}\n\n$(document).on(\"change\", \".multiSelect\", function(e) {\n\n\tvar selectIndex = $(this).data(\"cascadenumber\");\n\tvar category = $(this).data(\"category\");\n\tvar parentGroup = $(this).closest('.multiselectGroup');\n\tvar selectedElements = $(parentGroup).find(\"[data-cascadenumber]\").filter(function() {\n\t\treturn $(this).attr(\"data-cascadenumber\") > selectIndex;\n\t});\n\n\t$(selectedElements).each(function(index, el) {\n\t\t$(el).val(\"\");\n\t});\n\n\n\tloadCascadeNumber(parentGroup, selectIndex+1);\n\n});\n\n\nfunction loadCascadeNumber(parentGroup, selectIndex) {\n\n\tvar target = sourceContent[$(parentGroup).attr(\"id\")];\n\tvar groupSelected = selectedItems[$(parentGroup).attr(\"id\")];\n\tvar targetCategory;\n\tfor(i=0; i<selectIndex; i++) {\n\t\tvar targetElement = $(parentGroup).find(\"[data-cascadenumber=\" + i + \"]\");\n\t\ttargetCategory = $(targetElement).data(\"category\");\n\t\tvar selectedItem = $(targetElement).val();\n\t\ttarget = target[targetCategory][selectedItem];\n\n\t}\n\n\tvar selectElement = $(parentGroup).find(\"[data-cascadenumber=\" + selectIndex + \"]\");\n\n\ttargetCategory = $(selectElement).data(\"category\");\n\tif(!targetCategory) {\n\t\treturn;\n\t}\n\ttarget = target[targetCategory];\n\t$(selectElement).empty();\n\t$(selectElement).append(\"<option></option>\");\n\n\n\t// sort alphabetically, handle both object and array cases\n\tvar keys = Object.keys(target);\n\tif(!$.isNumeric(keys[0])) {\n\n\t\tkeys.sort();\n\t}\n\telse {\n\t\ttarget.sort();\n\t\tkeys = Object.keys(target);\n\t}\n\n\n\n\n\tlength = keys.length;\n\tfor (i = 0; i < length; i++) {\n\t\tkey = keys[i];\n\t\tvalue = target[key];\n\t\tvar itemName;\n\t\tif($.isNumeric(key)) {\n\t\t\titemName = value;\n\t\t}\n\t\telse {\n\t\t\titemName = key;\n\t\t}\n\t\t$(selectElement).append($(\"<option></option>\").attr(\"value\",itemName).text(itemName));\n\t}\n\n\n\t// $.each(target, function(key, value) {\n\n\n\t// });\n\n\tif(groupSelected[targetCategory]) {\n\t\t$(selectElement).val(groupSelected[targetCategory]);\n\t\t$(selectElement).trigger(\"change\");\n\n\t}\n\n\n}"],"sourceRoot":"/source/"}