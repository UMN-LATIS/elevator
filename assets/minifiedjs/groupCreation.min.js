var loadValues=function(e){$.each(e,function(e,t){addValue(t)})},addValue=function(e){var t,u=$("#group-value").html();u&&(u=Handlebars.compile(u),(t={}).groupValue=e,"User"==$("#inputGroupType").val()?t.groupName=userCache[e]:t.groupName=null,e=u(t),$("#addAnotherValue").before(e),buildAutocomplete())},removeValue=function(e){$(e).find("input").val(""),$(e).hide()};function updateHints(e){var t,u;"undefined"!=typeof hints&&($(".hintSelectorGroup").remove(),hints[e.val()])&&0<Object.keys(hints[e.val()]).length&&(t=$("#hint-selector").html(),t=Handlebars.compile(t),(u={}).hintLabel=e.val(),u.hints=hints[e.val()],e=t(u),$("#groupLabelGroup").before(e),$(".hintSelector").on("change",function(){$(".inputGroupValue").last().val($(this).val())}))}function updateHelptext(e){"undefined"!=typeof helpText&&($("#helpText").text(""),helpText[e.val()])&&0<Object.keys(helpText[e.val()]).length&&$("#helpText").text(helpText[e.val()])}function buildAutocomplete(){var e=$("#person-autocompleter-template").html(),u=Handlebars.compile(e);$(".inputGroupValue").each(function(e,t){$(t).autocomplete({source:function(e,u){$.post(basePath+"permissions/userAutocompleter/",{groupType:$("#inputGroupType").val(),groupValue:e.term},function(t){try{jsonObject=$.parseJSON(t)}catch(e){return void alert(e+" "+t)}!0===jsonObject.success&&($.each(jsonObject.matches,function(e,t){t.username=t.username,t.emplid=t.emplid,t.name=t.name,t.email=t.email,t.value=t.completionId||t.username,jsonObject.matches[e]=t}),u(jsonObject.matches))})},messages:{noResults:"",results:function(){}},search:function(e,t){$(".spinner").show()},response:function(e,t){$(".spinner").hide()}}).data("ui-autocomplete")._renderItem=function(e,t){t.base_url=basePath;t=u(t);return $(t).appendTo(e)}})}$(document).on("click",".removeValueButton",function(){removeValue($(this).closest(".groupValueGroup"))}),$(document).ready(function(){"undefined"!=typeof existingGroups&&loadValues(existingGroups),addValue(""),$("#addAnotherValue").on("click",function(){addValue("")}),buildAutocomplete(),$("#inputGroupType").on("change",function(){switch(""===$(this).val()?$("#submitButton").attr("disabled",!0):$("#submitButton").removeAttr("disabled"),$(this).val()){case"":case"All":case"Authed":case"Authed_remote":$(".groupValueGroup").hide(),$("#groupLabelGroup").hide(),$("#courseList").hide();break;default:$(".groupValueGroup").show(),$("#groupLabelGroup").show()}updateHints($(this)),updateHelptext($(this)),""===$("#inputGroupId").val()&&$("#inputGroupLabel").attr("placeholder",$(this).find("option:selected").text())}),$("#createGroupForm").on("submit",function(){switch($("#inputGroupType").val()){case"All":case"Authed":case"Authed_remote":break;default:var u=!1;if($('input[name="groupValue[]"]').each(function(e,t){""!==$(t).val()&&(u=!0)}),u)break;return alert("A group value is required"),!1}return!0}),$("#inputGroupType").trigger("change")});
//# sourceMappingURL=groupCreation.min.js.map
