var loadValues=function(e){$.each(e,(function(e,t){addValue(t)}))},addValue=function(e){var t=$("#group-value").html();if(t){var u=Handlebars.compile(t),a={};a.groupValue=e,"User"==$("#inputGroupType").val()?a.groupName=userCache[e]:a.groupName=null;var o=u(a);$("#addAnotherValue").before(o),buildAutocomplete()}},removeValue=function(e){$(e).find("input").val(""),$(e).hide()};function updateHints(e){if("undefined"!=typeof hints&&($(".hintSelectorGroup").remove(),hints[e.val()]&&Object.keys(hints[e.val()]).length>0)){var t=$("#hint-selector").html(),u=Handlebars.compile(t),a={};a.hintLabel=e.val(),a.hints=hints[e.val()];var o=u(a);$("#groupLabelGroup").before(o),$(".hintSelector").on("change",(function(){$(".inputGroupValue").last().val($(this).val())}))}}function updateHelptext(e){"undefined"!=typeof helpText&&($("#helpText").text(""),helpText[e.val()]&&Object.keys(helpText[e.val()]).length>0&&$("#helpText").text(helpText[e.val()]))}function buildAutocomplete(){var e=$("#person-autocompleter-template").html(),t=Handlebars.compile(e);$(".inputGroupValue").each((function(e,u){$(u).autocomplete({source:function(e,t){$.post(basePath+"permissions/userAutocompleter/",{groupType:$("#inputGroupType").val(),groupValue:e.term},(function(e){try{jsonObject=$.parseJSON(e)}catch(t){return void alert(t+" "+e)}!0===jsonObject.success&&($.each(jsonObject.matches,(function(e,t){t.username=t.username,t.emplid=t.emplid,t.name=t.name,t.email=t.email,t.completionId?t.value=t.completionId:t.value=t.username,jsonObject.matches[e]=t})),t(jsonObject.matches))}))},messages:{noResults:"",results:function(){}},search:function(e,t){$(".spinner").show()},response:function(e,t){$(".spinner").hide()}}).data("ui-autocomplete")._renderItem=function(e,u){u.base_url=basePath;var a=t(u);return $(a).appendTo(e)}}))}$(document).on("click",".removeValueButton",(function(){removeValue($(this).closest(".groupValueGroup"))})),$(document).ready((function(){"undefined"!=typeof existingGroups&&loadValues(existingGroups),addValue(""),$("#addAnotherValue").on("click",(function(){addValue("")})),buildAutocomplete(),$("#inputGroupType").on("change",(function(){switch(""===$(this).val()?$("#submitButton").attr("disabled",!0):$("#submitButton").removeAttr("disabled"),$(this).val()){case"":case"All":case"Authed":case"Authed_remote":$(".groupValueGroup").hide(),$("#groupLabelGroup").hide(),$("#courseList").hide();break;default:$(".groupValueGroup").show(),$("#groupLabelGroup").show()}updateHints($(this)),updateHelptext($(this)),""===$("#inputGroupId").val()&&$("#inputGroupLabel").attr("placeholder",$(this).find("option:selected").text())})),$("#createGroupForm").on("submit",(function(){switch($("#inputGroupType").val()){case"All":case"Authed":case"Authed_remote":break;default:var e=!1;if($('input[name="groupValue[]"]').each((function(t,u){""!==$(u).val()&&(e=!0)})),!e)return alert("A group value is required"),!1}return!0})),$("#inputGroupType").trigger("change")}));
//# sourceMappingURL=groupCreation.min.js.map
