{"version":3,"file":"jquery.expander.min.js","sources":["jquery.expander.js"],"sourcesContent":["/*!\n * jQuery Expander Plugin - v1.6.1 - 2015-11-15\n * http://plugins.learningjquery.com/expander/\n * Copyright (c) 2015 Karl Swedberg\n * Licensed MIT (http://www.opensource.org/licenses/mit-license.php)\n */\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['jquery'], factory);\n  } else if (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = factory;\n  } else {\n    factory(jQuery);\n  }\n})(function($) {\n  $.expander = {\n    version: '1.6.1',\n    defaults: {\n      // the number of characters at which the contents will be sliced into two parts.\n      slicePoint: 100,\n\n      // a string of characters at which to slice the contents into two parts,\n      // but only if the string appears before slicePoint\n      // Useful for slicing at the first line break, e.g. {sliceOn: '<br'}\n      sliceOn: null,\n\n      // whether to keep the last word of the summary whole (true) or let it slice in the middle of a word (false)\n      preserveWords: true,\n\n      // whether to normalize the whitespace in the data to display (true) or not (false)\n      normalizeWhitespace: true,\n\n      // whether to count and display the number of words inside the collapsed text\n      showWordCount: false,\n\n      // What to display around the counted number of words, set to '{{count}}' to show only the number\n      wordCountText: ' ({{count}} words)',\n\n      // a threshold of sorts for whether to initially hide/collapse part of the element's contents.\n      // If after slicing the contents in two there are fewer words in the second part than\n      // the value set by widow, we won't bother hiding/collapsing anything.\n      widow: 4,\n\n      // text displayed in a link instead of the hidden part of the element.\n      // clicking this will expand/show the hidden/collapsed text\n      expandText: 'read more',\n      expandPrefix: '&hellip; ',\n\n      expandAfterSummary: false,\n\n      // Possible word endings to test against for when preserveWords: true\n      wordEnd: /(&(?:[^;]+;)?|[0-9a-zA-Z\\u00C0-\\u0100]+|[^\\u0000-\\u007F]+)$/,\n\n      // class names for summary element and detail element\n      summaryClass: 'summary',\n      detailClass: 'details',\n\n      // class names for <span> around \"read-more\" link and \"read-less\" link\n      moreClass: 'read-more',\n      lessClass: 'read-less',\n\n      // class names for <a> around \"read-more\" link and \"read-less\" link\n      moreLinkClass: 'more-link',\n      lessLinkClass: 'less-link',\n\n      // number of milliseconds after text has been expanded at which to collapse the text again.\n      // when 0, no auto-collapsing\n      collapseTimer: 0,\n\n      // effects for expanding and collapsing\n      expandEffect: 'slideDown',\n      expandSpeed: 250,\n      collapseEffect: 'slideUp',\n      collapseSpeed: 200,\n\n      // allow the user to re-collapse the expanded text.\n      userCollapse: true,\n\n      // text to use for the link to re-collapse the text\n      userCollapseText: 'read less',\n      userCollapsePrefix: ' ',\n\n\n      // all callback functions have the this keyword mapped to the element in the jQuery set when .expander() is called\n\n      onSlice: null, // function() {}\n      beforeExpand: null, // function() {},\n      afterExpand: null, // function() {},\n      onCollapse: null, // function(byUser) {}\n      afterCollapse: null // function() {}\n    }\n  };\n\n  $.fn.expander = function(options) {\n    var meth = 'init';\n\n    if (typeof options === 'string') {\n      meth = options;\n      options = {};\n    }\n\n    var opts = $.extend({}, $.expander.defaults, options),\n        rSelfClose = /^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,\n        rAmpWordEnd = opts.wordEnd,\n        rOpenCloseTag = /<\\/?(\\w+)[^>]*>/g,\n        rOpenTag = /<(\\w+)[^>]*>/g,\n        rCloseTag = /<\\/(\\w+)>/g,\n        rLastCloseTag = /(<\\/([^>]+)>)\\s*$/,\n        rTagPlus = /^(<[^>]+>)+.?/,\n        rMultiSpace = /\\s\\s+/g,\n        delayedCollapse;\n\n    var removeSpaces = function(str) {\n      return opts.normalizeWhitespace ? $.trim( str || '' ).replace(rMultiSpace, ' ') : str;\n    };\n\n    var methods = {\n      init: function() {\n        this.each(function() {\n          var i, l, tmp, newChar, summTagless, summOpens, summCloses,\n              lastCloseTag, detailText, detailTagless, html, expand,\n              $thisDetails, $readMore,\n              slicePointChanged,\n              openTagsForDetails = [],\n              closeTagsForsummaryText = [],\n              strayChars = '',\n              defined = {},\n              thisEl = this,\n              $this = $(this),\n              $summEl = $([]),\n              o = $.extend({}, opts, $this.data('expander') || $.meta && $this.data() || {}),\n              hasDetails = !!$this.find('.' + o.detailClass).length,\n              hasBlocks = !!$this.find('*').filter(function() {\n                var display = $(this).css('display');\n                return (/^block|table|list/).test(display);\n              }).length,\n              el = hasBlocks ? 'div' : 'span',\n              detailSelector = el + '.' + o.detailClass,\n              moreClass = o.moreClass + '',\n              lessClass = o.lessClass + '',\n              expandSpeed = o.expandSpeed || 0,\n              allHtml = removeSpaces( $this.html() ),\n              summaryText = allHtml.slice(0, o.slicePoint);\n\n          // allow multiple classes for more/less links\n          o.moreSelector = 'span.' + moreClass.split(' ').join('.');\n          o.lessSelector = 'span.' + lessClass.split(' ').join('.');\n          // bail out if we've already set up the expander on this element\n          if ( $.data(this, 'expanderInit') ) {\n            return;\n          }\n\n          $.data(this, 'expanderInit', true);\n          $.data(this, 'expander', o);\n          // determine which callback functions are defined\n          $.each(['onSlice','beforeExpand', 'afterExpand', 'onCollapse', 'afterCollapse'], function(index, val) {\n            defined[val] = $.isFunction(o[val]);\n          });\n\n          // back up if we're in the middle of a tag or word\n          summaryText = backup(summaryText);\n\n          // summary text sans tags length\n          summTagless = summaryText.replace(rOpenCloseTag, '').length;\n\n          // add more characters to the summary, one for each character in the tags\n          while (summTagless < o.slicePoint) {\n            newChar = allHtml.charAt(summaryText.length);\n            if (newChar === '<') {\n              newChar = allHtml.slice(summaryText.length).match(rTagPlus)[0];\n            }\n            summaryText += newChar;\n            summTagless++;\n          }\n\n          // SliceOn script, Closes #16, resolves #59\n          // Original SliceEarlierAt code (since modfied): Sascha Peilicke @saschpe\n          if (o.sliceOn) {\n            slicePointChanged = changeSlicePoint({\n              sliceOn: o.sliceOn,\n              slicePoint: o.slicePoint,\n              allHtml: allHtml,\n              summaryText: summaryText\n            });\n\n            summaryText = slicePointChanged.summaryText;\n          }\n\n          summaryText = backup(summaryText, o.preserveWords && allHtml.slice(summaryText.length).length);\n\n          // separate open tags from close tags and clean up the lists\n          summOpens = summaryText.match(rOpenTag) || [];\n          summCloses = summaryText.match(rCloseTag) || [];\n\n          // filter out self-closing tags\n          tmp = [];\n          $.each(summOpens, function(index, val) {\n            if ( !rSelfClose.test(val) ) {\n              tmp.push(val);\n            }\n          });\n          summOpens = tmp;\n\n          // strip close tags to just the tag name\n          l = summCloses.length;\n          for (i = 0; i < l; i++) {\n            summCloses[i] = summCloses[i].replace(rCloseTag, '$1');\n          }\n          // tags that start in summary and end in detail need:\n          // a). close tag at end of summary\n          // b). open tag at beginning of detail\n          $.each(summOpens, function(index, val) {\n            var thisTagName = val.replace(rOpenTag, '$1');\n            var closePosition = $.inArray(thisTagName, summCloses);\n\n            if (closePosition === -1) {\n              openTagsForDetails.push(val);\n              closeTagsForsummaryText.push('</' + thisTagName + '>');\n\n            } else {\n              summCloses.splice(closePosition, 1);\n            }\n          });\n\n          // reverse the order of the close tags for the summary so they line up right\n          closeTagsForsummaryText.reverse();\n\n          // create necessary summary and detail elements if they don't already exist\n          if ( !hasDetails ) {\n\n            // end script if there is no detail text or if detail has fewer words than widow option\n            detailText = allHtml.slice(summaryText.length);\n            detailTagless = $.trim( detailText.replace(rOpenCloseTag, '') );\n\n            if ( detailTagless === '' || detailTagless.split(/\\s+/).length < o.widow ) {\n              return;\n            }\n            // otherwise, continue...\n            lastCloseTag = closeTagsForsummaryText.pop() || '';\n            summaryText += closeTagsForsummaryText.join('');\n            detailText = openTagsForDetails.join('') + detailText;\n          } else {\n            // assume that even if there are details, we still need readMore/readLess/summary elements\n            // (we already bailed out earlier when readMore el was found)\n            // but we need to create els differently\n\n            // remove the detail from the rest of the content\n            detailText = $this.find(detailSelector).remove().html();\n\n            // The summary is what's left\n            summaryText = $this.html();\n\n            // allHtml is the summary and detail combined (this is needed when content has block-level elements)\n            allHtml = summaryText + detailText;\n\n            lastCloseTag = '';\n          }\n          o.moreLabel = $this.find(o.moreSelector).length ? '' : buildMoreLabel(o, detailText);\n\n          if (hasBlocks) {\n            detailText = allHtml;\n            //Fixes issue #89; Tested by 'split html escapes'\n          } else if (summaryText.charAt(summaryText.length-1) === '&') {\n            strayChars = /^[#\\w\\d\\\\]+;/.exec(detailText);\n            if (strayChars) {\n              detailText = detailText.slice(strayChars[0].length);\n              summaryText += strayChars[0];\n            }\n          }\n          summaryText += lastCloseTag;\n\n          // onSlice callback\n          o.summary = summaryText;\n          o.details = detailText;\n          o.lastCloseTag = lastCloseTag;\n\n          if (defined.onSlice) {\n            // user can choose to return a modified options object\n            // one last chance for user to change the options. sneaky, huh?\n            // but could be tricky so use at your own risk.\n            tmp = o.onSlice.call(thisEl, o);\n\n          // so, if the returned value from the onSlice function is an object with a details property, we'll use that!\n            o = tmp && tmp.details ? tmp : o;\n          }\n\n          // build the html with summary and detail and use it to replace old contents\n          html = buildHTML(o, hasBlocks);\n\n          $this.empty().append(html);\n\n          // set up details and summary for expanding/collapsing\n          $thisDetails = $this.find(detailSelector);\n          $readMore = $this.find(o.moreSelector);\n\n          // Hide details span using collapseEffect unless\n          // expandEffect is NOT slideDown and collapseEffect IS slideUp.\n          // The slideUp effect sets span's \"default\" display to\n          // inline-block. This is necessary for slideDown, but\n          // problematic for other \"showing\" animations.\n          // Fixes #46\n          if (o.collapseEffect === 'slideUp' && o.expandEffect !== 'slideDown' || $this.is(':hidden')) {\n            $thisDetails.css({display: 'none'});\n          } else {\n            $thisDetails[o.collapseEffect](0);\n          }\n\n          $summEl = $this.find('div.' + o.summaryClass);\n\n          expand = function(event) {\n            event.preventDefault();\n            $readMore.hide();\n            $summEl.hide();\n            if (defined.beforeExpand) {\n              o.beforeExpand.call(thisEl);\n            }\n\n            $thisDetails.stop(false, true)[o.expandEffect](expandSpeed, function() {\n              $thisDetails.css({zoom: ''});\n              if (defined.afterExpand) {o.afterExpand.call(thisEl);}\n              delayCollapse(o, $thisDetails, thisEl);\n            });\n          };\n\n          $readMore.find('a').unbind('click.expander').bind('click.expander', expand);\n\n          if ( o.userCollapse && !$this.find(o.lessSelector).length ) {\n            $this\n            .find(detailSelector)\n            .append('<span class=\"' + o.lessClass + '\">' + o.userCollapsePrefix + '<a href=\"#\" class=\"'+ o.lessLinkClass +'\">' + o.userCollapseText + '</a></span>');\n          }\n\n          $this\n          .find(o.lessSelector + ' a')\n          .unbind('click.expander')\n          .bind('click.expander', function(event) {\n            event.preventDefault();\n            clearTimeout(delayedCollapse);\n            var $detailsCollapsed = $(this).closest(detailSelector);\n            reCollapse(o, $detailsCollapsed);\n            if (defined.onCollapse) {\n              o.onCollapse.call(thisEl, true);\n            }\n          });\n\n        }); // this.each\n      },\n      destroy: function() {\n\n        this.each(function() {\n          var o, details,\n              $this = $(this);\n\n          if ( !$this.data('expanderInit') ) {\n            return;\n          }\n\n          o = $.extend({}, $this.data('expander') || {}, opts);\n          details = $this.find('.' + o.detailClass).contents();\n\n          $this.removeData('expanderInit');\n          $this.removeData('expander');\n\n          $this.find(o.moreSelector).remove();\n          $this.find('.' + o.summaryClass).remove();\n          $this.find('.' + o.detailClass).after(details).remove();\n          $this.find(o.lessSelector).remove();\n\n        });\n      }\n    };\n\n    // run the methods (almost always \"init\")\n    if ( methods[meth] ) {\n      methods[ meth ].call(this);\n    }\n\n    // utility functions\n    function buildHTML(o, blocks) {\n      var el = 'span',\n          summary = o.summary,\n          closingTagParts = rLastCloseTag.exec(summary),\n          closingTag = closingTagParts ? closingTagParts[2].toLowerCase() : '';\n      if ( blocks ) {\n        el = 'div';\n\n        // if summary ends with a close tag, tuck the moreLabel inside it\n        if ( closingTagParts && closingTag !== 'a' && !o.expandAfterSummary ) {\n          summary = summary.replace(rLastCloseTag, o.moreLabel + '$1');\n        } else {\n        // otherwise (e.g. if ends with self-closing tag) just add moreLabel after summary\n        // fixes #19\n          summary += o.moreLabel;\n        }\n\n        // and wrap it in a div\n        summary = '<div class=\"' + o.summaryClass + '\">' + summary + '</div>';\n      } else {\n        if (!/^\\s*</.test(summary)) {\n          // summary = '<span>' + summary + '</span>';\n        }\n        summary += o.moreLabel;\n      }\n\n      return [\n        summary,\n        ' <',\n        el + ' class=\"' + o.detailClass + '\"',\n        '>',\n        o.details,\n        '</' + el + '>'\n      ].join('');\n    }\n\n    function buildMoreLabel(o, detailText) {\n      var ret = '<span class=\"' + o.moreClass + '\">' + o.expandPrefix;\n\n      if (o.showWordCount) {\n\n        o.wordCountText = o.wordCountText.replace(/\\{\\{count\\}\\}/, detailText.replace(rOpenCloseTag, '').replace(/\\&(?:amp|nbsp);/g, '').replace(/(?:^\\s+|\\s+$)/, '').match(/\\w+/g).length);\n\n      } else {\n        o.wordCountText = '';\n      }\n      ret += '<a href=\"#\" class=\"' + o.moreLinkClass + '\">' + o.expandText + o.wordCountText + '</a></span>';\n      return ret;\n    }\n\n    function backup(txt, preserveWords) {\n      if ( txt.lastIndexOf('<') > txt.lastIndexOf('>') ) {\n        txt = txt.slice( 0, txt.lastIndexOf('<') );\n      }\n      if (preserveWords) {\n        txt = txt.replace(rAmpWordEnd,'');\n      }\n\n      return $.trim(txt);\n    }\n\n    function reCollapse(o, el) {\n      el.stop(true, true)[o.collapseEffect](o.collapseSpeed, function() {\n        var prevMore = el.prev('span.' + o.moreClass).show();\n        if (!prevMore.length) {\n          el.parent().children('div.' + o.summaryClass).show()\n            .find('span.' + o.moreClass).show();\n        }\n        if (o.afterCollapse) {o.afterCollapse.call(el);}\n      });\n    }\n\n    function delayCollapse(option, $collapseEl, thisEl) {\n      if (option.collapseTimer) {\n        delayedCollapse = setTimeout(function() {\n          reCollapse(option, $collapseEl);\n          if ( $.isFunction(option.onCollapse) ) {\n            option.onCollapse.call(thisEl, false);\n          }\n        }, option.collapseTimer);\n      }\n    }\n\n    function changeSlicePoint(info) {\n      // Create placeholder string text\n      var sliceOnTemp = 'ExpandMoreHere374216623';\n\n      // Replace sliceOn with placeholder unaffected by .text() cleaning\n      // (in case sliceOn contains html)\n      var summaryTextClean = info.summaryText.replace(info.sliceOn, sliceOnTemp);\n      summaryTextClean = $('<div>' + summaryTextClean + '</div>').text();\n\n      // Find true location of sliceOn placeholder\n      var sliceOnIndexClean = summaryTextClean.indexOf(sliceOnTemp);\n\n      // Store location of html version too\n      var sliceOnIndexHtml = info.summaryText.indexOf(info.sliceOn);\n\n      // Base condition off of true sliceOn location...\n      if (sliceOnIndexClean !== -1 && sliceOnIndexClean < info.slicePoint) {\n        // ...but keep html in summaryText\n        info.summaryText = info.allHtml.slice(0, sliceOnIndexHtml);\n      }\n      return info;\n    }\n\n    return this;\n  };\n\n  // plugin defaults\n  $.fn.expander.defaults = $.expander.defaults;\n});\n"],"names":["factory","define","amd","module","exports","jQuery","$","expander","version","defaults","slicePoint","sliceOn","preserveWords","normalizeWhitespace","showWordCount","wordCountText","widow","expandText","expandPrefix","expandAfterSummary","wordEnd","summaryClass","detailClass","moreClass","lessClass","moreLinkClass","lessLinkClass","collapseTimer","expandEffect","expandSpeed","collapseEffect","collapseSpeed","userCollapse","userCollapseText","userCollapsePrefix","onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse","fn","options","delayedCollapse","meth","opts","extend","rSelfClose","rAmpWordEnd","rOpenCloseTag","rOpenTag","rCloseTag","rLastCloseTag","rTagPlus","rMultiSpace","methods","init","this","each","i","l","tmp","newChar","summTagless","summCloses","lastCloseTag","detailText","$thisDetails","$readMore","str","openTagsForDetails","closeTagsForsummaryText","defined","thisEl","$this","$summEl","o","data","meta","hasDetails","find","length","hasBlocks","filter","display","css","test","detailSelector","allHtml","html","trim","replace","summaryText","slice","moreSelector","split","join","lessSelector","index","val","isFunction","backup","charAt","match","summOpens","info","sliceOnTemp","summaryTextClean","sliceOnIndexClean","text","indexOf","sliceOnIndexHtml","push","thisTagName","closePosition","inArray","splice","reverse","remove","detailTagless","pop","moreLabel","ret","strayChars","exec","summary","details","blocks","el","closingTagParts","closingTag","toLowerCase","call","empty","append","is","expand","event","preventDefault","hide","stop","option","$collapseEl","zoom","setTimeout","reCollapse","unbind","bind","clearTimeout","$detailsCollapsed","closest","destroy","contents","removeData","after","txt","lastIndexOf","prev","show","parent","children"],"mappings":"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"}