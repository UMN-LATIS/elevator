((t,e)=>{"object"==typeof module&&module.exports?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Spinner=e()})(this,function(){var u,r=["webkit","Moz","ms","O"],p={};function f(t,e){var i,o=document.createElement(t||"div");for(i in e)o[i]=e[i];return o}function h(t){for(var e=1,i=arguments.length;e<i;e++)t.appendChild(arguments[e]);return t}function o(t,e){var i,o,n=t.style;if(void 0!==n[e=e.charAt(0).toUpperCase()+e.slice(1)])return e;for(o=0;o<r.length;o++)if(void 0!==n[i=r[o]+e])return i}function m(t,e){for(var i in e)t.style[o(t,i)||i]=e[i];return t}function e(t){for(var e=1;e<arguments.length;e++){var i,o=arguments[e];for(i in o)void 0===t[i]&&(t[i]=o[i])}return t}function y(t,e){return"string"==typeof t?t:t[e%t.length]}var g,t,i={lines:12,length:7,width:5,radius:10,scale:1,corners:1,color:"#000",opacity:.25,rotate:0,direction:1,speed:1,trail:100,fps:20,zIndex:2e9,className:"spinner",top:"50%",left:"50%",shadow:!1,hwaccel:!1,position:"absolute"};function n(t){this.opts=e(t||{},n.defaults,i)}function c(t,e){return f("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',e)}return n.defaults={},e(n.prototype,{spin:function(t){this.stop();var i,o,n,r,s,a,l,c=this,d=c.opts,p=c.el=f(null,{className:d.className});return m(p,{position:d.position,width:0,zIndex:d.zIndex,left:d.left,top:d.top}),t&&t.insertBefore(p,t.firstChild||null),p.setAttribute("role","progressbar"),c.lines(p,c.opts),u||(i=0,o=(d.lines-1)*(1-d.direction)/2,r=d.fps,s=r/d.speed,a=(1-d.opacity)/(s*d.trail/100),l=s/d.lines,function t(){i++;for(var e=0;e<d.lines;e++)n=Math.max(1-(i+(d.lines-e)*l)%s*a,d.opacity),c.opacity(p,e*d.direction+o,n,d);c.timeout=c.el&&setTimeout(t,~~(1e3/r))}()),c},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=void 0),this},lines:function(t,i){var e,o,n,r,s,a,l=0,c=(i.lines-1)*(1-i.direction)/2;function d(t,e){return m(f(),{position:"absolute",width:i.scale*(i.length+i.width)+"px",height:i.scale*i.width+"px",background:t,boxShadow:e,transformOrigin:"left",transform:"rotate("+~~(360/i.lines*l+i.rotate)+"deg) translate("+i.scale*i.radius+"px,0)",borderRadius:(i.corners*i.scale*i.width>>1)+"px"})}for(;l<i.lines;l++)a=m(f(),{position:"absolute",top:1+~(i.scale*i.width/2)+"px",transform:i.hwaccel?"translate3d(0,0,0)":"",opacity:i.opacity,animation:u&&(e=i.opacity,a=s=void 0,s=["opacity",o=i.trail,~~(100*e),n=c+l*i.direction,r=i.lines].join("-"),n=.01+n/r*100,r=Math.max(1-(1-e)/o*(100-n),e),a=u.substring(0,u.indexOf("Animation")).toLowerCase(),p[s]||(g.insertRule("@"+(a&&"-"+a+"-"||"")+"keyframes "+s+"{0%{opacity:"+r+"}"+n+"%{opacity:"+e+"}"+(.01+n)+"%{opacity:1}"+(n+o)%100+"%{opacity:"+e+"}100%{opacity:"+r+"}}",g.cssRules.length),p[s]=1),s+" "+1/i.speed+"s linear infinite")}),i.shadow&&h(a,m(d("#000","0 0 4px #000"),{top:"2px"})),h(t,h(a,d(y(i.color,l),"0 0 1px rgba(0,0,0,.1)")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),"undefined"!=typeof document&&(t=f("style",{type:"text/css"}),h(document.getElementsByTagName("head")[0],t),g=t.sheet||t.styleSheet,!o(t=m(f("group"),{behavior:"url(#default#VML)"}),"transform")&&t.adj?(g.addRule(".spin-vml","behavior:url(#default#VML)"),n.prototype.lines=function(t,o){var n=o.scale*(o.length+o.width),e=2*o.scale*n;function r(){return m(c("group",{coordsize:e+" "+e,coordorigin:-n+" "+-n}),{width:e,height:e})}var i,s=-(o.width+o.length)*o.scale*2+"px",a=m(r(),{position:"absolute",top:s,left:s});function l(t,e,i){h(a,h(m(r(),{rotation:360/o.lines*t+"deg",left:~~e}),h(m(c("roundrect",{arcsize:o.corners}),{width:n,height:o.scale*o.width,left:o.scale*o.radius,top:-o.scale*o.width>>1,filter:i}),c("fill",{color:y(o.color,t),opacity:o.opacity}),c("stroke",{opacity:0}))))}if(o.shadow)for(i=1;i<=o.lines;i++)l(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=o.lines;i++)l(i);return h(t,a)},n.prototype.opacity=function(t,e,i,o){t=t.firstChild;o=o.shadow&&o.lines||0,t&&e+o<t.childNodes.length&&(t=(t=(t=t.childNodes[e+o])&&t.firstChild)&&t.firstChild)&&(t.opacity=i)}):u=o(t,"animation")),n});
//# sourceMappingURL=spin.min.js.map
