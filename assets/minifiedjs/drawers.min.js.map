{"version":3,"sources":["drawers.js"],"names":["$","document","ready","on","e","preventDefault","postData","this","serializeArray","push","name","value","excerptId","objectId","JSON","stringify","cachedResults","searchResults","formURL","attr","ajax","url","type","data","success","textStatus","jqXHR","modal","error","errorThrown","console","log","newDrawer","parseJSON","drawerId","parseInt","append","drawerTitle","val","fadeIn","window","setTimeout","fadeOut"],"mappings":"AACAA,EAAEC,UAAUC,MAAM,WAEjBF,EAAE,gBAAgBG,GAAG,SAAU,SAASC,GAEvCA,EAAEC,gBACF,IAAIC,GAAWN,EAAEO,MAAMC,gBAEC,oBAAf,YACRF,EAASG,MAAMC,KAAM,YAAaC,MAAOC,YAGnB,mBAAd,WACRN,EAASG,MAAMC,KAAM,WAAYC,MAAOE,WAGb,mBAAnB,gBACRP,EAASG,MAAMC,KAAM,cAAeC,MAAOG,KAAKC,UAAUC,cAAcC,gBAGzE,IAAIC,GAAUlB,EAAEO,MAAMY,KAAK,SAC3BnB,GAAEoB,MACDC,IAAMH,EACNI,KAAM,OACNC,KAAOjB,EACPkB,QAAQ,SAASD,EAAME,EAAYC,GAElC1B,EAAE,gBAAgB2B,MAAM,WAEzBC,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,4BAQf/B,EAAE,iBAAiBG,GAAG,SAAU,SAASC,GACxC,GAAIE,GAAWN,EAAEO,MAAMC,iBACnBU,EAAUlB,EAAEO,MAAMY,KAAK,SAC3BnB,GAAEoB,MACDC,IAAMH,EACNI,KAAM,OACNC,KAAOjB,EACPkB,QAAQ,SAASD,EAAME,EAAYC,GAElC,GAAIM,GAAYhC,EAAEiC,UAAUV,GAExBW,EAAWC,SAASH,EAAUE,SAAS,GAC3ClC,GAAE,eAAeoC,OAAO,kBAAoBF,EAAW,KAAOF,EAAUK,YAAc,aAEtFrC,EAAE,eAAesC,IAAIJ,GACrBlC,EAAE,uBAAuBuC,OAAO,OAChCC,OAAOC,WAAW,WAAazC,EAAE,uBAAuB0C,QAAQ,QAAW,MAE5Ed,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,0BAGd3B,EAAEC","file":"drawers.min.js","sourcesContent":["\n$(document).ready(function () {\n\n\t$(\"#addToDrawer\").on(\"submit\", function(e) {\n\n\t\te.preventDefault(); //STOP default action\n\t\tvar postData = $(this).serializeArray();\n\n\t\tif(typeof(excerptId) != 'undefined') {\n\t\t\tpostData.push({name: 'excerptId', value: excerptId});\n\t\t}\n\n\t\tif(typeof(objectId) != 'undefined') {\n\t\t\tpostData.push({name: 'objectId', value: objectId});\n\t\t}\n\n\t\tif(typeof(cachedResults) != \"undefined\") {\n\t\t\tpostData.push({name: 'objectArray', value: JSON.stringify(cachedResults.searchResults)});\n\t\t}\n\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(data, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\t$(\"#drawerModal\").modal('toggle');\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\n\n\n\t});\n\n\t$(\"#addNewDrawer\").on(\"submit\", function(e) {\n\t\tvar postData = $(this).serializeArray();\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(data, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\tvar newDrawer = $.parseJSON(data);\n\n\t\t\t\tvar drawerId = parseInt(newDrawer.drawerId,10);\n\t\t\t\t$(\"#drawerList\").append(\"<option value='\" + drawerId + \"'>\" + newDrawer.drawerTitle + \"</option>\");\n\n\t\t\t\t$('#drawerList').val(drawerId);\n\t\t\t\t$(\".drawerAddedSuccess\").fadeIn('400');\n\t\t\t\twindow.setTimeout(function() { $(\".drawerAddedSuccess\").fadeOut('400'); }, 2000);\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\t\te.preventDefault(); //STOP default action\n\t});\n\n});\n"],"sourceRoot":"/source/"}