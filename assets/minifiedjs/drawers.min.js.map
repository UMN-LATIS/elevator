{"version":3,"sources":["drawers.js"],"names":["$","document","ready","on","e","preventDefault","postData","this","serializeArray","find","length","alert","push","name","value","excerptId","objectId","JSON","stringify","cachedResults","searchResults","formURL","attr","ajax","url","type","data","success","textStatus","jqXHR","modal","error","errorThrown","console","log","newDrawer","drawerId","parseInt","append","drawerTitle","val","fadeIn","window","setTimeout","fadeOut"],"mappings":"AACAA,EAAEC,UAAUC,OAAM,WAEjBF,EAAE,gBAAgBG,GAAG,UAAU,SAASC,GAEvCA,EAAEC,iBACF,IAAIC,EAAWN,EAAEO,MAAMC,iBACyB,GAA7CR,EAAE,eAAeS,KAAK,aAAaC,QACrCC,MAAM,kCAEiB,oBAAf,WACRL,EAASM,KAAK,CAACC,KAAM,YAAaC,MAAOC,YAGnB,oBAAd,UACRT,EAASM,KAAK,CAACC,KAAM,WAAYC,MAAOE,WAGb,oBAAnB,eACRV,EAASM,KAAK,CAACC,KAAM,cAAeC,MAAOG,KAAKC,UAAUC,cAAcC,iBAGzE,IAAIC,EAAUrB,EAAEO,MAAMe,KAAK,UAC3BtB,EAAEuB,KAAK,CACNC,IAAMH,EACNI,KAAM,OACNC,KAAOpB,EACPqB,QAAQ,SAASD,EAAME,EAAYC,GAElC7B,EAAE,gBAAgB8B,MAAM,WAEzBC,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,6BAQflC,EAAE,iBAAiBG,GAAG,UAAU,SAASC,GACxC,IAAIE,EAAWN,EAAEO,MAAMC,iBACnBa,EAAUrB,EAAEO,MAAMe,KAAK,UAC3BtB,EAAEuB,KAAK,CACNC,IAAMH,EACNI,KAAM,OACNC,KAAOpB,EACPqB,QAAQ,SAASQ,EAAWP,EAAYC,GAEvC,IAAIO,EAAWC,SAASF,EAAUC,SAAS,IAC3CpC,EAAE,eAAesC,OAAO,kBAAoBF,EAAW,KAAOD,EAAUI,YAAc,aAEtFvC,EAAE,eAAewC,IAAIJ,GACrBpC,EAAE,uBAAuByC,OAAO,OAChCC,OAAOC,YAAW,WAAa3C,EAAE,uBAAuB4C,QAAQ,SAAW,MAE5Eb,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,0BAGd9B,EAAEC","file":"drawers.min.js","sourcesContent":["\n$(document).ready(function () {\n\n\t$(\"#addToDrawer\").on(\"submit\", function(e) {\n\n\t\te.preventDefault(); //STOP default action\n\t\tvar postData = $(this).serializeArray();\n\t\tif($(\"#drawerList\").find(\":selected\").length == 0) {\n\t\t\talert(\"You must create a drawer first\");\n\t\t}\n\t\tif(typeof(excerptId) != 'undefined') {\n\t\t\tpostData.push({name: 'excerptId', value: excerptId});\n\t\t}\n\n\t\tif(typeof(objectId) != 'undefined') {\n\t\t\tpostData.push({name: 'objectId', value: objectId});\n\t\t}\n\n\t\tif(typeof(cachedResults) != \"undefined\") {\n\t\t\tpostData.push({name: 'objectArray', value: JSON.stringify(cachedResults.searchResults)});\n\t\t}\n\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(data, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\t$(\"#drawerModal\").modal('toggle');\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\n\n\n\t});\n\n\t$(\"#addNewDrawer\").on(\"submit\", function(e) {\n\t\tvar postData = $(this).serializeArray();\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(newDrawer, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\tvar drawerId = parseInt(newDrawer.drawerId,10);\n\t\t\t\t$(\"#drawerList\").append(\"<option value='\" + drawerId + \"'>\" + newDrawer.drawerTitle + \"</option>\");\n\n\t\t\t\t$('#drawerList').val(drawerId);\n\t\t\t\t$(\".drawerAddedSuccess\").fadeIn('400');\n\t\t\t\twindow.setTimeout(function() { $(\".drawerAddedSuccess\").fadeOut('400'); }, 2000);\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\t\te.preventDefault(); //STOP default action\n\t});\n\n});\n"]}