{"version":3,"file":"drawers.min.js","sources":["drawers.js"],"sourcesContent":["\n$(document).ready(function () {\n\n\t$(\"#addToDrawer\").on(\"submit\", function(e) {\n\n\t\te.preventDefault(); //STOP default action\n\t\tvar postData = $(this).serializeArray();\n\t\tif($(\"#drawerList\").find(\":selected\").length == 0) {\n\t\t\talert(\"You must create a drawer first\");\n\t\t}\n\t\tif(typeof(excerptId) != 'undefined') {\n\t\t\tpostData.push({name: 'excerptId', value: excerptId});\n\t\t}\n\n\t\tif(typeof(objectId) != 'undefined') {\n\t\t\tpostData.push({name: 'objectId', value: objectId});\n\t\t}\n\n\t\tif(typeof(cachedResults) != \"undefined\") {\n\t\t\tpostData.push({name: 'objectArray', value: JSON.stringify(cachedResults.searchResults)});\n\t\t}\n\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(data, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\t$(\"#drawerModal\").modal('toggle');\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\n\n\n\t});\n\n\t$(\"#addNewDrawer\").on(\"submit\", function(e) {\n\t\tvar postData = $(this).serializeArray();\n\t\tvar formURL = $(this).attr(\"action\");\n\t\t$.ajax({\n\t\t\turl : formURL,\n\t\t\ttype: \"POST\",\n\t\t\tdata : postData,\n\t\t\tsuccess:function(newDrawer, textStatus, jqXHR)\n\t\t\t{\n\t\t\t\tvar drawerId = parseInt(newDrawer.drawerId,10);\n\t\t\t\t$(\"#drawerList\").append(\"<option value='\" + drawerId + \"'>\" + newDrawer.drawerTitle + \"</option>\");\n\n\t\t\t\t$('#drawerList').val(drawerId);\n\t\t\t\t$(\".drawerAddedSuccess\").fadeIn('400');\n\t\t\t\twindow.setTimeout(function() { $(\".drawerAddedSuccess\").fadeOut('400'); }, 2000);\n\t\t\t},\n\t\t\terror: function(jqXHR, textStatus, errorThrown)\n\t\t\t{\n\t\t\t\tconsole.log(\"Error adding Drawer\");\n\t\t\t}\n\t\t});\n\t\te.preventDefault(); //STOP default action\n\t});\n\n});\n"],"names":["$","document","ready","on","e","preventDefault","postData","this","serializeArray","formURL","find","length","alert","push","name","value","excerptId","objectId","JSON","stringify","cachedResults","searchResults","attr","ajax","url","type","data","success","textStatus","jqXHR","modal","error","errorThrown","console","log","newDrawer","drawerId","parseInt","append","drawerTitle","val","fadeIn","window","setTimeout","fadeOut"],"mappings":"AACAA,EAAEC,QAAQ,EAAEC,MAAM,WAEjBF,EAAE,cAAc,EAAEG,GAAG,SAAU,SAASC,GAEvCA,EAAEC,eAAe,EACjB,IAAIC,EAAWN,EAAEO,IAAI,EAAEC,eAAe,EAgBlCC,GAf4C,GAA7CT,EAAE,aAAa,EAAEU,KAAK,WAAW,EAAEC,QACrCC,MAAM,gCAAgC,EAEf,aAArB,OAAM,WACRN,EAASO,KAAK,CAACC,KAAM,YAAaC,MAAOC,SAAS,CAAC,EAG7B,aAApB,OAAM,UACRV,EAASO,KAAK,CAACC,KAAM,WAAYC,MAAOE,QAAQ,CAAC,EAGtB,aAAzB,OAAM,eACRX,EAASO,KAAK,CAACC,KAAM,cAAeC,MAAOG,KAAKC,UAAUC,cAAcC,aAAa,CAAC,CAAC,EAG1ErB,EAAEO,IAAI,EAAEe,KAAK,QAAQ,GACnCtB,EAAEuB,KAAK,CACNC,IAAMf,EACNgB,KAAM,OACNC,KAAOpB,EACPqB,QAAQ,SAASD,EAAME,EAAYC,GAElC7B,EAAE,cAAc,EAAE8B,MAAM,QAAQ,CACjC,EACAC,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,qBAAqB,CAClC,CACD,CAAC,CAIF,CAAC,EAEDlC,EAAE,eAAe,EAAEG,GAAG,SAAU,SAASC,GACxC,IAAIE,EAAWN,EAAEO,IAAI,EAAEC,eAAe,EAClCC,EAAUT,EAAEO,IAAI,EAAEe,KAAK,QAAQ,EACnCtB,EAAEuB,KAAK,CACNC,IAAMf,EACNgB,KAAM,OACNC,KAAOpB,EACPqB,QAAQ,SAASQ,EAAWP,EAAYC,GAEvC,IAAIO,EAAWC,SAASF,EAAUC,SAAS,EAAE,EAC7CpC,EAAE,aAAa,EAAEsC,OAAO,kBAAoBF,EAAW,KAAOD,EAAUI,YAAc,WAAW,EAEjGvC,EAAE,aAAa,EAAEwC,IAAIJ,CAAQ,EAC7BpC,EAAE,qBAAqB,EAAEyC,OAAO,KAAK,EACrCC,OAAOC,WAAW,WAAa3C,EAAE,qBAAqB,EAAE4C,QAAQ,KAAK,CAAG,EAAG,GAAI,CAChF,EACAb,MAAO,SAASF,EAAOD,EAAYI,GAElCC,QAAQC,IAAI,qBAAqB,CAClC,CACD,CAAC,EACD9B,EAAEC,eAAe,CAClB,CAAC,CAEF,CAAC"}