$(document).ready(function(){$(document).on("submit",".searchForm",function(){return storeAndSearch("",$(this)),!1})}),$(document).on("change",".searchDropdown",function(){var e=$(this).find(":selected"),t=$(e).val(),c=$(e).data("templateid"),n=$(this).closest(".form-group").find(".specificSearchTextContainer");buildFieldInfo(c,t,n)});var storeAndSearch=function(e,t){$.post(basePath+"search/searchResults/"+e,{storeOnly:!0,searchQuery:JSON.stringify($(t).serializeForm())},function(t){console.log(t);try{cachedResults=$.parseJSON(t),cachedDates=null}catch(c){""===t&&bootbox.alert("No Results Found.",function(){})}cachedResults.success===!0&&(e=cachedResults.searchId,window.location=basePath+"search#"+e)})},buildFieldInfo=function(e,t,c){$.post(basePath+"search/getFieldInfo",{fieldTitle:t,template:e},function(e,t,n){var o;try{o=$.parseJSON(e)}catch(a){console.log("error occurred")}"text"==o.type?($(c).html(""),$(c).html('<input type="text" name="specificSearchText[]"  autocomplete="off" class="form-control advancedOption advancedSearchContent" value="">')):($(c).html(""),$(c).html('<select name="specificSearchText[]"  autocomplete="off" class="form-control advancedOption advancedSearchContent">'),selectElement=$(c).find("select"),$.each(o.values,function(e,t){var c;c=$.isNumeric(e)?t:e,$(selectElement).append($("<option>",{value:c}).text(t))}))})};$(document).on("click",".addAnotherSpecific",function(){var e=$(this).closest(".specificSearch"),t=$(e).clone(!1);$(t).find("input[type='text']").val(""),$(e).after(t)}),$(document).on("click",".addAnotherCollection",function(){var e=$(this).closest(".form-group"),t=$(e).clone(!1);t.find("input[type='text']").val(""),$(e).after(t)});
//# sourceMappingURL=templateSearch.min.js.map
