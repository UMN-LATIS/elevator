((e,t,n)=>{function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function s(e){var t;return"keypress"==e.type?(t=String.fromCharCode(e.which),e.shiftKey?t:t.toLowerCase()):d[e.which]||a[e.which]||String.fromCharCode(e.which).toLowerCase()}function c(e){e=e||{};var t,n=!1;for(t in w)e[t]?n=!0:w[t]=0;n||(K=!1)}function f(e,t,n,r,o,a){var i,s=[],c=n.type;if(!g[e])return[];for("keyup"==c&&u(e)&&(t=[e]),i=0;i<g[e].length;++i){var f,l=g[e][i];!r&&l.seq&&w[l.seq]!=l.level||c!=l.action||("keypress"!=c||n.metaKey||n.ctrlKey)&&t.sort().join(",")!==l.modifiers.sort().join(",")||(f=r&&l.seq==r&&l.level==a,(!r&&l.combo==o||f)&&g[e].splice(i,1),s.push(l))}return s}function l(e,t,n,r){q.stopCallback(t,t.target||t.srcElement,n,r)||!1!==e(t,n)||(t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)}function o(e){"number"!=typeof e.which&&(e.which=e.keyCode);var t,n=s(e);n&&("keyup"==e.type&&C===n?C=!1:q.handleKey(n,(n=[],(t=e).shiftKey&&n.push("shift"),t.altKey&&n.push("alt"),t.ctrlKey&&n.push("ctrl"),t.metaKey&&n.push("meta"),n),e))}function u(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function i(t,e,n,r){function o(e){l(n,e,t),"keyup"!==r&&(C=s(e)),setTimeout(c,10)}for(var a=w[t]=0;a<e.length;++a){var i=a+1===e.length?o:(e=>function(){K=e,++w[t],clearTimeout(m),m=setTimeout(c,1e3)})(r||p(e[a+1]).action);h(e[a],i,r,t,a)}}function p(e,t){for(var n,r=[],o="+"===e?["+"]:e.split("+"),a=0;a<o.length;++a)n=o[a],v[n]&&(n=v[n]),t&&"keypress"!=t&&k[n]&&(n=k[n],r.push("shift")),u(n)&&r.push(n);if(o=n,!(a=t)){if(!y)for(var i in y={},d)95<i&&i<112||d.hasOwnProperty(i)&&(y[d[i]]=i);a=y[o]?"keydown":"keypress"}return{key:n,modifiers:r,action:a="keypress"==a&&r.length?"keydown":a}}function h(e,t,n,r,o){b[e+":"+n]=t;var a=(e=e.replace(/\s+/g," ")).split(" ");1<a.length?i(e,a,t,n):(n=p(e,n),g[n.key]=g[n.key]||[],f(n.key,n.modifiers,{type:n.action},r,e,o),g[n.key][r?"unshift":"push"]({callback:t,modifiers:n.modifiers,action:n.action,seq:r,level:o,combo:e}))}var y,m,d={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},a={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},k={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},v={option:"alt",command:"meta",return:"enter",escape:"esc",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g={},b={},w={},C=!1,E=!1,K=!1;for(n=1;n<20;++n)d[111+n]="f"+n;for(n=0;n<=9;++n)d[n+96]=n;r(t,"keypress",o),r(t,"keydown",o),r(t,"keyup",o);var q={bind:function(e,t,n){e=e instanceof Array?e:[e];for(var r=0;r<e.length;++r)h(e[r],t,n);return this},unbind:function(e,t){return q.bind(e,function(){},t)},trigger:function(e,t){return b[e+":"+t]&&b[e+":"+t]({},e),this},reset:function(){return g={},b={},this},stopCallback:function(e,t){return!(-1<(" "+t.className+" ").indexOf(" mousetrap "))&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable)},handleKey:function(e,t,n){for(var r=f(e,t,n),o=0,a=!(t={}),i=0;i<r.length;++i)r[i].seq&&(o=Math.max(o,r[i].level));for(i=0;i<r.length;++i)r[i].seq?r[i].level==o&&(a=!0,t[r[i].seq]=1,l(r[i].callback,n,r[i].combo,r[i].seq)):a||l(r[i].callback,n,r[i].combo);r="keypress"==n.type&&E,n.type!=K||u(e)||r||c(t),E=a&&"keydown"==n.type}};e.Mousetrap=q,"function"==typeof define&&define.amd&&define(q)})(window,document);
//# sourceMappingURL=mousetrap.min.js.map
