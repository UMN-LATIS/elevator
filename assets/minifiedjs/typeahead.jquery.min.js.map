{"version":3,"sources":["typeahead.jquery.js"],"names":["root","factory","define","amd","a0","module","exports","require","this","$","_","isMsie","test","navigator","userAgent","match","isBlankString","str","escapeRegExChars","replace","isString","obj","isNumber","isArray","isFunction","isObject","isPlainObject","isUndefined","isElement","nodeType","isJQuery","toStr","s","bind","proxy","each","collection","cb","index","value","map","filter","grep","every","result","key","val","call","some","mixin","extend","identity","x","clone","getIdGenerator","counter","templatify","String","defer","fn","setTimeout","debounce","func","wait","immediate","timeout","later","callNow","context","args","arguments","apply","clearTimeout","throttle","previous","Date","now","remaining","stringify","JSON","guid","_p8","p","Math","random","toString","substr","noop","WWW","defaultClassNames","wrapper","input","hint","menu","dataset","suggestion","selectable","empty","open","cursor","highlight","o","www","classes","css","buildCss","html","buildHtml","selectors","buildSelectors","c","v","k","position","display","top","left","borderColor","boxShadow","opacity","verticalAlign","backgroundColor","inputWithNoHint","zIndex","ltr","right","rtl","backgroundImage","EventBus","deprecationMap","el","error","$el","render","cursorchange","select","autocomplete","prototype","_trigger","type","$e","Event","trigger","before","slice","isDefaultPrevented","deprecatedType","EventEmitter","splitter","nextTick","nextTickFn","window","setImmediate","getNextTick","onSync","types","on","onAsync","off","_callbacks","split","shift","callbacks","syncFlush","asyncFlush","getFlush","sync","concat","async","method","bindContext","push","cancelled","i","len","length","doc","defaults","node","pattern","tagName","className","wordsOnly","caseSensitive","diacriticInsensitive","accented","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","regex","patterns","regexStr","escapedPatterns","escapedWord","accent_replacer","join","RegExp","getRegex","traverse","hightlightTextNode","childNode","childNodes","textNode","patternNode","wrapperNode","exec","data","createElement","splitText","appendChild","cloneNode","parentNode","replaceChild","chr","toUpperCase","document","Input","specialKeyCodeMap","id","$input","$hint","$menu","attr","aria-hidden","aria-owns","role","aria-autocomplete","aria-expanded","query","queryWhenFocused","hasFocus","$overflowHelper","visibility","whiteSpace","fontFamily","fontSize","fontStyle","fontVariant","fontWeight","wordSpacing","letterSpacing","textIndent","textRendering","textTransform","insertAfter","_checkLanguageDirection","setHint","getHint","clearHint","clearHintIfInvalid","_updateDescendent","9","27","37","39","13","38","40","normalizeQuery","_onBlur","resetInputValue","_onFocus","_onKeydown","keyName","which","keyCode","_managePreventDefault","_shouldTrigger","_onInput","_setQuery","getInputValue","preventDefault","withModifier","dir","toLowerCase","silent","areEquivalent","hasDifferentWhitespace","a","b","event","onBlur","onFocus","onKeydown","onInput","that","focus","blur","getLangDir","getQuery","setQuery","setInputValue","hasQueryChangedSinceLastFocus","valIsPrefixOfHint","indexOf","hasOverflow","is","constraint","width","text","isCursorAtEnd","valueLength","selectionStart","range","selection","createRange","moveStart","destroy","remove","setAriaExpanded","altKey","ctrlKey","metaKey","shiftKey","Dataset","keys","nameGenerator","templates","displayFn","notFound","source","name","limit","displayKey","pending","header","footer","template","__ttAdapter","_resetLastSuggestion","addClass","extractData","_overwrite","suggestions","_renderSuggestions","_renderPending","_renderNotFound","_empty","_append","$lastSuggestion","_appendSuggestions","$fragment","_getSuggestionsFragment","children","last","prepend","_getHeader","append","_getFooter","after","fragment","createDocumentFragment","_injectQuery","_query","update","canceled","syncCalled","rendered","cancel","idx","abs","clear","isEmpty","Menu","$node","datasets","oDataset","find","first","appendTo","_onSelectableClick","currentTarget","_onRendered","toggleClass","_allDatasetsEmpty","_onCleared","_propagate","_getSelectables","_removeCursor","$selectable","getActiveSelectable","removeClass","_ensureVisible","elTop","elBottom","nodeScrollTop","nodeHeight","outerHeight","scrollTop","height","parseInt","onSelectableClick","setCursor","isOpen","hasClass","close","setLanguageDirection","selectableRelativeToCursor","delta","$selectables","$oldCursor","newIndex","eq","getSelectableData","getTopSelectable","isValidUpdate","Status","options","aria-live","padding","border","margin-bottom","margin-right","overflow","clip","white-space","cleared","words","DefaultMenu","_show","_hide","hide","Typeahead","onFocused","onBlurred","onEnterKeyed","onTabKeyed","onEscKeyed","onUpKeyed","onDownKeyed","onLeftKeyed","onRightKeyed","onQueryChanged","onWhitespaceChanged","eventBus","minLength","enabled","autoselect","active","activate","_hacks","_onSelectableClicked","_onAsyncRequested","_onAsyncCanceled","_onAsyncReceived","_onDatasetRendered","_onDatasetCleared","_onLangDirChanged","isActive","hasActive","activeElement","has","stopImmediatePropagation","_updateHint","cursorClass","_onFocused","_minLengthMet","_onBlurred","_onEnterKeyed","stopPropagation","_onTabKeyed","_onEscKeyed","_onUpKeyed","moveCursor","_onDownKeyed","_onLeftKeyed","_onRightKeyed","_onQueryChanged","e","_onWhitespaceChanged","_openIfActive","escapedQuery","isEnabled","enable","disable","deactivate","setVal","getVal","$candidate","datasetName","ctx","methods","old","ttEach","$els","typeahead","buildHintFromInput","removeData","backgroundAttachment","backgroundClip","backgroundOrigin","backgroundPosition","backgroundRepeat","backgroundSize","prop","readonly","required","removeAttr","spellcheck","tabindex","prepInput","attrs","style","$elOrNull","initialize","classNames","attach","$wrapper","defaultHint","defaultMenu","MenuConstructor","d","wrap","parent","t","success","newVal","detach","revert","noConflict"],"mappings":"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","file":"typeahead.jquery.min.js","sourcesContent":["/*!\n * typeahead.js 1.3.1\n * https://github.com/corejavascript/typeahead.js\n * Copyright 2013-2020 Twitter, Inc. and other contributors; Licensed MIT\n */\n\n\n(function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define([ \"jquery\" ], function(a0) {\n            return factory(a0);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(require(\"jquery\"));\n    } else {\n        factory(root[\"jQuery\"]);\n    }\n})(this, function($) {\n    var _ = function() {\n        \"use strict\";\n        return {\n            isMsie: function() {\n                return /(msie|trident)/i.test(navigator.userAgent) ? navigator.userAgent.match(/(msie |rv:)(\\d+(.\\d+)?)/i)[2] : false;\n            },\n            isBlankString: function(str) {\n                return !str || /^\\s*$/.test(str);\n            },\n            escapeRegExChars: function(str) {\n                return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n            },\n            isString: function(obj) {\n                return typeof obj === \"string\";\n            },\n            isNumber: function(obj) {\n                return typeof obj === \"number\";\n            },\n            isArray: $.isArray,\n            isFunction: $.isFunction,\n            isObject: $.isPlainObject,\n            isUndefined: function(obj) {\n                return typeof obj === \"undefined\";\n            },\n            isElement: function(obj) {\n                return !!(obj && obj.nodeType === 1);\n            },\n            isJQuery: function(obj) {\n                return obj instanceof $;\n            },\n            toStr: function toStr(s) {\n                return _.isUndefined(s) || s === null ? \"\" : s + \"\";\n            },\n            bind: $.proxy,\n            each: function(collection, cb) {\n                $.each(collection, reverseArgs);\n                function reverseArgs(index, value) {\n                    return cb(value, index);\n                }\n            },\n            map: $.map,\n            filter: $.grep,\n            every: function(obj, test) {\n                var result = true;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (!(result = test.call(null, val, key, obj))) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            some: function(obj, test) {\n                var result = false;\n                if (!obj) {\n                    return result;\n                }\n                $.each(obj, function(key, val) {\n                    if (result = test.call(null, val, key, obj)) {\n                        return false;\n                    }\n                });\n                return !!result;\n            },\n            mixin: $.extend,\n            identity: function(x) {\n                return x;\n            },\n            clone: function(obj) {\n                return $.extend(true, {}, obj);\n            },\n            getIdGenerator: function() {\n                var counter = 0;\n                return function() {\n                    return counter++;\n                };\n            },\n            templatify: function templatify(obj) {\n                return $.isFunction(obj) ? obj : template;\n                function template() {\n                    return String(obj);\n                }\n            },\n            defer: function(fn) {\n                setTimeout(fn, 0);\n            },\n            debounce: function(func, wait, immediate) {\n                var timeout, result;\n                return function() {\n                    var context = this, args = arguments, later, callNow;\n                    later = function() {\n                        timeout = null;\n                        if (!immediate) {\n                            result = func.apply(context, args);\n                        }\n                    };\n                    callNow = immediate && !timeout;\n                    clearTimeout(timeout);\n                    timeout = setTimeout(later, wait);\n                    if (callNow) {\n                        result = func.apply(context, args);\n                    }\n                    return result;\n                };\n            },\n            throttle: function(func, wait) {\n                var context, args, timeout, result, previous, later;\n                previous = 0;\n                later = function() {\n                    previous = new Date();\n                    timeout = null;\n                    result = func.apply(context, args);\n                };\n                return function() {\n                    var now = new Date(), remaining = wait - (now - previous);\n                    context = this;\n                    args = arguments;\n                    if (remaining <= 0) {\n                        clearTimeout(timeout);\n                        timeout = null;\n                        previous = now;\n                        result = func.apply(context, args);\n                    } else if (!timeout) {\n                        timeout = setTimeout(later, remaining);\n                    }\n                    return result;\n                };\n            },\n            stringify: function(val) {\n                return _.isString(val) ? val : JSON.stringify(val);\n            },\n            guid: function() {\n                function _p8(s) {\n                    var p = (Math.random().toString(16) + \"000000000\").substr(2, 8);\n                    return s ? \"-\" + p.substr(0, 4) + \"-\" + p.substr(4, 4) : p;\n                }\n                return \"tt-\" + _p8() + _p8(true) + _p8(true) + _p8();\n            },\n            noop: function() {}\n        };\n    }();\n    var WWW = function() {\n        \"use strict\";\n        var defaultClassNames = {\n            wrapper: \"twitter-typeahead\",\n            input: \"tt-input\",\n            hint: \"tt-hint\",\n            menu: \"tt-menu\",\n            dataset: \"tt-dataset\",\n            suggestion: \"tt-suggestion\",\n            selectable: \"tt-selectable\",\n            empty: \"tt-empty\",\n            open: \"tt-open\",\n            cursor: \"tt-cursor\",\n            highlight: \"tt-highlight\"\n        };\n        return build;\n        function build(o) {\n            var www, classes;\n            classes = _.mixin({}, defaultClassNames, o);\n            www = {\n                css: buildCss(),\n                classes: classes,\n                html: buildHtml(classes),\n                selectors: buildSelectors(classes)\n            };\n            return {\n                css: www.css,\n                html: www.html,\n                classes: www.classes,\n                selectors: www.selectors,\n                mixin: function(o) {\n                    _.mixin(o, www);\n                }\n            };\n        }\n        function buildHtml(c) {\n            return {\n                wrapper: '<span class=\"' + c.wrapper + '\"></span>',\n                menu: '<div role=\"listbox\" class=\"' + c.menu + '\"></div>'\n            };\n        }\n        function buildSelectors(classes) {\n            var selectors = {};\n            _.each(classes, function(v, k) {\n                selectors[k] = \".\" + v;\n            });\n            return selectors;\n        }\n        function buildCss() {\n            var css = {\n                wrapper: {\n                    position: \"relative\",\n                    display: \"inline-block\"\n                },\n                hint: {\n                    position: \"absolute\",\n                    top: \"0\",\n                    left: \"0\",\n                    borderColor: \"transparent\",\n                    boxShadow: \"none\",\n                    opacity: \"1\"\n                },\n                input: {\n                    position: \"relative\",\n                    verticalAlign: \"top\",\n                    backgroundColor: \"transparent\"\n                },\n                inputWithNoHint: {\n                    position: \"relative\",\n                    verticalAlign: \"top\"\n                },\n                menu: {\n                    position: \"absolute\",\n                    top: \"100%\",\n                    left: \"0\",\n                    zIndex: \"100\",\n                    display: \"none\"\n                },\n                ltr: {\n                    left: \"0\",\n                    right: \"auto\"\n                },\n                rtl: {\n                    left: \"auto\",\n                    right: \" 0\"\n                }\n            };\n            if (_.isMsie()) {\n                _.mixin(css.input, {\n                    backgroundImage: \"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)\"\n                });\n            }\n            return css;\n        }\n    }();\n    var EventBus = function() {\n        \"use strict\";\n        var namespace, deprecationMap;\n        namespace = \"typeahead:\";\n        deprecationMap = {\n            render: \"rendered\",\n            cursorchange: \"cursorchanged\",\n            select: \"selected\",\n            autocomplete: \"autocompleted\"\n        };\n        function EventBus(o) {\n            if (!o || !o.el) {\n                $.error(\"EventBus initialized without el\");\n            }\n            this.$el = $(o.el);\n        }\n        _.mixin(EventBus.prototype, {\n            _trigger: function(type, args) {\n                var $e = $.Event(namespace + type);\n                this.$el.trigger.call(this.$el, $e, args || []);\n                return $e;\n            },\n            before: function(type) {\n                var args, $e;\n                args = [].slice.call(arguments, 1);\n                $e = this._trigger(\"before\" + type, args);\n                return $e.isDefaultPrevented();\n            },\n            trigger: function(type) {\n                var deprecatedType;\n                this._trigger(type, [].slice.call(arguments, 1));\n                if (deprecatedType = deprecationMap[type]) {\n                    this._trigger(deprecatedType, [].slice.call(arguments, 1));\n                }\n            }\n        });\n        return EventBus;\n    }();\n    var EventEmitter = function() {\n        \"use strict\";\n        var splitter = /\\s+/, nextTick = getNextTick();\n        return {\n            onSync: onSync,\n            onAsync: onAsync,\n            off: off,\n            trigger: trigger\n        };\n        function on(method, types, cb, context) {\n            var type;\n            if (!cb) {\n                return this;\n            }\n            types = types.split(splitter);\n            cb = context ? bindContext(cb, context) : cb;\n            this._callbacks = this._callbacks || {};\n            while (type = types.shift()) {\n                this._callbacks[type] = this._callbacks[type] || {\n                    sync: [],\n                    async: []\n                };\n                this._callbacks[type][method].push(cb);\n            }\n            return this;\n        }\n        function onAsync(types, cb, context) {\n            return on.call(this, \"async\", types, cb, context);\n        }\n        function onSync(types, cb, context) {\n            return on.call(this, \"sync\", types, cb, context);\n        }\n        function off(types) {\n            var type;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            while (type = types.shift()) {\n                delete this._callbacks[type];\n            }\n            return this;\n        }\n        function trigger(types) {\n            var type, callbacks, args, syncFlush, asyncFlush;\n            if (!this._callbacks) {\n                return this;\n            }\n            types = types.split(splitter);\n            args = [].slice.call(arguments, 1);\n            while ((type = types.shift()) && (callbacks = this._callbacks[type])) {\n                syncFlush = getFlush(callbacks.sync, this, [ type ].concat(args));\n                asyncFlush = getFlush(callbacks.async, this, [ type ].concat(args));\n                syncFlush() && nextTick(asyncFlush);\n            }\n            return this;\n        }\n        function getFlush(callbacks, context, args) {\n            return flush;\n            function flush() {\n                var cancelled;\n                for (var i = 0, len = callbacks.length; !cancelled && i < len; i += 1) {\n                    cancelled = callbacks[i].apply(context, args) === false;\n                }\n                return !cancelled;\n            }\n        }\n        function getNextTick() {\n            var nextTickFn;\n            if (window.setImmediate) {\n                nextTickFn = function nextTickSetImmediate(fn) {\n                    setImmediate(function() {\n                        fn();\n                    });\n                };\n            } else {\n                nextTickFn = function nextTickSetTimeout(fn) {\n                    setTimeout(function() {\n                        fn();\n                    }, 0);\n                };\n            }\n            return nextTickFn;\n        }\n        function bindContext(fn, context) {\n            return fn.bind ? fn.bind(context) : function() {\n                fn.apply(context, [].slice.call(arguments, 0));\n            };\n        }\n    }();\n    var highlight = function(doc) {\n        \"use strict\";\n        var defaults = {\n            node: null,\n            pattern: null,\n            tagName: \"strong\",\n            className: null,\n            wordsOnly: false,\n            caseSensitive: false,\n            diacriticInsensitive: false\n        };\n        var accented = {\n            A: \"[AaªÀ-Åà-åĀ-ąǍǎȀ-ȃȦȧᴬᵃḀḁẚẠ-ảₐ℀℁℻⒜Ⓐⓐ㍱-㍴㎀-㎄㎈㎉㎩-㎯㏂㏊㏟㏿Ａａ]\",\n            B: \"[BbᴮᵇḂ-ḇℬ⒝Ⓑⓑ㍴㎅-㎇㏃㏈㏔㏝Ｂｂ]\",\n            C: \"[CcÇçĆ-čᶜ℀ℂ℃℅℆ℭⅭⅽ⒞Ⓒⓒ㍶㎈㎉㎝㎠㎤㏄-㏇Ｃｃ]\",\n            D: \"[DdĎďǄ-ǆǱ-ǳᴰᵈḊ-ḓⅅⅆⅮⅾ⒟Ⓓⓓ㋏㍲㍷-㍹㎗㎭-㎯㏅㏈Ｄｄ]\",\n            E: \"[EeÈ-Ëè-ëĒ-ěȄ-ȇȨȩᴱᵉḘ-ḛẸ-ẽₑ℡ℯℰⅇ⒠Ⓔⓔ㉐㋍㋎Ｅｅ]\",\n            F: \"[FfᶠḞḟ℉ℱ℻⒡Ⓕⓕ㎊-㎌㎙ﬀ-ﬄＦｆ]\",\n            G: \"[GgĜ-ģǦǧǴǵᴳᵍḠḡℊ⒢Ⓖⓖ㋌㋍㎇㎍-㎏㎓㎬㏆㏉㏒㏿Ｇｇ]\",\n            H: \"[HhĤĥȞȟʰᴴḢ-ḫẖℋ-ℎ⒣Ⓗⓗ㋌㍱㎐-㎔㏊㏋㏗Ｈｈ]\",\n            I: \"[IiÌ-Ïì-ïĨ-İĲĳǏǐȈ-ȋᴵᵢḬḭỈ-ịⁱℐℑℹⅈⅠ-ⅣⅥ-ⅨⅪⅫⅰ-ⅳⅵ-ⅸⅺⅻ⒤Ⓘⓘ㍺㏌㏕ﬁﬃＩｉ]\",\n            J: \"[JjĲ-ĵǇ-ǌǰʲᴶⅉ⒥ⒿⓙⱼＪｊ]\",\n            K: \"[KkĶķǨǩᴷᵏḰ-ḵK⒦Ⓚⓚ㎄㎅㎉㎏㎑㎘㎞㎢㎦㎪㎸㎾㏀㏆㏍-㏏Ｋｋ]\",\n            L: \"[LlĹ-ŀǇ-ǉˡᴸḶḷḺ-ḽℒℓ℡Ⅼⅼ⒧Ⓛⓛ㋏㎈㎉㏐-㏓㏕㏖㏿ﬂﬄＬｌ]\",\n            M: \"[MmᴹᵐḾ-ṃ℠™ℳⅯⅿ⒨Ⓜⓜ㍷-㍹㎃㎆㎎㎒㎖㎙-㎨㎫㎳㎷㎹㎽㎿㏁㏂㏎㏐㏔-㏖㏘㏙㏞㏟Ｍｍ]\",\n            N: \"[NnÑñŃ-ŉǊ-ǌǸǹᴺṄ-ṋⁿℕ№⒩Ⓝⓝ㎁㎋㎚㎱㎵㎻㏌㏑Ｎｎ]\",\n            O: \"[OoºÒ-Öò-öŌ-őƠơǑǒǪǫȌ-ȏȮȯᴼᵒỌ-ỏₒ℅№ℴ⒪Ⓞⓞ㍵㏇㏒㏖Ｏｏ]\",\n            P: \"[PpᴾᵖṔ-ṗℙ⒫Ⓟⓟ㉐㍱㍶㎀㎊㎩-㎬㎰㎴㎺㏋㏗-㏚Ｐｐ]\",\n            Q: \"[Qqℚ⒬Ⓠⓠ㏃Ｑｑ]\",\n            R: \"[RrŔ-řȐ-ȓʳᴿᵣṘ-ṛṞṟ₨ℛ-ℝ⒭Ⓡⓡ㋍㍴㎭-㎯㏚㏛Ｒｒ]\",\n            S: \"[SsŚ-šſȘșˢṠ-ṣ₨℁℠⒮Ⓢⓢ㎧㎨㎮-㎳㏛㏜ﬆＳｓ]\",\n            T: \"[TtŢ-ťȚțᵀᵗṪ-ṱẗ℡™⒯Ⓣⓣ㉐㋏㎔㏏ﬅﬆＴｔ]\",\n            U: \"[UuÙ-Üù-üŨ-ųƯưǓǔȔ-ȗᵁᵘᵤṲ-ṷỤ-ủ℆⒰Ⓤⓤ㍳㍺Ｕｕ]\",\n            V: \"[VvᵛᵥṼ-ṿⅣ-Ⅷⅳ-ⅷ⒱Ⓥⓥⱽ㋎㍵㎴-㎹㏜㏞Ｖｖ]\",\n            W: \"[WwŴŵʷᵂẀ-ẉẘ⒲Ⓦⓦ㎺-㎿㏝Ｗｗ]\",\n            X: \"[XxˣẊ-ẍₓ℻Ⅸ-Ⅻⅸ-ⅻ⒳Ⓧⓧ㏓Ｘｘ]\",\n            Y: \"[YyÝýÿŶ-ŸȲȳʸẎẏẙỲ-ỹ⒴Ⓨⓨ㏉Ｙｙ]\",\n            Z: \"[ZzŹ-žǱ-ǳᶻẐ-ẕℤℨ⒵Ⓩⓩ㎐-㎔Ｚｚ]\"\n        };\n        return function hightlight(o) {\n            var regex;\n            o = _.mixin({}, defaults, o);\n            if (!o.node || !o.pattern) {\n                return;\n            }\n            o.pattern = _.isArray(o.pattern) ? o.pattern : [ o.pattern ];\n            regex = getRegex(o.pattern, o.caseSensitive, o.wordsOnly, o.diacriticInsensitive);\n            traverse(o.node, hightlightTextNode);\n            function hightlightTextNode(textNode) {\n                var match, patternNode, wrapperNode;\n                if (match = regex.exec(textNode.data)) {\n                    wrapperNode = doc.createElement(o.tagName);\n                    o.className && (wrapperNode.className = o.className);\n                    patternNode = textNode.splitText(match.index);\n                    patternNode.splitText(match[0].length);\n                    wrapperNode.appendChild(patternNode.cloneNode(true));\n                    textNode.parentNode.replaceChild(wrapperNode, patternNode);\n                }\n                return !!match;\n            }\n            function traverse(el, hightlightTextNode) {\n                var childNode, TEXT_NODE_TYPE = 3;\n                for (var i = 0; i < el.childNodes.length; i++) {\n                    childNode = el.childNodes[i];\n                    if (childNode.nodeType === TEXT_NODE_TYPE) {\n                        i += hightlightTextNode(childNode) ? 1 : 0;\n                    } else {\n                        traverse(childNode, hightlightTextNode);\n                    }\n                }\n            }\n        };\n        function accent_replacer(chr) {\n            return accented[chr.toUpperCase()] || chr;\n        }\n        function getRegex(patterns, caseSensitive, wordsOnly, diacriticInsensitive) {\n            var escapedPatterns = [], regexStr;\n            for (var i = 0, len = patterns.length; i < len; i++) {\n                var escapedWord = _.escapeRegExChars(patterns[i]);\n                if (diacriticInsensitive) {\n                    escapedWord = escapedWord.replace(/\\S/g, accent_replacer);\n                }\n                escapedPatterns.push(escapedWord);\n            }\n            regexStr = wordsOnly ? \"\\\\b(\" + escapedPatterns.join(\"|\") + \")\\\\b\" : \"(\" + escapedPatterns.join(\"|\") + \")\";\n            return caseSensitive ? new RegExp(regexStr) : new RegExp(regexStr, \"i\");\n        }\n    }(window.document);\n    var Input = function() {\n        \"use strict\";\n        var specialKeyCodeMap;\n        specialKeyCodeMap = {\n            9: \"tab\",\n            27: \"esc\",\n            37: \"left\",\n            39: \"right\",\n            13: \"enter\",\n            38: \"up\",\n            40: \"down\"\n        };\n        function Input(o, www) {\n            var id;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"input is missing\");\n            }\n            www.mixin(this);\n            this.$hint = $(o.hint);\n            this.$input = $(o.input);\n            this.$menu = $(o.menu);\n            id = this.$input.attr(\"id\") || _.guid();\n            this.$menu.attr(\"id\", id + \"_listbox\");\n            this.$hint.attr({\n                \"aria-hidden\": true\n            });\n            this.$input.attr({\n                \"aria-owns\": id + \"_listbox\",\n                role: \"combobox\",\n                \"aria-autocomplete\": \"list\",\n                \"aria-expanded\": false\n            });\n            this.query = this.$input.val();\n            this.queryWhenFocused = this.hasFocus() ? this.query : null;\n            this.$overflowHelper = buildOverflowHelper(this.$input);\n            this._checkLanguageDirection();\n            if (this.$hint.length === 0) {\n                this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = _.noop;\n            }\n            this.onSync(\"cursorchange\", this._updateDescendent);\n        }\n        Input.normalizeQuery = function(str) {\n            return _.toStr(str).replace(/^\\s*/g, \"\").replace(/\\s{2,}/g, \" \");\n        };\n        _.mixin(Input.prototype, EventEmitter, {\n            _onBlur: function onBlur() {\n                this.resetInputValue();\n                this.trigger(\"blurred\");\n            },\n            _onFocus: function onFocus() {\n                this.queryWhenFocused = this.query;\n                this.trigger(\"focused\");\n            },\n            _onKeydown: function onKeydown($e) {\n                var keyName = specialKeyCodeMap[$e.which || $e.keyCode];\n                this._managePreventDefault(keyName, $e);\n                if (keyName && this._shouldTrigger(keyName, $e)) {\n                    this.trigger(keyName + \"Keyed\", $e);\n                }\n            },\n            _onInput: function onInput() {\n                this._setQuery(this.getInputValue());\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            _managePreventDefault: function managePreventDefault(keyName, $e) {\n                var preventDefault;\n                switch (keyName) {\n                  case \"up\":\n                  case \"down\":\n                    preventDefault = !withModifier($e);\n                    break;\n\n                  default:\n                    preventDefault = false;\n                }\n                preventDefault && $e.preventDefault();\n            },\n            _shouldTrigger: function shouldTrigger(keyName, $e) {\n                var trigger;\n                switch (keyName) {\n                  case \"tab\":\n                    trigger = !withModifier($e);\n                    break;\n\n                  default:\n                    trigger = true;\n                }\n                return trigger;\n            },\n            _checkLanguageDirection: function checkLanguageDirection() {\n                var dir = (this.$input.css(\"direction\") || \"ltr\").toLowerCase();\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.$hint.attr(\"dir\", dir);\n                    this.trigger(\"langDirChanged\", dir);\n                }\n            },\n            _setQuery: function setQuery(val, silent) {\n                var areEquivalent, hasDifferentWhitespace;\n                areEquivalent = areQueriesEquivalent(val, this.query);\n                hasDifferentWhitespace = areEquivalent ? this.query.length !== val.length : false;\n                this.query = val;\n                if (!silent && !areEquivalent) {\n                    this.trigger(\"queryChanged\", this.query);\n                } else if (!silent && hasDifferentWhitespace) {\n                    this.trigger(\"whitespaceChanged\", this.query);\n                }\n            },\n            _updateDescendent: function updateDescendent(event, id) {\n                this.$input.attr(\"aria-activedescendant\", id);\n            },\n            bind: function() {\n                var that = this, onBlur, onFocus, onKeydown, onInput;\n                onBlur = _.bind(this._onBlur, this);\n                onFocus = _.bind(this._onFocus, this);\n                onKeydown = _.bind(this._onKeydown, this);\n                onInput = _.bind(this._onInput, this);\n                this.$input.on(\"blur.tt\", onBlur).on(\"focus.tt\", onFocus).on(\"keydown.tt\", onKeydown);\n                if (!_.isMsie() || _.isMsie() > 9) {\n                    this.$input.on(\"input.tt\", onInput);\n                } else {\n                    this.$input.on(\"keydown.tt keypress.tt cut.tt paste.tt\", function($e) {\n                        if (specialKeyCodeMap[$e.which || $e.keyCode]) {\n                            return;\n                        }\n                        _.defer(_.bind(that._onInput, that, $e));\n                    });\n                }\n                return this;\n            },\n            focus: function focus() {\n                this.$input.focus();\n            },\n            blur: function blur() {\n                this.$input.blur();\n            },\n            getLangDir: function getLangDir() {\n                return this.dir;\n            },\n            getQuery: function getQuery() {\n                return this.query || \"\";\n            },\n            setQuery: function setQuery(val, silent) {\n                this.setInputValue(val);\n                this._setQuery(val, silent);\n            },\n            hasQueryChangedSinceLastFocus: function hasQueryChangedSinceLastFocus() {\n                return this.query !== this.queryWhenFocused;\n            },\n            getInputValue: function getInputValue() {\n                return this.$input.val();\n            },\n            setInputValue: function setInputValue(value) {\n                this.$input.val(value);\n                this.clearHintIfInvalid();\n                this._checkLanguageDirection();\n            },\n            resetInputValue: function resetInputValue() {\n                this.setInputValue(this.query);\n            },\n            getHint: function getHint() {\n                return this.$hint.val();\n            },\n            setHint: function setHint(value) {\n                this.$hint.val(value);\n            },\n            clearHint: function clearHint() {\n                this.setHint(\"\");\n            },\n            clearHintIfInvalid: function clearHintIfInvalid() {\n                var val, hint, valIsPrefixOfHint, isValid;\n                val = this.getInputValue();\n                hint = this.getHint();\n                valIsPrefixOfHint = val !== hint && hint.indexOf(val) === 0;\n                isValid = val !== \"\" && valIsPrefixOfHint && !this.hasOverflow();\n                !isValid && this.clearHint();\n            },\n            hasFocus: function hasFocus() {\n                return this.$input.is(\":focus\");\n            },\n            hasOverflow: function hasOverflow() {\n                var constraint = this.$input.width() - 2;\n                this.$overflowHelper.text(this.getInputValue());\n                return this.$overflowHelper.width() >= constraint;\n            },\n            isCursorAtEnd: function() {\n                var valueLength, selectionStart, range;\n                valueLength = this.$input.val().length;\n                selectionStart = this.$input[0].selectionStart;\n                if (_.isNumber(selectionStart)) {\n                    return selectionStart === valueLength;\n                } else if (document.selection) {\n                    range = document.selection.createRange();\n                    range.moveStart(\"character\", -valueLength);\n                    return valueLength === range.text.length;\n                }\n                return true;\n            },\n            destroy: function destroy() {\n                this.$hint.off(\".tt\");\n                this.$input.off(\".tt\");\n                this.$overflowHelper.remove();\n                this.$hint = this.$input = this.$overflowHelper = $(\"<div>\");\n            },\n            setAriaExpanded: function setAriaExpanded(value) {\n                this.$input.attr(\"aria-expanded\", value);\n            }\n        });\n        return Input;\n        function buildOverflowHelper($input) {\n            return $('<pre aria-hidden=\"true\"></pre>').css({\n                position: \"absolute\",\n                visibility: \"hidden\",\n                whiteSpace: \"pre\",\n                fontFamily: $input.css(\"font-family\"),\n                fontSize: $input.css(\"font-size\"),\n                fontStyle: $input.css(\"font-style\"),\n                fontVariant: $input.css(\"font-variant\"),\n                fontWeight: $input.css(\"font-weight\"),\n                wordSpacing: $input.css(\"word-spacing\"),\n                letterSpacing: $input.css(\"letter-spacing\"),\n                textIndent: $input.css(\"text-indent\"),\n                textRendering: $input.css(\"text-rendering\"),\n                textTransform: $input.css(\"text-transform\")\n            }).insertAfter($input);\n        }\n        function areQueriesEquivalent(a, b) {\n            return Input.normalizeQuery(a) === Input.normalizeQuery(b);\n        }\n        function withModifier($e) {\n            return $e.altKey || $e.ctrlKey || $e.metaKey || $e.shiftKey;\n        }\n    }();\n    var Dataset = function() {\n        \"use strict\";\n        var keys, nameGenerator;\n        keys = {\n            dataset: \"tt-selectable-dataset\",\n            val: \"tt-selectable-display\",\n            obj: \"tt-selectable-object\"\n        };\n        nameGenerator = _.getIdGenerator();\n        function Dataset(o, www) {\n            o = o || {};\n            o.templates = o.templates || {};\n            o.templates.notFound = o.templates.notFound || o.templates.empty;\n            if (!o.source) {\n                $.error(\"missing source\");\n            }\n            if (!o.node) {\n                $.error(\"missing node\");\n            }\n            if (o.name && !isValidName(o.name)) {\n                $.error(\"invalid dataset name: \" + o.name);\n            }\n            www.mixin(this);\n            this.highlight = !!o.highlight;\n            this.name = _.toStr(o.name || nameGenerator());\n            this.limit = o.limit || 5;\n            this.displayFn = getDisplayFn(o.display || o.displayKey);\n            this.templates = getTemplates(o.templates, this.displayFn);\n            this.source = o.source.__ttAdapter ? o.source.__ttAdapter() : o.source;\n            this.async = _.isUndefined(o.async) ? this.source.length > 2 : !!o.async;\n            this._resetLastSuggestion();\n            this.$el = $(o.node).attr(\"role\", \"presentation\").addClass(this.classes.dataset).addClass(this.classes.dataset + \"-\" + this.name);\n        }\n        Dataset.extractData = function extractData(el) {\n            var $el = $(el);\n            if ($el.data(keys.obj)) {\n                return {\n                    dataset: $el.data(keys.dataset) || \"\",\n                    val: $el.data(keys.val) || \"\",\n                    obj: $el.data(keys.obj) || null\n                };\n            }\n            return null;\n        };\n        _.mixin(Dataset.prototype, EventEmitter, {\n            _overwrite: function overwrite(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (this.async && this.templates.pending) {\n                    this._renderPending(query);\n                } else if (!this.async && this.templates.notFound) {\n                    this._renderNotFound(query);\n                } else {\n                    this._empty();\n                }\n                this.trigger(\"rendered\", suggestions, false, this.name);\n            },\n            _append: function append(query, suggestions) {\n                suggestions = suggestions || [];\n                if (suggestions.length && this.$lastSuggestion.length) {\n                    this._appendSuggestions(query, suggestions);\n                } else if (suggestions.length) {\n                    this._renderSuggestions(query, suggestions);\n                } else if (!this.$lastSuggestion.length && this.templates.notFound) {\n                    this._renderNotFound(query);\n                }\n                this.trigger(\"rendered\", suggestions, true, this.name);\n            },\n            _renderSuggestions: function renderSuggestions(query, suggestions) {\n                var $fragment;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                this.$lastSuggestion = $fragment.children().last();\n                this.$el.html($fragment).prepend(this._getHeader(query, suggestions)).append(this._getFooter(query, suggestions));\n            },\n            _appendSuggestions: function appendSuggestions(query, suggestions) {\n                var $fragment, $lastSuggestion;\n                $fragment = this._getSuggestionsFragment(query, suggestions);\n                $lastSuggestion = $fragment.children().last();\n                this.$lastSuggestion.after($fragment);\n                this.$lastSuggestion = $lastSuggestion;\n            },\n            _renderPending: function renderPending(query) {\n                var template = this.templates.pending;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _renderNotFound: function renderNotFound(query) {\n                var template = this.templates.notFound;\n                this._resetLastSuggestion();\n                template && this.$el.html(template({\n                    query: query,\n                    dataset: this.name\n                }));\n            },\n            _empty: function empty() {\n                this.$el.empty();\n                this._resetLastSuggestion();\n            },\n            _getSuggestionsFragment: function getSuggestionsFragment(query, suggestions) {\n                var that = this, fragment;\n                fragment = document.createDocumentFragment();\n                _.each(suggestions, function getSuggestionNode(suggestion) {\n                    var $el, context;\n                    context = that._injectQuery(query, suggestion);\n                    $el = $(that.templates.suggestion(context)).data(keys.dataset, that.name).data(keys.obj, suggestion).data(keys.val, that.displayFn(suggestion)).addClass(that.classes.suggestion + \" \" + that.classes.selectable);\n                    fragment.appendChild($el[0]);\n                });\n                this.highlight && highlight({\n                    className: this.classes.highlight,\n                    node: fragment,\n                    pattern: query\n                });\n                return $(fragment);\n            },\n            _getFooter: function getFooter(query, suggestions) {\n                return this.templates.footer ? this.templates.footer({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _getHeader: function getHeader(query, suggestions) {\n                return this.templates.header ? this.templates.header({\n                    query: query,\n                    suggestions: suggestions,\n                    dataset: this.name\n                }) : null;\n            },\n            _resetLastSuggestion: function resetLastSuggestion() {\n                this.$lastSuggestion = $();\n            },\n            _injectQuery: function injectQuery(query, obj) {\n                return _.isObject(obj) ? _.mixin({\n                    _query: query\n                }, obj) : obj;\n            },\n            update: function update(query) {\n                var that = this, canceled = false, syncCalled = false, rendered = 0;\n                this.cancel();\n                this.cancel = function cancel() {\n                    canceled = true;\n                    that.cancel = $.noop;\n                    that.async && that.trigger(\"asyncCanceled\", query, that.name);\n                };\n                this.source(query, sync, async);\n                !syncCalled && sync([]);\n                function sync(suggestions) {\n                    if (syncCalled) {\n                        return;\n                    }\n                    syncCalled = true;\n                    suggestions = (suggestions || []).slice(0, that.limit);\n                    rendered = suggestions.length;\n                    that._overwrite(query, suggestions);\n                    if (rendered < that.limit && that.async) {\n                        that.trigger(\"asyncRequested\", query, that.name);\n                    }\n                }\n                function async(suggestions) {\n                    suggestions = suggestions || [];\n                    if (!canceled && rendered < that.limit) {\n                        that.cancel = $.noop;\n                        var idx = Math.abs(rendered - that.limit);\n                        rendered += idx;\n                        that._append(query, suggestions.slice(0, idx));\n                        that.async && that.trigger(\"asyncReceived\", query, that.name);\n                    }\n                }\n            },\n            cancel: $.noop,\n            clear: function clear() {\n                this._empty();\n                this.cancel();\n                this.trigger(\"cleared\");\n            },\n            isEmpty: function isEmpty() {\n                return this.$el.is(\":empty\");\n            },\n            destroy: function destroy() {\n                this.$el = $(\"<div>\");\n            }\n        });\n        return Dataset;\n        function getDisplayFn(display) {\n            display = display || _.stringify;\n            return _.isFunction(display) ? display : displayFn;\n            function displayFn(obj) {\n                return obj[display];\n            }\n        }\n        function getTemplates(templates, displayFn) {\n            return {\n                notFound: templates.notFound && _.templatify(templates.notFound),\n                pending: templates.pending && _.templatify(templates.pending),\n                header: templates.header && _.templatify(templates.header),\n                footer: templates.footer && _.templatify(templates.footer),\n                suggestion: templates.suggestion ? userSuggestionTemplate : suggestionTemplate\n            };\n            function userSuggestionTemplate(context) {\n                var template = templates.suggestion;\n                return $(template(context)).attr(\"id\", _.guid());\n            }\n            function suggestionTemplate(context) {\n                return $('<div role=\"option\">').attr(\"id\", _.guid()).text(displayFn(context));\n            }\n        }\n        function isValidName(str) {\n            return /^[_a-zA-Z0-9-]+$/.test(str);\n        }\n    }();\n    var Menu = function() {\n        \"use strict\";\n        function Menu(o, www) {\n            var that = this;\n            o = o || {};\n            if (!o.node) {\n                $.error(\"node is required\");\n            }\n            www.mixin(this);\n            this.$node = $(o.node);\n            this.query = null;\n            this.datasets = _.map(o.datasets, initializeDataset);\n            function initializeDataset(oDataset) {\n                var node = that.$node.find(oDataset.node).first();\n                oDataset.node = node.length ? node : $(\"<div>\").appendTo(that.$node);\n                return new Dataset(oDataset, www);\n            }\n        }\n        _.mixin(Menu.prototype, EventEmitter, {\n            _onSelectableClick: function onSelectableClick($e) {\n                this.trigger(\"selectableClicked\", $($e.currentTarget));\n            },\n            _onRendered: function onRendered(type, dataset, suggestions, async) {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetRendered\", dataset, suggestions, async);\n            },\n            _onCleared: function onCleared() {\n                this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty());\n                this.trigger(\"datasetCleared\");\n            },\n            _propagate: function propagate() {\n                this.trigger.apply(this, arguments);\n            },\n            _allDatasetsEmpty: function allDatasetsEmpty() {\n                return _.every(this.datasets, _.bind(function isDatasetEmpty(dataset) {\n                    var isEmpty = dataset.isEmpty();\n                    this.$node.attr(\"aria-expanded\", !isEmpty);\n                    return isEmpty;\n                }, this));\n            },\n            _getSelectables: function getSelectables() {\n                return this.$node.find(this.selectors.selectable);\n            },\n            _removeCursor: function _removeCursor() {\n                var $selectable = this.getActiveSelectable();\n                $selectable && $selectable.removeClass(this.classes.cursor);\n            },\n            _ensureVisible: function ensureVisible($el) {\n                var elTop, elBottom, nodeScrollTop, nodeHeight;\n                elTop = $el.position().top;\n                elBottom = elTop + $el.outerHeight(true);\n                nodeScrollTop = this.$node.scrollTop();\n                nodeHeight = this.$node.height() + parseInt(this.$node.css(\"paddingTop\"), 10) + parseInt(this.$node.css(\"paddingBottom\"), 10);\n                if (elTop < 0) {\n                    this.$node.scrollTop(nodeScrollTop + elTop);\n                } else if (nodeHeight < elBottom) {\n                    this.$node.scrollTop(nodeScrollTop + (elBottom - nodeHeight));\n                }\n            },\n            bind: function() {\n                var that = this, onSelectableClick;\n                onSelectableClick = _.bind(this._onSelectableClick, this);\n                this.$node.on(\"click.tt\", this.selectors.selectable, onSelectableClick);\n                this.$node.on(\"mouseover\", this.selectors.selectable, function() {\n                    that.setCursor($(this));\n                });\n                this.$node.on(\"mouseleave\", function() {\n                    that._removeCursor();\n                });\n                _.each(this.datasets, function(dataset) {\n                    dataset.onSync(\"asyncRequested\", that._propagate, that).onSync(\"asyncCanceled\", that._propagate, that).onSync(\"asyncReceived\", that._propagate, that).onSync(\"rendered\", that._onRendered, that).onSync(\"cleared\", that._onCleared, that);\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                return this.$node.hasClass(this.classes.open);\n            },\n            open: function open() {\n                this.$node.scrollTop(0);\n                this.$node.addClass(this.classes.open);\n            },\n            close: function close() {\n                this.$node.attr(\"aria-expanded\", false);\n                this.$node.removeClass(this.classes.open);\n                this._removeCursor();\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.attr(\"dir\", dir);\n            },\n            selectableRelativeToCursor: function selectableRelativeToCursor(delta) {\n                var $selectables, $oldCursor, oldIndex, newIndex;\n                $oldCursor = this.getActiveSelectable();\n                $selectables = this._getSelectables();\n                oldIndex = $oldCursor ? $selectables.index($oldCursor) : -1;\n                newIndex = oldIndex + delta;\n                newIndex = (newIndex + 1) % ($selectables.length + 1) - 1;\n                newIndex = newIndex < -1 ? $selectables.length - 1 : newIndex;\n                return newIndex === -1 ? null : $selectables.eq(newIndex);\n            },\n            setCursor: function setCursor($selectable) {\n                this._removeCursor();\n                if ($selectable = $selectable && $selectable.first()) {\n                    $selectable.addClass(this.classes.cursor);\n                    this._ensureVisible($selectable);\n                }\n            },\n            getSelectableData: function getSelectableData($el) {\n                return $el && $el.length ? Dataset.extractData($el) : null;\n            },\n            getActiveSelectable: function getActiveSelectable() {\n                var $selectable = this._getSelectables().filter(this.selectors.cursor).first();\n                return $selectable.length ? $selectable : null;\n            },\n            getTopSelectable: function getTopSelectable() {\n                var $selectable = this._getSelectables().first();\n                return $selectable.length ? $selectable : null;\n            },\n            update: function update(query) {\n                var isValidUpdate = query !== this.query;\n                if (isValidUpdate) {\n                    this.query = query;\n                    _.each(this.datasets, updateDataset);\n                }\n                return isValidUpdate;\n                function updateDataset(dataset) {\n                    dataset.update(query);\n                }\n            },\n            empty: function empty() {\n                _.each(this.datasets, clearDataset);\n                this.query = null;\n                this.$node.addClass(this.classes.empty);\n                function clearDataset(dataset) {\n                    dataset.clear();\n                }\n            },\n            destroy: function destroy() {\n                this.$node.off(\".tt\");\n                this.$node = $(\"<div>\");\n                _.each(this.datasets, destroyDataset);\n                function destroyDataset(dataset) {\n                    dataset.destroy();\n                }\n            }\n        });\n        return Menu;\n    }();\n    var Status = function() {\n        \"use strict\";\n        function Status(options) {\n            this.$el = $(\"<span></span>\", {\n                role: \"status\",\n                \"aria-live\": \"polite\"\n            }).css({\n                position: \"absolute\",\n                padding: \"0\",\n                border: \"0\",\n                height: \"1px\",\n                width: \"1px\",\n                \"margin-bottom\": \"-1px\",\n                \"margin-right\": \"-1px\",\n                overflow: \"hidden\",\n                clip: \"rect(0 0 0 0)\",\n                \"white-space\": \"nowrap\"\n            });\n            options.$input.after(this.$el);\n            _.each(options.menu.datasets, _.bind(function(dataset) {\n                if (dataset.onSync) {\n                    dataset.onSync(\"rendered\", _.bind(this.update, this));\n                    dataset.onSync(\"cleared\", _.bind(this.cleared, this));\n                }\n            }, this));\n        }\n        _.mixin(Status.prototype, {\n            update: function update(event, suggestions) {\n                var length = suggestions.length;\n                var words;\n                if (length === 1) {\n                    words = {\n                        result: \"result\",\n                        is: \"is\"\n                    };\n                } else {\n                    words = {\n                        result: \"results\",\n                        is: \"are\"\n                    };\n                }\n                this.$el.text(length + \" \" + words.result + \" \" + words.is + \" available, use up and down arrow keys to navigate.\");\n            },\n            cleared: function() {\n                this.$el.text(\"\");\n            }\n        });\n        return Status;\n    }();\n    var DefaultMenu = function() {\n        \"use strict\";\n        var s = Menu.prototype;\n        function DefaultMenu() {\n            Menu.apply(this, [].slice.call(arguments, 0));\n        }\n        _.mixin(DefaultMenu.prototype, Menu.prototype, {\n            open: function open() {\n                !this._allDatasetsEmpty() && this._show();\n                return s.open.apply(this, [].slice.call(arguments, 0));\n            },\n            close: function close() {\n                this._hide();\n                return s.close.apply(this, [].slice.call(arguments, 0));\n            },\n            _onRendered: function onRendered() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onRendered.apply(this, [].slice.call(arguments, 0));\n            },\n            _onCleared: function onCleared() {\n                if (this._allDatasetsEmpty()) {\n                    this._hide();\n                } else {\n                    this.isOpen() && this._show();\n                }\n                return s._onCleared.apply(this, [].slice.call(arguments, 0));\n            },\n            setLanguageDirection: function setLanguageDirection(dir) {\n                this.$node.css(dir === \"ltr\" ? this.css.ltr : this.css.rtl);\n                return s.setLanguageDirection.apply(this, [].slice.call(arguments, 0));\n            },\n            _hide: function hide() {\n                this.$node.hide();\n            },\n            _show: function show() {\n                this.$node.css(\"display\", \"block\");\n            }\n        });\n        return DefaultMenu;\n    }();\n    var Typeahead = function() {\n        \"use strict\";\n        function Typeahead(o, www) {\n            var onFocused, onBlurred, onEnterKeyed, onTabKeyed, onEscKeyed, onUpKeyed, onDownKeyed, onLeftKeyed, onRightKeyed, onQueryChanged, onWhitespaceChanged;\n            o = o || {};\n            if (!o.input) {\n                $.error(\"missing input\");\n            }\n            if (!o.menu) {\n                $.error(\"missing menu\");\n            }\n            if (!o.eventBus) {\n                $.error(\"missing event bus\");\n            }\n            www.mixin(this);\n            this.eventBus = o.eventBus;\n            this.minLength = _.isNumber(o.minLength) ? o.minLength : 1;\n            this.input = o.input;\n            this.menu = o.menu;\n            this.enabled = true;\n            this.autoselect = !!o.autoselect;\n            this.active = false;\n            this.input.hasFocus() && this.activate();\n            this.dir = this.input.getLangDir();\n            this._hacks();\n            this.menu.bind().onSync(\"selectableClicked\", this._onSelectableClicked, this).onSync(\"asyncRequested\", this._onAsyncRequested, this).onSync(\"asyncCanceled\", this._onAsyncCanceled, this).onSync(\"asyncReceived\", this._onAsyncReceived, this).onSync(\"datasetRendered\", this._onDatasetRendered, this).onSync(\"datasetCleared\", this._onDatasetCleared, this);\n            onFocused = c(this, \"activate\", \"open\", \"_onFocused\");\n            onBlurred = c(this, \"deactivate\", \"_onBlurred\");\n            onEnterKeyed = c(this, \"isActive\", \"isOpen\", \"_onEnterKeyed\");\n            onTabKeyed = c(this, \"isActive\", \"isOpen\", \"_onTabKeyed\");\n            onEscKeyed = c(this, \"isActive\", \"_onEscKeyed\");\n            onUpKeyed = c(this, \"isActive\", \"open\", \"_onUpKeyed\");\n            onDownKeyed = c(this, \"isActive\", \"open\", \"_onDownKeyed\");\n            onLeftKeyed = c(this, \"isActive\", \"isOpen\", \"_onLeftKeyed\");\n            onRightKeyed = c(this, \"isActive\", \"isOpen\", \"_onRightKeyed\");\n            onQueryChanged = c(this, \"_openIfActive\", \"_onQueryChanged\");\n            onWhitespaceChanged = c(this, \"_openIfActive\", \"_onWhitespaceChanged\");\n            this.input.bind().onSync(\"focused\", onFocused, this).onSync(\"blurred\", onBlurred, this).onSync(\"enterKeyed\", onEnterKeyed, this).onSync(\"tabKeyed\", onTabKeyed, this).onSync(\"escKeyed\", onEscKeyed, this).onSync(\"upKeyed\", onUpKeyed, this).onSync(\"downKeyed\", onDownKeyed, this).onSync(\"leftKeyed\", onLeftKeyed, this).onSync(\"rightKeyed\", onRightKeyed, this).onSync(\"queryChanged\", onQueryChanged, this).onSync(\"whitespaceChanged\", onWhitespaceChanged, this).onSync(\"langDirChanged\", this._onLangDirChanged, this);\n        }\n        _.mixin(Typeahead.prototype, {\n            _hacks: function hacks() {\n                var $input, $menu;\n                $input = this.input.$input || $(\"<div>\");\n                $menu = this.menu.$node || $(\"<div>\");\n                $input.on(\"blur.tt\", function($e) {\n                    var active, isActive, hasActive;\n                    active = document.activeElement;\n                    isActive = $menu.is(active);\n                    hasActive = $menu.has(active).length > 0;\n                    if (_.isMsie() && (isActive || hasActive)) {\n                        $e.preventDefault();\n                        $e.stopImmediatePropagation();\n                        _.defer(function() {\n                            $input.focus();\n                        });\n                    }\n                });\n                $menu.on(\"mousedown.tt\", function($e) {\n                    $e.preventDefault();\n                });\n            },\n            _onSelectableClicked: function onSelectableClicked(type, $el) {\n                this.select($el);\n            },\n            _onDatasetCleared: function onDatasetCleared() {\n                this._updateHint();\n            },\n            _onDatasetRendered: function onDatasetRendered(type, suggestions, async, dataset) {\n                this._updateHint();\n                if (this.autoselect) {\n                    var cursorClass = this.selectors.cursor.substr(1);\n                    this.menu.$node.find(this.selectors.suggestion).first().addClass(cursorClass);\n                }\n                this.eventBus.trigger(\"render\", suggestions, async, dataset);\n            },\n            _onAsyncRequested: function onAsyncRequested(type, dataset, query) {\n                this.eventBus.trigger(\"asyncrequest\", query, dataset);\n            },\n            _onAsyncCanceled: function onAsyncCanceled(type, dataset, query) {\n                this.eventBus.trigger(\"asynccancel\", query, dataset);\n            },\n            _onAsyncReceived: function onAsyncReceived(type, dataset, query) {\n                this.eventBus.trigger(\"asyncreceive\", query, dataset);\n            },\n            _onFocused: function onFocused() {\n                this._minLengthMet() && this.menu.update(this.input.getQuery());\n            },\n            _onBlurred: function onBlurred() {\n                if (this.input.hasQueryChangedSinceLastFocus()) {\n                    this.eventBus.trigger(\"change\", this.input.getQuery());\n                }\n            },\n            _onEnterKeyed: function onEnterKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    if (this.select($selectable)) {\n                        $e.preventDefault();\n                        $e.stopPropagation();\n                    }\n                } else if (this.autoselect) {\n                    if (this.select(this.menu.getTopSelectable())) {\n                        $e.preventDefault();\n                        $e.stopPropagation();\n                    }\n                }\n            },\n            _onTabKeyed: function onTabKeyed(type, $e) {\n                var $selectable;\n                if ($selectable = this.menu.getActiveSelectable()) {\n                    this.select($selectable) && $e.preventDefault();\n                } else if (this.autoselect) {\n                    if ($selectable = this.menu.getTopSelectable()) {\n                        this.autocomplete($selectable) && $e.preventDefault();\n                    }\n                }\n            },\n            _onEscKeyed: function onEscKeyed() {\n                this.close();\n            },\n            _onUpKeyed: function onUpKeyed() {\n                this.moveCursor(-1);\n            },\n            _onDownKeyed: function onDownKeyed() {\n                this.moveCursor(+1);\n            },\n            _onLeftKeyed: function onLeftKeyed() {\n                if (this.dir === \"rtl\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                }\n            },\n            _onRightKeyed: function onRightKeyed() {\n                if (this.dir === \"ltr\" && this.input.isCursorAtEnd()) {\n                    this.autocomplete(this.menu.getActiveSelectable() || this.menu.getTopSelectable());\n                }\n            },\n            _onQueryChanged: function onQueryChanged(e, query) {\n                this._minLengthMet(query) ? this.menu.update(query) : this.menu.empty();\n            },\n            _onWhitespaceChanged: function onWhitespaceChanged() {\n                this._updateHint();\n            },\n            _onLangDirChanged: function onLangDirChanged(e, dir) {\n                if (this.dir !== dir) {\n                    this.dir = dir;\n                    this.menu.setLanguageDirection(dir);\n                }\n            },\n            _openIfActive: function openIfActive() {\n                this.isActive() && this.open();\n            },\n            _minLengthMet: function minLengthMet(query) {\n                query = _.isString(query) ? query : this.input.getQuery() || \"\";\n                return query.length >= this.minLength;\n            },\n            _updateHint: function updateHint() {\n                var $selectable, data, val, query, escapedQuery, frontMatchRegEx, match;\n                $selectable = this.menu.getTopSelectable();\n                data = this.menu.getSelectableData($selectable);\n                val = this.input.getInputValue();\n                if (data && !_.isBlankString(val) && !this.input.hasOverflow()) {\n                    query = Input.normalizeQuery(val);\n                    escapedQuery = _.escapeRegExChars(query);\n                    frontMatchRegEx = new RegExp(\"^(?:\" + escapedQuery + \")(.+$)\", \"i\");\n                    match = frontMatchRegEx.exec(data.val);\n                    match && this.input.setHint(val + match[1]);\n                } else {\n                    this.input.clearHint();\n                }\n            },\n            isEnabled: function isEnabled() {\n                return this.enabled;\n            },\n            enable: function enable() {\n                this.enabled = true;\n            },\n            disable: function disable() {\n                this.enabled = false;\n            },\n            isActive: function isActive() {\n                return this.active;\n            },\n            activate: function activate() {\n                if (this.isActive()) {\n                    return true;\n                } else if (!this.isEnabled() || this.eventBus.before(\"active\")) {\n                    return false;\n                } else {\n                    this.active = true;\n                    this.eventBus.trigger(\"active\");\n                    return true;\n                }\n            },\n            deactivate: function deactivate() {\n                if (!this.isActive()) {\n                    return true;\n                } else if (this.eventBus.before(\"idle\")) {\n                    return false;\n                } else {\n                    this.active = false;\n                    this.close();\n                    this.eventBus.trigger(\"idle\");\n                    return true;\n                }\n            },\n            isOpen: function isOpen() {\n                return this.menu.isOpen();\n            },\n            open: function open() {\n                if (!this.isOpen() && !this.eventBus.before(\"open\")) {\n                    this.input.setAriaExpanded(true);\n                    this.menu.open();\n                    this._updateHint();\n                    this.eventBus.trigger(\"open\");\n                }\n                return this.isOpen();\n            },\n            close: function close() {\n                if (this.isOpen() && !this.eventBus.before(\"close\")) {\n                    this.input.setAriaExpanded(false);\n                    this.menu.close();\n                    this.input.clearHint();\n                    this.input.resetInputValue();\n                    this.eventBus.trigger(\"close\");\n                }\n                return !this.isOpen();\n            },\n            setVal: function setVal(val) {\n                this.input.setQuery(_.toStr(val));\n            },\n            getVal: function getVal() {\n                return this.input.getQuery();\n            },\n            select: function select($selectable) {\n                var data = this.menu.getSelectableData($selectable);\n                if (data && !this.eventBus.before(\"select\", data.obj, data.dataset)) {\n                    this.input.setQuery(data.val, true);\n                    this.eventBus.trigger(\"select\", data.obj, data.dataset);\n                    this.close();\n                    return true;\n                }\n                return false;\n            },\n            autocomplete: function autocomplete($selectable) {\n                var query, data, isValid;\n                query = this.input.getQuery();\n                data = this.menu.getSelectableData($selectable);\n                isValid = data && query !== data.val;\n                if (isValid && !this.eventBus.before(\"autocomplete\", data.obj, data.dataset)) {\n                    this.input.setQuery(data.val);\n                    this.eventBus.trigger(\"autocomplete\", data.obj, data.dataset);\n                    return true;\n                }\n                return false;\n            },\n            moveCursor: function moveCursor(delta) {\n                var query, $candidate, data, suggestion, datasetName, cancelMove, id;\n                query = this.input.getQuery();\n                $candidate = this.menu.selectableRelativeToCursor(delta);\n                data = this.menu.getSelectableData($candidate);\n                suggestion = data ? data.obj : null;\n                datasetName = data ? data.dataset : null;\n                id = $candidate ? $candidate.attr(\"id\") : null;\n                this.input.trigger(\"cursorchange\", id);\n                cancelMove = this._minLengthMet() && this.menu.update(query);\n                if (!cancelMove && !this.eventBus.before(\"cursorchange\", suggestion, datasetName)) {\n                    this.menu.setCursor($candidate);\n                    if (data) {\n                        if (typeof data.val === \"string\") {\n                            this.input.setInputValue(data.val);\n                        }\n                    } else {\n                        this.input.resetInputValue();\n                        this._updateHint();\n                    }\n                    this.eventBus.trigger(\"cursorchange\", suggestion, datasetName);\n                    return true;\n                }\n                return false;\n            },\n            destroy: function destroy() {\n                this.input.destroy();\n                this.menu.destroy();\n            }\n        });\n        return Typeahead;\n        function c(ctx) {\n            var methods = [].slice.call(arguments, 1);\n            return function() {\n                var args = [].slice.call(arguments);\n                _.each(methods, function(method) {\n                    return ctx[method].apply(ctx, args);\n                });\n            };\n        }\n    }();\n    (function() {\n        \"use strict\";\n        var old, keys, methods;\n        old = $.fn.typeahead;\n        keys = {\n            www: \"tt-www\",\n            attrs: \"tt-attrs\",\n            typeahead: \"tt-typeahead\"\n        };\n        methods = {\n            initialize: function initialize(o, datasets) {\n                var www;\n                datasets = _.isArray(datasets) ? datasets : [].slice.call(arguments, 1);\n                o = o || {};\n                www = WWW(o.classNames);\n                return this.each(attach);\n                function attach() {\n                    var $input, $wrapper, $hint, $menu, defaultHint, defaultMenu, eventBus, input, menu, status, typeahead, MenuConstructor;\n                    _.each(datasets, function(d) {\n                        d.highlight = !!o.highlight;\n                    });\n                    $input = $(this);\n                    $wrapper = $(www.html.wrapper);\n                    $hint = $elOrNull(o.hint);\n                    $menu = $elOrNull(o.menu);\n                    defaultHint = o.hint !== false && !$hint;\n                    defaultMenu = o.menu !== false && !$menu;\n                    defaultHint && ($hint = buildHintFromInput($input, www));\n                    defaultMenu && ($menu = $(www.html.menu).css(www.css.menu));\n                    $hint && $hint.val(\"\");\n                    $input = prepInput($input, www);\n                    if (defaultHint || defaultMenu) {\n                        $wrapper.css(www.css.wrapper);\n                        $input.css(defaultHint ? www.css.input : www.css.inputWithNoHint);\n                        $input.wrap($wrapper).parent().prepend(defaultHint ? $hint : null).append(defaultMenu ? $menu : null);\n                    }\n                    MenuConstructor = defaultMenu ? DefaultMenu : Menu;\n                    eventBus = new EventBus({\n                        el: $input\n                    });\n                    input = new Input({\n                        hint: $hint,\n                        input: $input,\n                        menu: $menu\n                    }, www);\n                    menu = new MenuConstructor({\n                        node: $menu,\n                        datasets: datasets\n                    }, www);\n                    status = new Status({\n                        $input: $input,\n                        menu: menu\n                    });\n                    typeahead = new Typeahead({\n                        input: input,\n                        menu: menu,\n                        eventBus: eventBus,\n                        minLength: o.minLength,\n                        autoselect: o.autoselect\n                    }, www);\n                    $input.data(keys.www, www);\n                    $input.data(keys.typeahead, typeahead);\n                }\n            },\n            isEnabled: function isEnabled() {\n                var enabled;\n                ttEach(this.first(), function(t) {\n                    enabled = t.isEnabled();\n                });\n                return enabled;\n            },\n            enable: function enable() {\n                ttEach(this, function(t) {\n                    t.enable();\n                });\n                return this;\n            },\n            disable: function disable() {\n                ttEach(this, function(t) {\n                    t.disable();\n                });\n                return this;\n            },\n            isActive: function isActive() {\n                var active;\n                ttEach(this.first(), function(t) {\n                    active = t.isActive();\n                });\n                return active;\n            },\n            activate: function activate() {\n                ttEach(this, function(t) {\n                    t.activate();\n                });\n                return this;\n            },\n            deactivate: function deactivate() {\n                ttEach(this, function(t) {\n                    t.deactivate();\n                });\n                return this;\n            },\n            isOpen: function isOpen() {\n                var open;\n                ttEach(this.first(), function(t) {\n                    open = t.isOpen();\n                });\n                return open;\n            },\n            open: function open() {\n                ttEach(this, function(t) {\n                    t.open();\n                });\n                return this;\n            },\n            close: function close() {\n                ttEach(this, function(t) {\n                    t.close();\n                });\n                return this;\n            },\n            select: function select(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.select($el);\n                });\n                return success;\n            },\n            autocomplete: function autocomplete(el) {\n                var success = false, $el = $(el);\n                ttEach(this.first(), function(t) {\n                    success = t.autocomplete($el);\n                });\n                return success;\n            },\n            moveCursor: function moveCursoe(delta) {\n                var success = false;\n                ttEach(this.first(), function(t) {\n                    success = t.moveCursor(delta);\n                });\n                return success;\n            },\n            val: function val(newVal) {\n                var query;\n                if (!arguments.length) {\n                    ttEach(this.first(), function(t) {\n                        query = t.getVal();\n                    });\n                    return query;\n                } else {\n                    ttEach(this, function(t) {\n                        t.setVal(_.toStr(newVal));\n                    });\n                    return this;\n                }\n            },\n            destroy: function destroy() {\n                ttEach(this, function(typeahead, $input) {\n                    revert($input);\n                    typeahead.destroy();\n                });\n                return this;\n            }\n        };\n        $.fn.typeahead = function(method) {\n            if (methods[method]) {\n                return methods[method].apply(this, [].slice.call(arguments, 1));\n            } else {\n                return methods.initialize.apply(this, arguments);\n            }\n        };\n        $.fn.typeahead.noConflict = function noConflict() {\n            $.fn.typeahead = old;\n            return this;\n        };\n        function ttEach($els, fn) {\n            $els.each(function() {\n                var $input = $(this), typeahead;\n                (typeahead = $input.data(keys.typeahead)) && fn(typeahead, $input);\n            });\n        }\n        function buildHintFromInput($input, www) {\n            return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop({\n                readonly: true,\n                required: false\n            }).removeAttr(\"id name placeholder\").removeClass(\"required\").attr({\n                spellcheck: \"false\",\n                tabindex: -1\n            });\n        }\n        function prepInput($input, www) {\n            $input.data(keys.attrs, {\n                dir: $input.attr(\"dir\"),\n                autocomplete: $input.attr(\"autocomplete\"),\n                spellcheck: $input.attr(\"spellcheck\"),\n                style: $input.attr(\"style\")\n            });\n            $input.addClass(www.classes.input).attr({\n                spellcheck: false\n            });\n            try {\n                !$input.attr(\"dir\") && $input.attr(\"dir\", \"auto\");\n            } catch (e) {}\n            return $input;\n        }\n        function getBackgroundStyles($el) {\n            return {\n                backgroundAttachment: $el.css(\"background-attachment\"),\n                backgroundClip: $el.css(\"background-clip\"),\n                backgroundColor: $el.css(\"background-color\"),\n                backgroundImage: $el.css(\"background-image\"),\n                backgroundOrigin: $el.css(\"background-origin\"),\n                backgroundPosition: $el.css(\"background-position\"),\n                backgroundRepeat: $el.css(\"background-repeat\"),\n                backgroundSize: $el.css(\"background-size\")\n            };\n        }\n        function revert($input) {\n            var www, $wrapper;\n            www = $input.data(keys.www);\n            $wrapper = $input.parent().filter(www.selectors.wrapper);\n            _.each($input.data(keys.attrs), function(val, key) {\n                _.isUndefined(val) ? $input.removeAttr(key) : $input.attr(key, val);\n            });\n            $input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input);\n            if ($wrapper.length) {\n                $input.detach().insertAfter($wrapper);\n                $wrapper.remove();\n            }\n        }\n        function $elOrNull(obj) {\n            var isValid, $el;\n            isValid = _.isJQuery(obj) || _.isElement(obj);\n            $el = isValid ? $(obj).first() : [];\n            return $el.length ? $el : null;\n        }\n    })();\n});"]}