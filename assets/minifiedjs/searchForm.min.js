var targetTemplate="#result-template",listTemplate="#list-template";$(document).on("click",".addAnotherSpecific",function(){var e=$(this).closest(".specificSearch"),t=$(e).clone(!1);t.find("input[type='text']").val(""),$(e).after(t)}),$(document).on("click",".addAnotherCollection",function(){var e=$(this).closest(".form-group"),t=$(e).clone(!1).find("input[type='text']").val("");$(e).after(t)}),$(document).on("change",".searchDropdown",function(){var e=$(this).find(":selected"),t=$(e).val(),a=$(e).data("templateid"),c=$(this).closest(".form-group").find(".specificSearchTextContainer");$.post("/search/getFieldInfo",{fieldTitle:t,template:a},function(e,t,a){var s;try{s=$.parseJSON(e)}catch(o){console.log("error occurred")}"text"==s.type?($(c).html(""),$(c).html('<input type="text" name="specificSearchText[]"  autocomplete="off" class="form-control advancedOption advancedSearchContent" value="">')):($(c).html(""),$(c).html('<select name="specificSearchText[]"  autocomplete="off" class="form-control advancedOption advancedSearchContent">'),selectElement=$(c).find("select"),$.each(s.values,function(e,t){$(selectElement).append($("<option>",{value:t}).text(t))}))})}),$(document).ready(function(){parseHash(),$(document).on("submit",".searchForm",function(){return $("#results").empty(),$("#listResults").empty(),$(".suggest").empty(),searchId="",window.location.hash.length>0,currentPageNumber=0,previousEventComplete=!1,$.post(basePath+"search/searchResults/"+searchId,{searchQuery:JSON.stringify($(this).serializeForm())},function(e){try{cachedResults=$.parseJSON(e),cachedDates=null}catch(t){alert(t+" "+e)}if(cachedResults.success===!0){if(1==cachedResults.matches.length){var a=cachedResults.matches[0].objectId;$.cookie("lastSearch",searchId),window.location.hash="",window.location.pathname=basePath+"/asset/viewAsset/"+a}searchId=cachedResults.searchId,disableHashChange=!0,window.location.hash=searchId,dataAvailable=!0,$("#loadAllResults").show(),processSearchResults(cachedResults),setTimeout(function(){disableHashChange=!1},500),$("#advancedSearchModal").hasClass("in")&&$("#advancedSearchModal").modal("hide")}}),!1})});
//# sourceMappingURL=searchForm.min.js.map
