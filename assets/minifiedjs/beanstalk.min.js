$(document).ready(function(){function e(){if($("#servers-add .btn-info").click(function(){return t($("#host").val(),$("#port").val()),$("#host,#port").val(""),$("#servers-add").modal("hide"),window.location.href=window.location.href,!1}),$("#addJob").on("click",function(){return $("#modalAddJob").modal("toggle"),!1}),$("#filter input[type=checkbox]").click(function(){$("table").find("[name="+$(this).attr("name")+"]").toggle($(this).is(":checked"));var e=[];$("#filter input:checked").each(function(){e.push($(this).attr("name"))}),$.cookie($("#filter").data("cookie"),e,{expires:365}),$(".row-full").attr("colspan",e.length)}),$("#tubeSave").on("click",function(){var e=a();return"empty"==e?$("#tubeSaveAlert").fadeIn("fast"):$("#modalAddJob").modal("toggle"),!1}),$("#autoRefresh").on("click",function(){return $("#autoRefresh").hasClass("btn-success")?(clearTimeout(u),s=!1,$("#autoRefresh").toggleClass("btn-success"),$("#autoRefresh i").toggleClass("icon-white")):(n(),$("#autoRefresh").toggleClass("btn-success"),$("#autoRefresh i").toggleClass("icon-white")),!1}),"json"==contentType){var e=$("pre code").html(),o=r(e);$("pre code").html(o)}$("#clearTubesSelect").on("click",function(){$("#clear-tubes input[type=checkbox]:regex(name,"+$("#tubeSelector").val()+")").prop("checked",!0),$.cookie("tubeSelector",$("#tubeSelector").val(),{expires:365}),$("#clearTubes").text("Clear "+$("#clear-tubes input[type=checkbox]:checked").length+" selected tubes")}),$("#clearTubes").on("click",function(){c()})}function t(e,t){e?(myCoockie=$.cookie("beansServers"),null==myCoockie?server=e+":"+t:server=myCoockie+";"+e+":"+t,$.cookie("beansServers",server,{expires:365})):alert("Some fields empty..")}function a(){if(!$("#tubeName").val()||!$("#tubeData").val())return"empty";var e={tubeName:$("#tubeName").val(),tubeData:$("#tubeData").val(),tubePriority:$("#tubePriority").val(),tubeDelay:$("#tubeDelay").val(),tubeTtr:$("#tubeTtr").val()};$.ajax({url:url+"?action=addjob",data:e,success:function(e){e.result;o(),location.reload()},type:"POST",dataType:"json",error:function(){console.log("error ajax...")}})}function o(){$("#tubeData").val(""),$("#tubePriority").val(""),$("#tubeDelay").val(""),$("#tubeTtr").val("")}function r(e){for(var t="",a=e,o=0,r=a.length,n="    ",l="\n",i="",c=0;r>c;c++){if(i=a.substring(c,c+1),nextChar=a.substring(c+1,c+2),("}"==i||"]"==i)&&nextChar!=l){t+=l,o-=1;for(var u=0;o>u;u++)t+=n}if(t+=i,("{"==i||"["==i||","==i)&&nextChar!=l){t+=l,("{"==i||"["==i)&&(o+=1);for(var s=0;o>s;s++)t+=n}}return t}function n(){var e={action:"reloader",tplMain:"ajax",tplBlock:"allTubes",secondary:(new Date).getTime()};s=!0,$.ajax({url:url,data:e,success:function(e){if(s){var t=$("#idAllTubes").html();$("#idAllTubes").html(e),$("#idAllTubesCopy").html(t),l(),u=setTimeout(n,500)}},type:"GET",dataType:"html",error:function(){console.log("error ajax...")}})}function l(){var e=$("#idAllTubes table").find("td"),t=$("#idAllTubesCopy table").find("td");for(i=0,il=e.length;i<il;i++)if("undefined"!=typeof t[i]&&"undefined"!=typeof e[i]){var a=e[i].innerText||e[i].innerHTML||e[i].textContent,o=t[i].innerText||t[i].innerHTML||t[i].textContent;if(a!=o){var r=$(e[i]),n=r.css("background-color");r.css({"background-color":"#afa"}).animate({"background-color":n},500)}}}function c(){0!==$("#clear-tubes input[type=checkbox]:checked").length&&$.ajax({url:url+"&action=clearTubes",data:$("#clear-tubes input[type=checkbox]:checked").serialize(),success:function(e){e.result;location.reload()},type:"POST",error:function(){alert("error from ajax (clear might take a while, be patient)...")}})}var u,s=!1;e()});
//# sourceMappingURL=beanstalk.min.js.map
