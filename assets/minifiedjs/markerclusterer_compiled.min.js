function d(t){return function(e){this[t]=e}}function f(t){return function(){return this[t]}}function i(t,e,o){this.extend(i,google.maps.OverlayView),this.b=t,this.a=[],this.l=[],this.V=[53,56,66,78,90],this.j=[],this.v=!1,o=o||{},this.f=o.gridSize||60,this.R=o.maxZoom||null,this.j=o.styles||[],this.Q=o.imagePath||this.J,this.P=o.imageExtension||this.I,this.W=o.zoomOnClick||!0,l(this),this.setMap(t),this.D=this.b.getZoom();var s=this;google.maps.event.addListener(this.b,"zoom_changed",function(){var t=s.b.mapTypes[s.b.getMapTypeId()].maxZoom,e=s.b.getZoom();0>e||e>t||s.D!=e&&(s.D=s.b.getZoom(),s.m())}),google.maps.event.addListener(this.b,"bounds_changed",function(){s.i()}),e&&e.length&&this.z(e,!1)}function l(t){for(var e,i=0;e=t.V[i];i++)t.j.push({url:t.Q+(i+1)+"."+t.P,height:e,width:e})}function n(t,e){e.setVisible(!1),e.setMap(null),e.q=!1,e.draggable&&google.maps.event.addListener(e,"dragend",function(){e.q=!1,t.m(),t.i()}),t.a.push(e)}function o(t,e){var i=t.getProjection(),o=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),s=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng());return o=i.fromLatLngToDivPixel(o),o.x+=t.f,o.y-=t.f,s=i.fromLatLngToDivPixel(s),s.x-=t.f,s.y+=t.f,o=i.fromDivPixelToLatLng(o),i=i.fromDivPixelToLatLng(s),e.extend(o),e.extend(i),e}function m(t){if(t.v)for(var e,i=o(t,new google.maps.LatLngBounds(t.b.getBounds().getSouthWest(),t.b.getBounds().getNorthEast())),s=0;e=t.a[s];s++){var n=!1;if(!e.q&&i.contains(e.getPosition())){for(var r,h=0;r=t.l[h];h++)if(!n&&r.getCenter()&&r.s.contains(e.getPosition())){n=!0,r.o(e);break}n||(r=new p(t),r.o(e),t.l.push(r))}}}function p(t){this.h=t,this.b=t.getMap(),this.f=t.t(),this.d=null,this.a=[],this.s=null,this.k=new q(this,t.u(),t.t())}function r(t){t.s=o(t.h,new google.maps.LatLngBounds(t.d,t.d))}function q(t,e,i){t.h.extend(q,google.maps.OverlayView),this.j=e,this.aa=i||0,this.p=t,this.d=null,this.b=t.getMap(),this.w=this.c=null,this.r=!1,this.setMap(this.b)}function u(t,e){var i=t.getProjection().fromLatLngToDivPixel(e);return i.x-=parseInt(t.n/2,10),i.y-=parseInt(t.g/2,10),i}function s(t){t.c&&(t.c.style.display="none"),t.r=!1}function t(t,e){var i=[];return document.all?i.push('filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(sizingMethod=scale,src="'+t.H+'");'):i.push("background:url("+t.H+");"),"object"==typeof t.e?("number"==typeof t.e[0]&&t.e[0]>0&&t.e[0]<t.g?i.push("height:"+(t.g-t.e[0])+"px; padding-top:"+t.e[0]+"px;"):i.push("height:"+t.g+"px; line-height:"+t.g+"px;"),"number"==typeof t.e[1]&&t.e[1]>0&&t.e[1]<t.n?i.push("width:"+(t.n-t.e[1])+"px; padding-left:"+t.e[1]+"px;"):i.push("width:"+t.n+"px; text-align:center;")):i.push("height:"+t.g+"px; line-height:"+t.g+"px; width:"+t.n+"px; text-align:center;"),i.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+(t.F?t.F:"black")+"; position:absolute; font-size:"+(t.G?t.G:11)+"px; font-family:Arial,sans-serif; font-weight:bold"),i.join("")}var h;h=i.prototype,h.J="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/images/m",h.I="png",h.extend=function(t,e){return function(t){for(property in t.prototype)this.prototype[property]=t.prototype[property];return this}.apply(t,[e])},h.onAdd=function(){this.v||(this.v=!0,m(this))},h.O=function(){},h.draw=function(){},h=i.prototype,h.u=f("j"),h.L=f("a"),h.N=f("a"),h.C=function(){return this.R||this.b.mapTypes[this.b.getMapTypeId()].maxZoom},h.A=function(t,e){for(var i=0,o=t.length,s=o;0!==s;)s=parseInt(s/10,10),i++;return i=Math.min(i,e),{text:o,index:i}},h.T=d("A"),h.B=f("A"),h.z=function(t,e){for(var i,o=0;i=t[o];o++)n(this,i);e||this.i()},h=i.prototype,h.o=function(t,e){n(this,t),e||this.i()},h.S=function(t){var e=-1;if(this.a.indexOf)e=this.a.indexOf(t);else for(var i,o=0;i=this.a[o];o++)i==t&&(e=o);return-1==e?!1:(this.a.splice(e,1),t.setVisible(!1),t.setMap(null),this.m(),this.i(),!0)},h.M=function(){return this.l.length},h.getMap=f("b"),h.setMap=d("b"),h.t=f("f"),h.U=d("f"),i.prototype.K=function(){this.m(),this.a=[]},i.prototype.m=function(){for(var t,e=0;t=this.l[e];e++)t.remove();for(e=0;t=this.a[e];e++)t.q=!1,t.setMap(null),t.setVisible(!1);this.l=[]},i.prototype.i=function(){m(this)},p.prototype.o=function(t){var e;t:if(this.a.indexOf)e=-1!=this.a.indexOf(t);else{e=0;for(var i;i=this.a[e];e++)if(i==t){e=!0;break t}e=!1}if(e)return!1;if(this.d||(this.d=t.getPosition(),r(this)),0==this.a.length?(t.setMap(this.b),t.setVisible(!0)):1==this.a.length&&(this.a[0].setMap(null),this.a[0].setVisible(!1)),t.q=!0,this.a.push(t),this.b.getZoom()>this.h.C())for(t=0;e=this.a[t];t++)e.setMap(this.b),e.setVisible(!0);else this.a.length<2?s(this.k):(t=this.h.u().length,e=this.h.B()(this.a,t),this.k.setCenter(this.d),t=this.k,t.w=e,t.ba=e.text,t.X=e.index,t.c&&(t.c.innerHTML=e.text),e=Math.max(0,t.w.index-1),e=Math.min(t.j.length-1,e),e=t.j[e],t.H=e.url,t.g=e.height,t.n=e.width,t.F=e.Z,t.anchor=e.Y,t.G=e.$,this.k.show());return!0},p.prototype.getBounds=function(){return r(this),this.s},p.prototype.remove=function(){this.k.remove(),delete this.a},p.prototype.getCenter=f("d"),p.prototype.getMap=f("b"),q.prototype.onAdd=function(){this.c=document.createElement("DIV"),this.r&&(this.c.style.cssText=t(this,u(this,this.d)),this.c.innerHTML=this.w.text),this.getPanes().overlayImage.appendChild(this.c);var e=this;google.maps.event.addDomListener(this.c,"click",function(){var t=e.p.h;google.maps.event.trigger(t,"clusterclick",[e.p]),t.W&&(e.b.panTo(e.p.getCenter()),e.b.fitBounds(e.p.getBounds()))})},q.prototype.draw=function(){if(this.r){var t=u(this,this.d);this.c.style.top=t.y+"px",this.c.style.left=t.x+"px"}},q.prototype.show=function(){this.c&&(this.c.style.cssText=t(this,u(this,this.d)),this.c.style.display=""),this.r=!0},q.prototype.remove=function(){this.setMap(null)},q.prototype.onRemove=function(){this.c&&this.c.parentNode&&(s(this),this.c.parentNode.removeChild(this.c),this.c=null)},q.prototype.setCenter=d("d"),window.MarkerClusterer=i,i.prototype.addMarker=i.prototype.o,i.prototype.addMarkers=i.prototype.z,i.prototype.clearMarkers=i.prototype.K,i.prototype.getCalculator=i.prototype.B,i.prototype.getGridSize=i.prototype.t,i.prototype.getMap=i.prototype.getMap,i.prototype.getMarkers=i.prototype.L,i.prototype.getMaxZoom=i.prototype.C,i.prototype.getStyles=i.prototype.u,i.prototype.getTotalClusters=i.prototype.M,i.prototype.getTotalMarkers=i.prototype.N,i.prototype.redraw=i.prototype.i,i.prototype.removeMarker=i.prototype.S,i.prototype.resetViewport=i.prototype.m,i.prototype.setCalculator=i.prototype.T,i.prototype.setGridSize=i.prototype.U,i.prototype.onAdd=i.prototype.onAdd,i.prototype.draw=i.prototype.draw,i.prototype.idle=i.prototype.O,q.prototype.onAdd=q.prototype.onAdd,q.prototype.draw=q.prototype.draw,q.prototype.onRemove=q.prototype.onRemove;
//# sourceMappingURL=markerclusterer_compiled.js.map
