Crocodoc.addPlugin("fullscreen",function(e){"use strict";function n(){return document.fullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||S}function l(){k.fire("fullscreenchange"),n()?(i.addClass("crocodoc-fullscreen"),k.fire("fullscreenenter")):(i.removeClass("crocodoc-fullscreen"),k.fire("fullscreenexit"))}function c(e){27===e.keyCode&&r()}function u(){C&&(S=!0,$(window).on("keydown",c),i.addClass("crocodoc-fakefullscreen"),l())}function o(){S=!1,$(window).off("keydown",c),i.removeClass("crocodoc-fakefullscreen"),l()}function t(){f.call(d)}function r(){m.call(document)}function s(){return f!==u}var i,d,f,m,F=[""," webkit"," moz"," "].join("fullscreenchange")+"MSFullscreenChange",a=e.getUtility("common"),w=e.getConfig(),k=w.api,C=!0,S=!1;return{init:function(e){e=e||{},"undefined"!=typeof e.useFakeFullscreen&&(C=e.useFakeFullscreen),w.useWindowAsViewport?(C=!1,d=document.documentElement,i=$(d)):(i=e.element?$(e.element):w.$el,d=i[0]),f=d.requestFullScreen||d.requestFullscreen||d.mozRequestFullScreen||d.webkitRequestFullScreen||d.msRequestFullscreen||u,m=document.cancelFullScreen||document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||o,a.extend(k,{enterFullscreen:t,exitFullscreen:r,isFullscreen:n,isFullscreenSupported:s}),$(document).on(F,l)},destroy:function(){k.exitFullscreen(),$(document).off(F,l)}}});
//# sourceMappingURL=crocdoc.fullscreen.min.js.map
