Crocodoc.addPlugin("fullscreen",function(e){var n,l,c,u,o=[""," webkit"," moz"," "].join("fullscreenchange")+"MSFullscreenChange",t=e.getUtility("common"),r=e.getConfig(),s=r.api,i=!0,d=!1;function m(){return document.fullScreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||d}function f(){s.fire("fullscreenchange"),m()?(n.addClass("crocodoc-fullscreen"),s.fire("fullscreenenter")):(n.removeClass("crocodoc-fullscreen"),s.fire("fullscreenexit"))}function F(e){27===e.keyCode&&C()}function a(){i&&(d=!0,$(window).on("keydown",F),n.addClass("crocodoc-fakefullscreen"),f())}function w(){d=!1,$(window).off("keydown",F),n.removeClass("crocodoc-fakefullscreen"),f()}function k(){c.call(l)}function C(){u.call(document)}function S(){return c!==a}return{init:function(e){void 0!==(e=e||{}).useFakeFullscreen&&(i=e.useFakeFullscreen),r.useWindowAsViewport?(i=!1,l=document.documentElement,n=$(l)):(n=e.element?$(e.element):r.$el,l=n[0]),c=l.requestFullScreen||l.requestFullscreen||l.mozRequestFullScreen||l.webkitRequestFullScreen||l.msRequestFullscreen||a,u=document.cancelFullScreen||document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen||document.msExitFullscreen||w,t.extend(s,{enterFullscreen:k,exitFullscreen:C,isFullscreen:m,isFullscreenSupported:S}),$(document).on(o,f)},destroy:function(){s.exitFullscreen(),$(document).off(o,f)}}});
//# sourceMappingURL=crocdoc.fullscreen.min.js.map
