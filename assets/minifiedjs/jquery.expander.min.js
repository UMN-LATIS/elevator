(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e:e(jQuery)})(function(F){F.expander={version:"1.6.1",defaults:{slicePoint:100,sliceOn:null,preserveWords:!0,normalizeWhitespace:!0,showWordCount:!1,wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,wordEnd:/(&(?:[^;]+;)?|[0-9a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},F.fn.expander=function(e){var k,l="init",O=("string"==typeof e&&(l=e,e={}),F.extend({},F.expander.defaults,e)),P=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,a=O.wordEnd,j=/<\/?(\w+)[^>]*>/g,L=/<(\w+)[^>]*>/g,I=/<\/(\w+)>/g,$=/(<\/([^>]+)>)\s*$/,A=/^(<[^>]+>)+.?/,D=/\s\s+/g,e={init:function(){this.each(function(){var e,l,a,s,n,t,r,i,o,d,c,p=[],f=[],m={},u=this,x=F(this),h=F([]),C=F.extend({},O,x.data("expander")||F.meta&&x.data()||{}),v=!!x.find("."+C.detailClass).length,y=!!x.find("*").filter(function(){var e=F(this).css("display");return/^block|table|list/.test(e)}).length,g=(y?"div":"span")+"."+C.detailClass,w=C.moreClass+"",b=C.lessClass+"",T=C.expandSpeed||0,E=(c=x.html(),O.normalizeWhitespace?F.trim(c||"").replace(D," "):c),S=E.slice(0,C.slicePoint);if(C.moreSelector="span."+w.split(" ").join("."),C.lessSelector="span."+b.split(" ").join("."),!F.data(this,"expanderInit")){for(F.data(this,"expanderInit",!0),F.data(this,"expander",C),F.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(e,l){m[l]=F.isFunction(C[l])}),n=(S=W(S)).replace(j,"").length;n<C.slicePoint;)S+=s="<"===(s=E.charAt(S.length))?E.slice(S.length).match(A)[0]:s,n++;for(c=(S=W(S=C.sliceOn?(e=>{var l="ExpandMoreHere374216623",a=e.summaryText.replace(e.sliceOn,l),a=(a=F("<div>"+a+"</div>").text()).indexOf(l),l=e.summaryText.indexOf(e.sliceOn);return-1!==a&&a<e.slicePoint&&(e.summaryText=e.allHtml.slice(0,l)),e})({sliceOn:C.sliceOn,slicePoint:C.slicePoint,allHtml:E,summaryText:S}).summaryText:S,C.preserveWords&&E.slice(S.length).length)).match(L)||[],t=S.match(I)||[],a=[],F.each(c,function(e,l){P.test(l)||a.push(l)}),c=a,l=t.length,e=0;e<l;e++)t[e]=t[e].replace(I,"$1");if(F.each(c,function(e,l){var a=l.replace(L,"$1"),s=F.inArray(a,t);-1===s?(p.push(l),f.push("</"+a+">")):t.splice(s,1)}),f.reverse(),v)i=x.find(g).remove().html(),E=(S=x.html())+i,r="";else{if(i=E.slice(S.length),""===(w=F.trim(i.replace(j,"")))||w.split(/\s+/).length<C.widow)return;r=f.pop()||"",S+=f.join(""),i=p.join("")+i}C.moreLabel=x.find(C.moreSelector).length?"":((e,l)=>{var a='<span class="'+e.moreClass+'">'+e.expandPrefix;return e.wordCountText=e.showWordCount?e.wordCountText.replace(/\{\{count\}\}/,l.replace(j,"").replace(/\&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length):"",a+='<a href="#" class="'+e.moreLinkClass+'">'+e.expandText+e.wordCountText+"</a></span>"})(C,i),y?i=E:"&"===S.charAt(S.length-1)&&(b=/^[#\w\d\\]+;/.exec(i))&&(i=i.slice(b[0].length),S+=b[0]),C.summary=S+=r,C.details=i,C.lastCloseTag=r,c=((e,l)=>{var a="span",s=e.summary,n=$.exec(s),t=n?n[2].toLowerCase():"";return l?(a="div",n&&"a"!==t&&!e.expandAfterSummary?s=s.replace($,e.moreLabel+"$1"):s+=e.moreLabel,s='<div class="'+e.summaryClass+'">'+s+"</div>"):(/^\s*</.test(s),s+=e.moreLabel),[s," <",a+' class="'+e.detailClass+'"',">",e.details,"</"+a+">"].join("")})(C=m.onSlice?(a=C.onSlice.call(u,C))&&a.details?a:C:C,y),x.empty().append(c),o=x.find(g),d=x.find(C.moreSelector),"slideUp"===C.collapseEffect&&"slideDown"!==C.expandEffect||x.is(":hidden")?o.css({display:"none"}):o[C.collapseEffect](0),h=x.find("div."+C.summaryClass),v=function(e){e.preventDefault(),d.hide(),h.hide(),m.beforeExpand&&C.beforeExpand.call(u),o.stop(!1,!0)[C.expandEffect](T,function(){var e,l,a;o.css({zoom:""}),m.afterExpand&&C.afterExpand.call(u),l=o,a=u,(e=C).collapseTimer&&(k=setTimeout(function(){z(e,l),F.isFunction(e.onCollapse)&&e.onCollapse.call(a,!1)},e.collapseTimer))})},d.find("a").unbind("click.expander").bind("click.expander",v),C.userCollapse&&!x.find(C.lessSelector).length&&x.find(g).append('<span class="'+C.lessClass+'">'+C.userCollapsePrefix+'<a href="#" class="'+C.lessLinkClass+'">'+C.userCollapseText+"</a></span>"),x.find(C.lessSelector+" a").unbind("click.expander").bind("click.expander",function(e){e.preventDefault(),clearTimeout(k);e=F(this).closest(g);z(C,e),m.onCollapse&&C.onCollapse.call(u,!0)})}})},destroy:function(){this.each(function(){var e,l,a=F(this);a.data("expanderInit")&&(e=F.extend({},a.data("expander")||{},O),l=a.find("."+e.detailClass).contents(),a.removeData("expanderInit"),a.removeData("expander"),a.find(e.moreSelector).remove(),a.find("."+e.summaryClass).remove(),a.find("."+e.detailClass).after(l).remove(),a.find(e.lessSelector).remove())})}};function W(e,l){return e.lastIndexOf("<")>e.lastIndexOf(">")&&(e=e.slice(0,e.lastIndexOf("<"))),l&&(e=e.replace(a,"")),F.trim(e)}function z(e,l){l.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){l.prev("span."+e.moreClass).show().length||l.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(l)})}return e[l]&&e[l].call(this),this},F.fn.expander.defaults=F.expander.defaults});
//# sourceMappingURL=jquery.expander.min.js.map
