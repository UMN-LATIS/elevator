var embeddedStartTimeValue=null,embeddedEndTimeValue=null,suppressSeek=!1,suppressCounter=0;function setPlayBounds(e,t){embeddedStartTimeValue=e,embeddedEndTimeValue=t}function getTime(){return jwplayer("videoElement").getPosition()}$(document).ready(function(){jwplayer("videoElement").onTime(function(e){embeddedStartTimeValue&&embeddedEndTimeValue&&(10<++suppressCounter&&(suppressCounter=0,suppressSeek=!1),suppressSeek||(e.position<embeddedStartTimeValue-5&&(jwplayer("videoElement").seek(embeddedStartTimeValue),suppressSeek=!0),embeddedEndTimeValue<e.position&&(jwplayer("videoElement").seek(embeddedStartTimeValue),suppressSeek=!0)))})}),(()=>{let a={SET_PLAY_BOUNDS:"SET_PLAY_BOUNDS",GET_SCRUBBER_POSITION:"GET_SCRUBBER_POSITION",PAUSE_PLAYER:"PAUSE_PLAYER"},S={MEDIAPLAYER_READY:"MEDIAPLAYER_READY",CURRENT_SCRUBBER_POSITION:"CURRENT_SCRUBBER_POSITION",SET_PLAY_BOUNDS_SUCCESS:"SET_PLAY_BOUNDS_SUCCESS",PAUSE_PLAYER_SUCCESS:"PAUSE_PLAYER_SUCCESS"};function e(t){var e=t.data.type;if(e===a.SET_PLAY_BOUNDS){var d=t.data.payload.startTime;var t=t.data.payload.endTime;embeddedStartTimeValue=d,embeddedEndTimeValue=t;let e=jwplayer("videoElement");e.once("play",()=>e.seek(d)),window.parent.postMessage({type:S.SET_PLAY_BOUNDS_SUCCESS},"*")}else{if(e===a.GET_SCRUBBER_POSITION)return E();e===a.PAUSE_PLAYER&&("playing"===(t=jwplayer("videoElement")).getState()&&t.pause(),window.parent.postMessage({type:S.PAUSE_PLAYER_SUCCESS,payload:t.getState()},"*"))}}function E(){window.parent.postMessage({type:S.CURRENT_SCRUBBER_POSITION,payload:getTime()},"*")}let d=null;function n(e=1e3){var t=getTime();return t!==d&&(E(),d=t),setTimeout(n,e)}$(function(){window.addEventListener("message",e),n(),window.parent.postMessage({type:S.MEDIAPLAYER_READY},"*")})})();
//# sourceMappingURL=excerpt.min.js.map
