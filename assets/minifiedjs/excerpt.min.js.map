{"version":3,"sources":["excerpt.js"],"names":["$","document","ready","startTimeValue","endTimeValue","hide","suppressSeek","suppressCounter","jwplayer","onTime","e","position","seek","stop","on","startTime","getPosition","val","endTime","post","basePath","serialize","data","textStatus","xhr","collapse"],"mappings":"AACAA,EAAEC,UAAUC,MAAM,WACjB,GAA6B,mBAAnBC,iBAA0D,mBAAjBC,cAA8B,CAEhFJ,EAAE,kBAAkBK,OACpBL,EAAE,kBAAkBK,MACpB,IAAIC,IAAe,EACfC,EAAkB,CACtBC,UAAS,gBAAgBC,OAAO,SAASC,GAExCH,IACGA,EAAgB,KAClBA,EAAkB,EAClBD,GAAe,GAEbA,IAIAI,EAAEC,SAAYR,eAAe,IAC/BK,SAAS,gBAAgBI,KAAKT,gBAC9BG,GAAe,GAEbI,EAAEC,SAAWP,eACfI,SAAS,gBAAgBI,KAAKT,gBAC9BG,GAAe,EACfE,SAAS,gBAAgBK,cAQ7Bb,EAAEC,UAAUC,MAAM,WAChBF,EAAEC,UAAUa,GAAG,QAAS,YAAa,WACnC,GAAIC,GAAYP,SAAS,gBAAgBQ,aAGzC,OAFAhB,GAAE,cAAciB,IAAIF,GACpBf,EAAE,qBAAqBiB,IAAIF,IACpB,IAGTf,EAAEC,UAAUa,GAAG,QAAS,UAAW,WACjC,GAAII,GAAUV,SAAS,gBAAgBQ,aAGvC,OAFAhB,GAAE,YAAYiB,IAAIC,GAClBlB,EAAE,mBAAmBiB,IAAIC,IAClB,IAGTlB,EAAEC,UAAUa,GAAG,SAAU,eAAgB,WAUvC,MATAd,GAAEmB,KAAKC,SAAU,sBAAuBpB,EAAE,gBAAgBqB,YAAa,SAASC,EAAMC,EAAYC,GAChGxB,EAAE,iBAAiByB,SAAS,QAC5BzB,EAAE,YAAYiB,MACdjB,EAAE,mBAAmBiB,MACrBjB,EAAE,cAAciB,MAChBjB,EAAE,qBAAqBiB,MACvBjB,EAAE,UAAUiB,SAGP","file":"excerpt.min.js","sourcesContent":["\n$(document).ready(function() {\n\tif(typeof startTimeValue !== \"undefined\" && typeof endTimeValue !== \"undefined\") {\n\t\t// we know we're playing an excerpt, so make sure the \"Create excerpt\" button his hidden\n\t\t$(\".createExcerpt\").hide();\n\t\t$(\".movieMetadata\").hide();\n\t\tvar suppressSeek = false;\n\t\tvar suppressCounter = 0;\n\t\tjwplayer(\"videoElement\").onTime(function(e) {\n\t\t\t// flash only seeks on keyframes, so we suppress seeking for a bit in case we end up seeking before our target time\n\t\t\tsuppressCounter++;\n\t\t\tif(suppressCounter>10) {\n\t\t\t\tsuppressCounter = 0;\n\t\t\t\tsuppressSeek = false;\n\t\t\t}\n\t\t\tif(suppressSeek) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tif(e.position < (startTimeValue-5)) {\n\t\t\t\tjwplayer(\"videoElement\").seek(startTimeValue);\n\t\t\t\tsuppressSeek = true;\n\t\t\t}\n\t\t\tif(e.position > endTimeValue) {\n\t\t\t\tjwplayer(\"videoElement\").seek(startTimeValue);\n\t\t\t\tsuppressSeek = true;\n\t\t\t\tjwplayer(\"videoElement\").stop();\n\t\t\t}\n\t\t});\n\t}\n\n});\n\n\n$(document).ready(function() {\n  $(document).on(\"click\", \".setStart\", function() {\n    var startTime = jwplayer(\"videoElement\").getPosition();\n    $(\"#startTime\").val(startTime);\n    $(\"#startTimeVisible\").val(startTime);\n    return false;\n  });\n\n  $(document).on(\"click\", \".setEnd\", function() {\n    var endTime = jwplayer(\"videoElement\").getPosition();\n    $(\"#endTime\").val(endTime);\n    $(\"#endTimeVisible\").val(endTime);\n    return false;\n  });\n\n  $(document).on(\"submit\", \".excerptForm\", function () {\n    $.post(basePath+ \"drawers/addToDrawer\", $(\"#excerptForm\").serialize(), function(data, textStatus, xhr) {\n      $(\"#excerptGroup\").collapse('hide');\n      $(\"#endTime\").val();\n      $(\"#endTimeVisible\").val();\n      $(\"#startTime\").val();\n      $(\"#startTimeVisible\").val();\n      $(\"#label\").val();\n    });\n\n    return false;\n  });\n\n});"],"sourceRoot":"/source/"}