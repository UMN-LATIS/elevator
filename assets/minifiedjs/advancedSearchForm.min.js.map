{"version":3,"sources":["advancedSearchForm.js"],"names":["$","document","on","removeClass","specificSearch","this","closest","newSpecificSearch","clone","find","val","after","collectionCopy","newCollection","templateCopy","newTemplate","selectedOption","content","templateId","data","targetGroup","post","basePath","fieldTitle","template","textStatus","xhr","type","html","selectElement","each","values","index","append","value","text"],"mappings":"AACAA,EAAEC,UAAUC,GAAG,QAAS,uBAAuB,WAC3CF,EAAE,kBAAkBG,YAAY,QAChC,IAAIC,EAAiBJ,EAAEK,MAAMC,QAAQ,mBACjCC,EAAoBP,EAAEI,GAAgBI,OAAM,GAChDD,EAAkBE,KAAK,sBAAsBC,IAAI,IACjDV,EAAEI,GAAgBO,MAAMJ,MAI5BP,EAAEC,UAAUC,GAAG,QAAS,yBAAyB,WAC7C,IAAIU,EAAiBZ,EAAEK,MAAMC,QAAQ,eACjCO,EAAgBb,EAAEY,GAAgBJ,OAAM,GAC5CK,EAAcJ,KAAK,sBAAsBC,IAAI,IAC7CV,EAAEY,GAAgBD,MAAME,MAG5Bb,EAAEC,UAAUC,GAAG,QAAS,uBAAuB,WAC3C,IAAIY,EAAed,EAAEK,MAAMC,QAAQ,eAC/BS,EAAcf,EAAEc,GAAcN,OAAM,GACxCR,EAAEc,GAAcH,MAAMI,MAI1Bf,EAAEC,UAAUC,GAAG,SAAU,mBAAmB,WACxC,IAAIc,EAAiBhB,EAAEK,MAAMI,KAAK,aAC9BQ,EAAUjB,EAAEgB,GAAgBN,MAC5BQ,EAAalB,EAAEgB,GAAgBG,KAAK,cACpCC,EAAcpB,EAAEK,MAAMC,QAAQ,eAAeG,KAAK,gCACtDT,EAAEqB,KAAKC,SAAW,sBAAuB,CAACC,WAAYN,EAASO,SAAUN,IAAa,SAASC,EAAMM,EAAYC,GAC7F,QAAbP,EAAKQ,MACJ3B,EAAEoB,GAAaQ,KAAK,IACpB5B,EAAEoB,GAAaQ,KAAK,4IAGpB5B,EAAEoB,GAAaQ,KAAK,IACpB5B,EAAEoB,GAAaQ,KAAK,sHACpBC,cAAgB7B,EAAEoB,GAAaX,KAAK,UACpCT,EAAE8B,KAAKX,EAAKY,QAAQ,SAASC,EAAOtB,GACb,iBAATsB,EACNhC,EAAE6B,eAAeI,OAAOjC,EAAE,WAAY,CAACkC,MAAOF,IAAQG,KAAKzB,IAG3DV,EAAE6B,eAAeI,OAAOjC,EAAE,WAAY,CAACkC,MAAOxB,IAAMyB,KAAKzB","file":"advancedSearchForm.min.js","sourcesContent":["// Manages the advanced search\n$(document).on(\"click\", \".addAnotherSpecific\", function() {\n    $(\".searchCombine\").removeClass(\"hide\");\n    var specificSearch = $(this).closest('.specificSearch');\n    var newSpecificSearch = $(specificSearch).clone(false);\n    newSpecificSearch.find(\"input[type='text']\").val(\"\");\n    $(specificSearch).after(newSpecificSearch);\n\n});\n\n$(document).on(\"click\", \".addAnotherCollection\", function() {\n    var collectionCopy = $(this).closest('.form-group');\n    var newCollection = $(collectionCopy).clone(false);\n    newCollection.find(\"input[type='text']\").val(\"\");\n    $(collectionCopy).after(newCollection);\n});\n\n$(document).on(\"click\", \".addAnotherTemplate\", function() {\n    var templateCopy = $(this).closest('.form-group');\n    var newTemplate = $(templateCopy).clone(false);\n    $(templateCopy).after(newTemplate);\n});\n\n\n$(document).on(\"change\", \".searchDropdown\", function() {\n    var selectedOption = $(this).find(\":selected\");\n    var content = $(selectedOption).val();\n    var templateId = $(selectedOption).data('templateid');\n    var targetGroup = $(this).closest(\".form-group\").find(\".specificSearchTextContainer\");\n    $.post(basePath + 'search/getFieldInfo', {fieldTitle: content, template: templateId}, function(data, textStatus, xhr) {\n        if(data.type == \"text\") {\n            $(targetGroup).html(\"\");\n            $(targetGroup).html('<input type=\"text\" name=\"specificSearchText[]\"  autocomplete=\"off\" class=\"form-control advancedOption advancedSearchContent\" value=\"\">');\n        }\n        else {\n            $(targetGroup).html(\"\");\n            $(targetGroup).html('<select name=\"specificSearchText[]\"  autocomplete=\"off\" class=\"form-control advancedOption advancedSearchContent\">');\n            selectElement = $(targetGroup).find(\"select\");\n            $.each(data.values, function(index, val) {\n                if(typeof index == \"string\") {\n                    $(selectElement).append($('<option>', {value: index}).text(val));\n                }\n                else {\n                    $(selectElement).append($('<option>', {value: val}).text(val));\n                }\n                \n            });\n\n        }\n\n    });\n});\n\n"]}