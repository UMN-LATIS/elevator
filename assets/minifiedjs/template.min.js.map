{"version":3,"sources":["template.js"],"names":["$","mapGetScript","url","callback","cache","ajax","type","success","dataType","async","document","ready","on","e","val","cachedWidth","navbarToTopHeight","navbarHeight","scrollManage","documentElement","clientWidth","length","offset","top","parseFloat","css","replace","height","_height","parseInt","addClass","window","scroll","event","y","this","scrollTop","z","removeClass","load","resize","Mousetrap","bind","toggle","preventDefault","targetItem","data","text"],"mappings":"AAAAA,EAAEC,aAAe,SAASC,EAAKC,EAAUC,GACxC,OAAOJ,EAAEK,MACRC,KAAM,MACNJ,IAAKA,EACLK,QAASJ,EACTK,SAAU,SACVJ,OAAO,EACPK,OAAO,KAKTT,EAAEU,UAAUC,MAAM,WAMhBX,EAAE,wBAAwBY,GAAG,iBAAkB,SAASC,GACtDb,EAAE,uBAAuBc,IAAId,EAAE,eAAec,WAQlD,IAAIC,YAAc,EACdC,kBAAoB,EACpBC,aAAe,EAElB,SAASC,eACR,GAAGR,SAASS,gBAAgBC,aAAeL,cAG3CA,YAAcL,SAASS,gBAAgBC,YACnCpB,EAAE,WAAWqB,QAAjB,CAGEL,kBAAoBhB,EAAE,WAAWsB,SAASC,IAAMC,WAAWxB,EAAE,WAAWyB,IAAI,cAAcC,QAAQ,OAAQ,IAC1GT,aAAejB,EAAE,WAAW2B,SAC7B,IAAIC,EAAU5B,EAAE,WAAW2B,SACF,IAAtBX,mBAECN,SAASS,gBAAgBC,YAAc,IACxCpB,EAAE,gBAAgByB,IAAI,cAAe,GAAKI,SAAS7B,EAAE,WAAWyB,IAAI,YAGnEzB,EAAE,gBAAgByB,IAAI,cAAe,GAEpCzB,EAAE,WAAW8B,SAAS,qBAG3B9B,EAAE+B,QAAQC,OAAO,SAASC,GACzB,IAAIC,EAAIlC,EAAEmC,MAAMC,YACZC,EAAIrC,EAAE,WAAWsB,SAASC,IAE3Bc,EAAIrC,EAAGU,UAAWiB,WAGjBO,GAAKlB,mBAAsBkB,EAAEN,EAAWS,GAEvC3B,SAASS,gBAAgBC,YAAc,IACxCpB,EAAE,gBAAgByB,IAAI,cAAeI,SAAS7B,EAAE,WAAWyB,IAAI,WAAa,IAG3EzB,EAAE,gBAAgByB,IAAI,cAAe,GAExCzB,EAAE,WAAW8B,SAAS,sBAGnBpB,SAASS,gBAAgBC,YAAc,KACxCpB,EAAE,gBAAgByB,IAAI,cAAe,GAEvCzB,EAAE,WAAWsC,YAAY,yBAO/BtC,EAAE+B,QAAQQ,KAAK,WACbrB,iBAIFlB,EAAE+B,QAAQS,OAAO,WACftB,iBAIFuB,UAAUC,KAAK,iBAAkB,WAC/B1C,EAAE,oBAAoB2C,WAGxB3C,EAAE,2BAA2BY,GAAG,QAAS,SAASC,GAEhDA,EAAE+B,iBAEFC,WAAa7C,EAAEmC,MAAMW,KAAK,iBAE1B9C,EAAE,eAAec,IAAI+B,YACrB7C,EAAE,mBAAmB+C,KAAK/C,EAAEmC,MAAMY","file":"template.min.js","sourcesContent":["$.mapGetScript = function(url, callback, cache){\n\treturn $.ajax({\n\t\ttype: \"GET\",\n\t\turl: url,\n\t\tsuccess: callback,\n\t\tdataType: \"script\",\n\t\tcache: false,\n\t\tasync: false\n\t});\n};\n\n\n$(document).ready(function() {\n  /**\n   * don't load the map js stuff until we need the advancedSearch modal\n   * @param  {[type]} e [description]\n   * @return {[type]}   [description]\n   */\n  $(\"#advancedSearchModal\").on(\"shown.bs.modal\", function(e) {\n    $(\".advancedSearchText\").val($(\".searchText\").val());\n  });\n\n\n\n});\n\n\nvar cachedWidth = 0;\nvar navbarToTopHeight = 0;\nvar navbarHeight = 0;\n\n function scrollManage() {\n  if(document.documentElement.clientWidth == cachedWidth) {\n    return;\n  }\n  cachedWidth = document.documentElement.clientWidth;\n  if(!$('.navbar').length) {\n    return;\n  }\n    navbarToTopHeight = $('.navbar').offset().top - parseFloat($('.navbar').css('margin-top').replace(/auto/, 0));\n    navbarHeight = $('.navbar').height();\n   var _height = $('.navbar').height();\n   if(navbarToTopHeight === 0) {\n\n    if(document.documentElement.clientWidth > 768) {\n      $('.mainContent').css('padding-top', 20 + parseInt($('.navbar').css('height')));\n    }\n    else {\n       $('.mainContent').css('padding-top', 0);\n    }\n        $('.navbar').addClass('navbar-fixed-top');\n  }\n  else {\n   $(window).scroll(function(event) {\n    var y = $(this).scrollTop();\n    var z = $('.footer').offset().top;\n\n    if(z > $( document ).height()) {\n      return;\n    }\n    if (y >= navbarToTopHeight && (y+_height) < z) {\n\n      if(document.documentElement.clientWidth > 768) {\n        $('.mainContent').css('padding-top', parseInt($('.navbar').css('height')) + 20);\n      }\n      else {\n         $('.mainContent').css('padding-top', 0);\n      }\n      $('.navbar').addClass('navbar-fixed-top');\n    } else {\n\n      if(document.documentElement.clientWidth > 768) {\n        $('.mainContent').css('padding-top', 0);\n      }\n      $('.navbar').removeClass('navbar-fixed-top');\n    }\n  });\n  }\n}\n\n// handle sticky header regardless of header size.\n$(window).load(function() {\n  scrollManage();\n});\n\n\n$(window).resize(function() {\n  scrollManage();\n});\n\n// command-control-h reveals hidden content (anything flagged advancedContent)\nMousetrap.bind('command+ctrl+h', function() {\n  $(\".advancedContent\").toggle();\n});\n\n$(\".collectionFilterSelect\").on(\"click\", function(e) {\n\n  e.preventDefault();\n\n  targetItem = $(this).data(\"collection-id\");\n\n  $(\"#collection\").val(targetItem);\n  $(\"#search_concept\").text($(this).text());\n});\n\n"]}