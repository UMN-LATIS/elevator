{"version":3,"sources":["template.js"],"names":["scrollManage","document","documentElement","clientWidth","cachedWidth","$","length","navbarToTopHeight","offset","top","parseFloat","css","replace","navbarHeight","height","_height","parseInt","addClass","window","scroll","event","y","this","scrollTop","z","removeClass","mapGetScript","url","callback","cache","ajax","type","success","dataType","async","ready","on","e","jQuery","goMap","doc_write","write","s","appendTo","done","setTimeout","load","resize","Mousetrap","bind","toggle"],"mappings":"AAwCC,QAASA,gBACR,GAAGC,SAASC,gBAAgBC,aAAeC,cAG3CA,YAAcH,SAASC,gBAAgBC,YACnCE,EAAE,WAAWC,QAAjB,CAGEC,kBAAoBF,EAAE,WAAWG,SAASC,IAAMC,WAAWL,EAAE,WAAWM,IAAI,cAAcC,QAAQ,OAAQ,IAC1GC,aAAeR,EAAE,WAAWS,QAC7B,IAAIC,GAAUV,EAAE,WAAWS,QACF,KAAtBP,mBAECN,SAASC,gBAAgBC,YAAc,IACxCE,EAAE,gBAAgBM,IAAI,cAAe,GAAKK,SAASX,EAAE,WAAWM,IAAI,YAGnEN,EAAE,gBAAgBM,IAAI,cAAe,GAEpCN,EAAE,WAAWY,SAAS,qBAG3BZ,EAAEa,QAAQC,OAAO,SAASC,GACzB,GAAIC,GAAIhB,EAAEiB,MAAMC,YACZC,EAAInB,EAAE,WAAWG,SAASC,GAE3Be,GAAInB,EAAGJ,UAAWa,WAGjBO,GAAKd,mBAAmCiB,EAAbH,EAAEN,GAE5Bd,SAASC,gBAAgBC,YAAc,IACxCE,EAAE,gBAAgBM,IAAI,cAAeK,SAASX,EAAE,WAAWM,IAAI,WAAa,IAG3EN,EAAE,gBAAgBM,IAAI,cAAe,GAExCN,EAAE,WAAWY,SAAS,sBAGnBhB,SAASC,gBAAgBC,YAAc,KACxCE,EAAE,gBAAgBM,IAAI,cAAe,GAEvCN,EAAE,WAAWoB,YAAY,yBAnF/BpB,EAAEqB,aAAe,SAASC,EAAKC,EAAUC,GACxC,MAAOxB,GAAEyB,MACRC,KAAM,MACNJ,IAAKA,EACLK,QAASJ,EACTK,SAAU,SACVJ,OAAO,EACPK,OAAO,KAKT7B,EAAEJ,UAAUkC,MAAM,WAMjB9B,EAAE,wBAAwB+B,GAAG,gBAAiB,SAASC,GACtD,IAAIC,SAASC,MAAO,CACnB,GAAIC,GAAYvC,SAASwC,KACzBxC,UAASwC,MAAQ,SAASC,GAAIrC,EAAEqC,GAAGC,SAAS,SAC5CtC,EAAEqB,aAAa,mDAAmDkB,KAAK,WACtEC,WAAW,WACV5C,SAASwC,MAAQD,EACjBnC,EAAEqB,aAAa,mCAAoC,cAAc,GACjErB,EAAEqB,aAAa,gCAAiC,cAAc,GAC9DrB,EAAEqB,aAAa,0BAA2B,cAAc,IACtD,WAQP,IAAItB,aAAc,EACdG,kBAAoB,EACpBM,aAAe,CAoDnBR,GAAEa,QAAQ4B,KAAK,WACb9C,iBAIFK,EAAEa,QAAQ6B,OAAO,WACf/C,iBAIFgD,UAAUC,KAAK,iBAAkB,WAC/B5C,EAAE,oBAAoB6C","file":"template.min.js","sourcesContent":["$.mapGetScript = function(url, callback, cache){\n\treturn $.ajax({\n\t\ttype: \"GET\",\n\t\turl: url,\n\t\tsuccess: callback,\n\t\tdataType: \"script\",\n\t\tcache: false,\n\t\tasync: false\n\t});\n};\n\n\n$(document).ready(function() {\n\t/**\n\t * don't load the map js stuff until we need the advancedSearch modal\n\t * @param  {[type]} e [description]\n\t * @return {[type]}   [description]\n\t */\n\t$(\"#advancedSearchModal\").on(\"show.bs.modal\" ,function(e) {\n\t\tif(!jQuery().goMap) {\n\t\t\tvar doc_write = document.write; // Remember original method;\n\t\t\tdocument.write = function(s) {$(s).appendTo('body');};\n\t\t\t$.mapGetScript(\"http://maps.google.com/maps/api/js?sensor=false\").done(function() {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tdocument.write = doc_write;\n\t\t\t\t\t$.mapGetScript(\"/assets/js/jquery.gomap-1.3.2.js\", function(){}, true);\n\t\t\t\t\t$.mapGetScript(\"/assets/js/markerclusterer.js\", function(){}, true);\n\t\t\t\t\t$.mapGetScript(\"/assets/js/mapWidget.js\", function(){}, true);\n\t\t\t\t}, 300);\n\t\t\t});\n\t\t}\n\t});\n\n});\n\n\nvar cachedWidth = 0;\nvar navbarToTopHeight = 0;\nvar navbarHeight = 0;\n\n function scrollManage() {\n  if(document.documentElement.clientWidth == cachedWidth) {\n    return;\n  }\n  cachedWidth = document.documentElement.clientWidth;\n  if(!$('.navbar').length) {\n    return;\n  }\n    navbarToTopHeight = $('.navbar').offset().top - parseFloat($('.navbar').css('margin-top').replace(/auto/, 0));\n    navbarHeight = $('.navbar').height();\n   var _height = $('.navbar').height();\n   if(navbarToTopHeight === 0) {\n\n    if(document.documentElement.clientWidth > 768) {\n      $('.mainContent').css('padding-top', 20 + parseInt($('.navbar').css('height')));\n    }\n    else {\n       $('.mainContent').css('padding-top', 0);\n    }\n        $('.navbar').addClass('navbar-fixed-top');\n  }\n  else {\n   $(window).scroll(function(event) {\n    var y = $(this).scrollTop();\n    var z = $('.footer').offset().top;\n\n    if(z > $( document ).height()) {\n      return;\n    }\n    if (y >= navbarToTopHeight && (y+_height) < z) {\n\n      if(document.documentElement.clientWidth > 768) {\n        $('.mainContent').css('padding-top', parseInt($('.navbar').css('height')) + 20);\n      }\n      else {\n         $('.mainContent').css('padding-top', 0);\n      }\n      $('.navbar').addClass('navbar-fixed-top');\n    } else {\n\n      if(document.documentElement.clientWidth > 768) {\n        $('.mainContent').css('padding-top', 0);\n      }\n      $('.navbar').removeClass('navbar-fixed-top');\n    }\n  });\n  }\n}\n\n// handle sticky header regardless of header size.\n$(window).load(function() {\n  scrollManage();\n});\n\n\n$(window).resize(function() {\n  scrollManage();\n});\n\n// command-control-h reveals hidden content (anything flagged advancedContent)\nMousetrap.bind('command+ctrl+h', function() {\n  $(\".advancedContent\").toggle();\n});\n"],"sourceRoot":"/source/"}