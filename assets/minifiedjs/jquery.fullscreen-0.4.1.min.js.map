{"version":3,"file":"jquery.fullscreen-0.4.1.min.js","sources":["jquery.fullscreen-0.4.1.js"],"sourcesContent":["/*\n * jQuery.fullscreen library v0.4.0\n * Copyright (c) 2013 Vladimir Zhuravlev\n *\n * @license https://github.com/private-face/jquery.fullscreen/blob/master/LICENSE\n *\n * Date: Wed Dec 11 22:45:17 ICT 2013\n **/\n;(function($) {\n\nfunction defined(a) {\n\treturn typeof a !== 'undefined';\n}\n\nfunction extend(child, parent, prototype) {\n    var F = function() {};\n    F.prototype = parent.prototype;\n    child.prototype = new F();\n    child.prototype.constructor = child;\n\tparent.prototype.constructor = parent;\n    child._super = parent.prototype;\n    if (prototype) {\n        $.extend(child.prototype, prototype);\n    }\n}\n\nvar SUBST = [\n    ['', ''],               // spec\n    ['exit', 'cancel'],     // firefox & old webkits expect cancelFullScreen instead of exitFullscreen\n    ['screen', 'Screen']    // firefox expects FullScreen instead of Fullscreen\n];\n\nvar VENDOR_PREFIXES = ['', 'o', 'ms', 'moz', 'webkit', 'webkitCurrent'];\n\nfunction native(obj, name) {\n    var prefixed;\n\n    if (typeof obj === 'string') {\n        name = obj;\n        obj = document;\n    }\n\n    for (var i = 0; i < SUBST.length; ++i) {\n        name = name.replace(SUBST[i][0], SUBST[i][1]);\n        for (var j = 0; j < VENDOR_PREFIXES.length; ++j) {\n            prefixed = VENDOR_PREFIXES[j];\n            prefixed += j === 0 ? name : name.charAt(0).toUpperCase() + name.substr(1);\n            if (defined(obj[prefixed])) {\n                return obj[prefixed];\n            }\n        }\n    }\n\n    return void 0;\n}var ua = navigator.userAgent;\nvar fsEnabled = native('fullscreenEnabled');\nvar IS_ANDROID_CHROME = ua.indexOf('Android') !== -1 && ua.indexOf('Chrome') !== -1;\nvar IS_NATIVELY_SUPPORTED =\n\t\t!IS_ANDROID_CHROME &&\n\t\t defined(native('fullscreenElement')) &&\n\t\t(!defined(fsEnabled) || fsEnabled === true);\n\nvar version = $.fn.jquery.split('.');\nvar JQ_LT_17 = (parseInt(version[0]) < 2 && parseInt(version[1]) < 7);\n\nvar FullScreenAbstract = function() {\n\tthis.__options = null;\n\tthis._fullScreenElement = null;\n\tthis.__savedStyles = {};\n};\n\nFullScreenAbstract.prototype = {\n\t_DEFAULT_OPTIONS: {\n\t\tstyles: {\n\t\t\t'boxSizing': 'border-box',\n\t\t\t'MozBoxSizing': 'border-box',\n\t\t\t'WebkitBoxSizing': 'border-box'\n\t\t},\n\t\ttoggleClass: null\n\t},\n\t__documentOverflow: '',\n\t__htmlOverflow: '',\n\t_preventDocumentScroll: function() {\n\t\tthis.__documentOverflow = $('body')[0].style.overflow;\n\t\tthis.__htmlOverflow = $('html')[0].style.overflow;\n\t\t$('body, html').css('overflow', 'hidden');\n\t},\n\t_allowDocumentScroll: function() {\n\t\t$('body')[0].style.overflow = this.__documentOverflow;\n\t\t$('html')[0].style.overflow = this.__htmlOverflow;\n\t},\n\t_fullScreenChange: function() {\n\t\tif (!this.isFullScreen()) {\n\t\t\tthis._allowDocumentScroll();\n\t\t\tthis._revertStyles();\n\t\t\tthis._triggerEvents();\n\t\t\tthis._fullScreenElement = null;\n\t\t} else {\n\t\t\tthis._preventDocumentScroll();\n\t\t\tthis._triggerEvents();\n\t\t}\n\t},\n\t_fullScreenError: function(e) {\n\t\tthis._revertStyles();\n\t\tthis._fullScreenElement = null;\n\t\tif (e) {\n\t\t\t$(document).trigger('fscreenerror', [e]);\n\t\t}\n\t},\n\t_triggerEvents: function() {\n\t\t$(this._fullScreenElement).trigger(this.isFullScreen() ? 'fscreenopen' : 'fscreenclose');\n\t\t$(document).trigger('fscreenchange', [this.isFullScreen(), this._fullScreenElement]);\n\t},\n\t_saveAndApplyStyles: function() {\n\t\tvar $elem = $(this._fullScreenElement);\n\t\tthis.__savedStyles = {};\n\t\tfor (var property in this.__options.styles) {\n\t\t\t// save\n\t\t\tthis.__savedStyles[property] = this._fullScreenElement.style[property];\n\t\t\t// apply\n\t\t\tthis._fullScreenElement.style[property] = this.__options.styles[property];\n\t\t}\n\t\tif (this.__options.toggleClass) {\n\t\t\t$elem.addClass(this.__options.toggleClass);\n\t\t}\n\t},\n\t_revertStyles: function() {\n\t\tvar $elem = $(this._fullScreenElement);\n\t\tfor (var property in this.__options.styles) {\n\t\t\tthis._fullScreenElement.style[property] = this.__savedStyles[property];\n\t\t}\n\t\tif (this.__options.toggleClass) {\n\t\t\t$elem.removeClass(this.__options.toggleClass);\n\t\t}\n\t},\n\topen: function(elem, options) {\n\t\t// do nothing if request is for already fullscreened element\n\t\tif (elem === this._fullScreenElement) {\n\t\t\treturn;\n\t\t}\n\t\t// exit active fullscreen before opening another one\n\t\tif (this.isFullScreen()) {\n\t\t\tthis.exit();\n\t\t}\n\t\t// save fullscreened element\n\t\tthis._fullScreenElement = elem;\n\t\t// apply options, if any\n\t\tthis.__options = $.extend(true, {}, this._DEFAULT_OPTIONS, options);\n\t\t// save current element styles and apply new\n\t\tthis._saveAndApplyStyles();\n\t},\n\texit: null,\n\tisFullScreen: null,\n\tisNativelySupported: function() {\n\t\treturn IS_NATIVELY_SUPPORTED;\n\t}\n};\nvar FullScreenNative = function() {\n\tFullScreenNative._super.constructor.apply(this, arguments);\n\tthis.exit = $.proxy(native('exitFullscreen'), document);\n\tthis._DEFAULT_OPTIONS = $.extend(true, {}, this._DEFAULT_OPTIONS, {\n\t\t'styles': {\n\t\t\t'max-width': '100%',\n\t\t\t'max-height': '100%'\n\t\t}\n\t});\n\t$(document)\n\t\t.bind(this._prefixedString('fullscreenchange') + ' MSFullscreenChange', $.proxy(this._fullScreenChange, this))\n\t\t.bind(this._prefixedString('fullscreenerror') + ' MSFullscreenError', $.proxy(this._fullScreenError, this));\n};\n\nextend(FullScreenNative, FullScreenAbstract, {\n\tVENDOR_PREFIXES: ['', 'o', 'moz', 'webkit'],\n\t_prefixedString: function(str) {\n\t\treturn $.map(this.VENDOR_PREFIXES, function(s) {\n\t\t\treturn s + str;\n\t\t}).join(' ');\n\t},\n\topen: function(elem, options) {\n\t\tFullScreenNative._super.open.apply(this, arguments);\n\t\tvar requestFS = native(elem, 'requestFullscreen');\n\t\trequestFS.call(elem);\n\t},\n\texit: $.noop,\n\tisFullScreen: function() {\n\t\treturn native('fullscreenElement') !== null;\n\t},\n\telement: function() {\n\t\treturn native('fullscreenElement');\n\t}\n});\nvar FullScreenFallback = function() {\n\tFullScreenFallback._super.constructor.apply(this, arguments);\n\tthis._DEFAULT_OPTIONS = $.extend({}, this._DEFAULT_OPTIONS, {\n\t\t'styles': {\n\t\t\t'position': 'fixed',\n\t\t\t'zIndex': '2147483647',\n\t\t\t'left': 0,\n\t\t\t'top': 0,\n\t\t\t'bottom': 0,\n\t\t\t'right': 0\n\t\t}\n\t});\n\tthis.__delegateKeydownHandler();\n};\n\nextend(FullScreenFallback, FullScreenAbstract, {\n\t__isFullScreen: false,\n\t__delegateKeydownHandler: function() {\n\t\tvar $doc = $(document);\n\t\t$doc.delegate('*', 'keydown.fullscreen', $.proxy(this.__keydownHandler, this));\n\t\tvar data = JQ_LT_17 ? $doc.data('events') : $._data(document).events;\n\t\tvar events = data['keydown'];\n\t\tif (!JQ_LT_17) {\n\t\t\tevents.splice(0, 0, events.splice(events.delegateCount - 1, 1)[0]);\n\t\t} else {\n\t\t\tdata.live.unshift(data.live.pop());\n\t\t}\n\t},\n\t__keydownHandler: function(e) {\n\t\tif (this.isFullScreen() && e.which === 27) {\n\t\t\tthis.exit();\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t},\n\t_revertStyles: function() {\n\t\tFullScreenFallback._super._revertStyles.apply(this, arguments);\n\t\t// force redraw (fixes bug in IE7 with content dissapearing)\n\t\tthis._fullScreenElement.offsetHeight;\n\t},\n\topen: function(elem) {\n\t\tFullScreenFallback._super.open.apply(this, arguments);\n\t\tthis.__isFullScreen = true;\n\t\tthis._fullScreenChange();\n\t},\n\texit: function() {\n\t\tthis.__isFullScreen = false;\n\t\tthis._fullScreenChange();\n\t},\n\tisFullScreen: function() {\n\t\treturn this.__isFullScreen;\n\t},\n\telement: function() {\n\t\treturn this.__isFullScreen ? this._fullScreenElement : null;\n\t}\n});$.fullscreen = IS_NATIVELY_SUPPORTED\n\t\t\t\t? new FullScreenNative()\n\t\t\t\t: new FullScreenFallback();\n\n$.fn.fullscreen = function(options) {\n\tvar elem = this[0];\n\n\toptions = $.extend({\n\t\ttoggleClass: null,\n\t\toverflow: 'hidden'\n\t}, options);\n\toptions.styles = {\n\t\toverflow: options.overflow\n\t};\n\tdelete options.overflow;\n\n\tif (elem) {\n\t\t$.fullscreen.open(elem, options);\n\t}\n\n\treturn this;\n};\n})(jQuery);\n"],"names":["$","defined","a","extend","child","parent","prototype","F","constructor","_super","SUBST","VENDOR_PREFIXES","native","obj","name","prefixed","document","i","length","replace","j","charAt","toUpperCase","substr","FullScreenAbstract","this","__options","_fullScreenElement","__savedStyles","FullScreenNative","apply","arguments","exit","proxy","_DEFAULT_OPTIONS","styles","max-width","max-height","bind","_prefixedString","_fullScreenChange","_fullScreenError","FullScreenFallback","position","zIndex","left","top","bottom","right","__delegateKeydownHandler","ua","navigator","userAgent","fsEnabled","IS_NATIVELY_SUPPORTED","indexOf","version","fn","jquery","split","JQ_LT_17","parseInt","boxSizing","MozBoxSizing","WebkitBoxSizing","toggleClass","__documentOverflow","__htmlOverflow","_preventDocumentScroll","style","overflow","css","_allowDocumentScroll","isFullScreen","_triggerEvents","_revertStyles","e","trigger","_saveAndApplyStyles","property","$elem","addClass","removeClass","open","elem","options","isNativelySupported","str","map","s","join","call","noop","element","__isFullScreen","$doc","data","delegate","__keydownHandler","_data","events","live","unshift","pop","splice","delegateCount","which","offsetHeight","fullscreen","jQuery"],"mappings":"CAQWA,IAEX,SAASC,EAAQC,GAChB,OAAoB,KAAA,IAANA,CACf,CAEA,SAASC,EAAOC,EAAOC,EAAQC,GACnB,SAAJC,KACJA,EAAED,UAAYD,EAAOC,UACrBF,EAAME,UAAY,IAAIC,EACtBH,EAAME,UAAUE,YAAcJ,EACjCC,EAAOC,UAAUE,YAAcH,EAC5BD,EAAMK,OAASJ,EAAOC,UAClBA,GACAN,EAAEG,OAAOC,EAAME,UAAWA,CAAS,CAE3C,CAEA,IAAII,EAAQ,CACR,CAAC,GAAI,IACL,CAAC,OAAQ,UACT,CAAC,SAAU,WAGXC,EAAkB,CAAC,GAAI,IAAK,KAAM,MAAO,SAAU,iBAEvD,SAASC,EAAOC,EAAKC,GACjB,IAAIC,EAEe,UAAf,OAAOF,IACPC,EAAOD,EACPA,EAAMG,UAGV,IAAK,IAAIC,EAAI,EAAGA,EAAIP,EAAMQ,OAAQ,EAAED,EAAG,CACnCH,EAAOA,EAAKK,QAAQT,EAAMO,GAAG,GAAIP,EAAMO,GAAG,EAAE,EAC5C,IAAK,IAAIG,EAAI,EAAGA,EAAIT,EAAgBO,OAAQ,EAAEE,EAG1C,GAFAL,EAAWJ,EAAgBS,GAEvBnB,EAAQY,EADZE,GAAkB,IAANK,EAAUN,EAAOA,EAAKO,OAAO,CAAC,EAAEC,YAAY,EAAIR,EAAKS,OAAO,CAAC,EAChD,EACrB,OAAOV,EAAIE,EAGvB,CAGJ,CAWyB,SAArBS,IACHC,KAAKC,UAAY,KACjBD,KAAKE,mBAAqB,KAC1BF,KAAKG,cAAgB,EACtB,CAwFuB,SAAnBC,IACHA,EAAiBpB,OAAOD,YAAYsB,MAAML,KAAMM,SAAS,EACzDN,KAAKO,KAAOhC,EAAEiC,MAAMrB,EAAO,gBAAgB,EAAGI,QAAQ,EACtDS,KAAKS,iBAAmBlC,EAAEG,OAAO,CAAA,EAAM,GAAIsB,KAAKS,iBAAkB,CACjEC,OAAU,CACTC,YAAa,OACbC,aAAc,MACf,CACD,CAAC,EACDrC,EAAEgB,QAAQ,EACRsB,KAAKb,KAAKc,gBAAgB,kBAAkB,EAAI,sBAAuBvC,EAAEiC,MAAMR,KAAKe,kBAAmBf,IAAI,CAAC,EAC5Ga,KAAKb,KAAKc,gBAAgB,iBAAiB,EAAI,qBAAsBvC,EAAEiC,MAAMR,KAAKgB,iBAAkBhB,IAAI,CAAC,CAC5G,CAsByB,SAArBiB,IACHA,EAAmBjC,OAAOD,YAAYsB,MAAML,KAAMM,SAAS,EAC3DN,KAAKS,iBAAmBlC,EAAEG,OAAO,GAAIsB,KAAKS,iBAAkB,CAC3DC,OAAU,CACTQ,SAAY,QACZC,OAAU,aACVC,KAAQ,EACRC,IAAO,EACPC,OAAU,EACVC,MAAS,CACV,CACD,CAAC,EACDvB,KAAKwB,yBAAyB,CAC/B,CAtJC,IAAIC,EAAKC,UAAUC,UAChBC,EAAYzC,EAAO,mBAAmB,EAEtC0C,EACF,EAFgD,CAAC,IAA3BJ,EAAGK,QAAQ,SAAS,GAAqC,CAAC,IAA1BL,EAAGK,QAAQ,QAAQ,IAGxEtD,EAAQW,EAAO,mBAAmB,CAAC,IACnC,CAACX,EAAQoD,CAAS,GAAmB,CAAA,IAAdA,GAEtBG,EAAUxD,EAAEyD,GAAGC,OAAOC,MAAM,GAAG,EAC/BC,EAAYC,SAASL,EAAQ,EAAE,EAAI,GAAKK,SAASL,EAAQ,EAAE,EAAI,EAQnEhC,EAAmBlB,UAAY,CAC9B4B,iBAAkB,CACjBC,OAAQ,CACP2B,UAAa,aACbC,aAAgB,aAChBC,gBAAmB,YACpB,EACAC,YAAa,IACd,EACAC,mBAAoB,GACpBC,eAAgB,GAChBC,uBAAwB,WACvB3C,KAAKyC,mBAAqBlE,EAAE,MAAM,EAAE,GAAGqE,MAAMC,SAC7C7C,KAAK0C,eAAiBnE,EAAE,MAAM,EAAE,GAAGqE,MAAMC,SACzCtE,EAAE,YAAY,EAAEuE,IAAI,WAAY,QAAQ,CACzC,EACAC,qBAAsB,WACrBxE,EAAE,MAAM,EAAE,GAAGqE,MAAMC,SAAW7C,KAAKyC,mBACnClE,EAAE,MAAM,EAAE,GAAGqE,MAAMC,SAAW7C,KAAK0C,cACpC,EACA3B,kBAAmB,WACbf,KAAKgD,aAAa,GAMtBhD,KAAK2C,uBAAuB,EAC5B3C,KAAKiD,eAAe,IANpBjD,KAAK+C,qBAAqB,EAC1B/C,KAAKkD,cAAc,EACnBlD,KAAKiD,eAAe,EACpBjD,KAAKE,mBAAqB,KAK5B,EACAc,iBAAkB,SAASmC,GAC1BnD,KAAKkD,cAAc,EACnBlD,KAAKE,mBAAqB,KACtBiD,GACH5E,EAAEgB,QAAQ,EAAE6D,QAAQ,eAAgB,CAACD,EAAE,CAEzC,EACAF,eAAgB,WACf1E,EAAEyB,KAAKE,kBAAkB,EAAEkD,QAAQpD,KAAKgD,aAAa,EAAI,cAAgB,cAAc,EACvFzE,EAAEgB,QAAQ,EAAE6D,QAAQ,gBAAiB,CAACpD,KAAKgD,aAAa,EAAGhD,KAAKE,mBAAmB,CACpF,EACAmD,oBAAqB,WACpB,IAESC,EAFLC,EAAQhF,EAAEyB,KAAKE,kBAAkB,EAErC,IAASoD,KADTtD,KAAKG,cAAgB,GACAH,KAAKC,UAAUS,OAEnCV,KAAKG,cAAcmD,GAAYtD,KAAKE,mBAAmB0C,MAAMU,GAE7DtD,KAAKE,mBAAmB0C,MAAMU,GAAYtD,KAAKC,UAAUS,OAAO4C,GAE7DtD,KAAKC,UAAUuC,aAClBe,EAAMC,SAASxD,KAAKC,UAAUuC,WAAW,CAE3C,EACAU,cAAe,WACd,IACSI,EADLC,EAAQhF,EAAEyB,KAAKE,kBAAkB,EACrC,IAASoD,KAAYtD,KAAKC,UAAUS,OACnCV,KAAKE,mBAAmB0C,MAAMU,GAAYtD,KAAKG,cAAcmD,GAE1DtD,KAAKC,UAAUuC,aAClBe,EAAME,YAAYzD,KAAKC,UAAUuC,WAAW,CAE9C,EACAkB,KAAM,SAASC,EAAMC,GAEhBD,IAAS3D,KAAKE,qBAIdF,KAAKgD,aAAa,GACrBhD,KAAKO,KAAK,EAGXP,KAAKE,mBAAqByD,EAE1B3D,KAAKC,UAAY1B,EAAEG,OAAO,CAAA,EAAM,GAAIsB,KAAKS,iBAAkBmD,CAAO,EAElE5D,KAAKqD,oBAAoB,EAC1B,EACA9C,KAAM,KACNyC,aAAc,KACda,oBAAqB,WACpB,OAAOhC,CACR,CACD,EAeAnD,EAAO0B,EAAkBL,EAAoB,CAC5Cb,gBAAiB,CAAC,GAAI,IAAK,MAAO,UAClC4B,gBAAiB,SAASgD,GACzB,OAAOvF,EAAEwF,IAAI/D,KAAKd,gBAAiB,SAAS8E,GAC3C,OAAOA,EAAIF,CACZ,CAAC,EAAEG,KAAK,GAAG,CACZ,EACAP,KAAM,SAASC,EAAMC,GACpBxD,EAAiBpB,OAAO0E,KAAKrD,MAAML,KAAMM,SAAS,EAClCnB,EAAOwE,EAAM,mBAAmB,EACtCO,KAAKP,CAAI,CACpB,EACApD,KAAMhC,EAAE4F,KACRnB,aAAc,WACb,OAAuC,OAAhC7D,EAAO,mBAAmB,CAClC,EACAiF,QAAS,WACR,OAAOjF,EAAO,mBAAmB,CAClC,CACD,CAAC,EAgBDT,EAAOuC,EAAoBlB,EAAoB,CAC9CsE,eAAgB,CAAA,EAChB7C,yBAA0B,WACzB,IAAI8C,EAAO/F,EAAEgB,QAAQ,EAEjBgF,GADJD,EAAKE,SAAS,IAAK,qBAAsBjG,EAAEiC,MAAMR,KAAKyE,iBAAkBzE,IAAI,CAAC,EAClEmC,EAAWmC,EAAKC,KAAK,QAAQ,EAAIhG,EAAEmG,MAAMnF,QAAQ,EAAEoF,QAC1DA,EAASJ,EAAc,QACtBpC,EAGJoC,EAAKK,KAAKC,QAAQN,EAAKK,KAAKE,IAAI,CAAC,EAFjCH,EAAOI,OAAO,EAAG,EAAGJ,EAAOI,OAAOJ,EAAOK,cAAgB,EAAG,CAAC,EAAE,EAAE,CAInE,EACAP,iBAAkB,SAAStB,GAC1B,MAAInD,CAAAA,KAAKgD,aAAa,GAAiB,KAAZG,EAAE8B,QAC5BjF,KAAKO,KAAK,EACH,CAAA,EAGT,EACA2C,cAAe,WACdjC,EAAmBjC,OAAOkE,cAAc7C,MAAML,KAAMM,SAAS,EAE7DN,KAAKE,mBAAmBgF,YACzB,EACAxB,KAAM,SAASC,GACd1C,EAAmBjC,OAAO0E,KAAKrD,MAAML,KAAMM,SAAS,EACpDN,KAAKqE,eAAiB,CAAA,EACtBrE,KAAKe,kBAAkB,CACxB,EACAR,KAAM,WACLP,KAAKqE,eAAiB,CAAA,EACtBrE,KAAKe,kBAAkB,CACxB,EACAiC,aAAc,WACb,OAAOhD,KAAKqE,cACb,EACAD,QAAS,WACR,OAAOpE,KAAKqE,eAAiBrE,KAAKE,mBAAqB,IACxD,CACD,CAAC,EAAE3B,EAAE4G,WACC,IADYtD,EACRzB,EACAa,GAEV1C,EAAEyD,GAAGmD,WAAa,SAASvB,GAC1B,IAAID,EAAO3D,KAAK,GAehB,OAbA4D,EAAUrF,EAAEG,OAAO,CAClB8D,YAAa,KACbK,SAAU,QACX,EAAGe,CAAO,GACFlD,OAAS,CAChBmC,SAAUe,EAAQf,QACnB,EACA,OAAOe,EAAQf,SAEXc,GACHpF,EAAE4G,WAAWzB,KAAKC,EAAMC,CAAO,EAGzB5D,IACR,CACC,GAAEoF,MAAM"}