{"version":3,"file":"jquery.lazy.min.js","sources":["jquery.lazy.js"],"sourcesContent":["/*!\n * jQuery Lazy - v1.6.5\n * http://jquery.eisbehr.de/lazy/\n *\n * Copyright 2012 - 2016, Daniel 'Eisbehr' Kern\n *\n * Dual licensed under the MIT and GPL-2.0 licenses:\n * http://www.opensource.org/licenses/mit-license.php\n * http://www.gnu.org/licenses/gpl-2.0.html\n *\n * $(\"img.lazy\").lazy();\n */\n\n;(function($, window, document, undefined)\n{\n    \"use strict\";\n\n    // make lazy a bit more case-insensitive :)\n    $.fn.Lazy = $.fn.lazy = function(settings)\n    {\n        return new LazyPlugin(this, settings);\n    };\n\n    /**\n     * contains all logic and the whole element handling\n     * is packed in a private function outside class to reduce memory usage, because it will not be created on every plugin instance\n     * @access private\n     * @type {function}\n     * @param {LazyPlugin} instance\n     * @param {function} configuration\n     * @param {object} items\n     * @param {object} events\n     * @return void\n     */\n    function _executeLazy(instance, configuration, items, events)\n    {\n        /**\n         * a helper to trigger the 'onFinishedAll' callback after all other events\n         * @access private\n         * @type {number}\n         */\n        var _awaitingAfterLoad = 0,\n\n        /**\n         * visible content width\n         * @access private\n         * @type {number}\n         */\n        _actualWidth = -1,\n\n        /**\n         * visible content height\n         * @access private\n         * @type {number}\n         */\n        _actualHeight = -1,\n\n        /**\n         * determine possible detected high pixel density\n         * @access private\n         * @type {boolean}\n         */\n        _isRetinaDisplay = false;\n\n        /**\n         * initialize plugin\n         * bind loading to events or set delay time to load all items at once\n         * @access private\n         * @return void\n         */\n        function _initialize()\n        {\n            // detect actual device pixel ratio\n            // noinspection JSUnresolvedVariable\n            _isRetinaDisplay = window.devicePixelRatio > 1;\n\n            // prepare all initial items\n            _prepareItems(items);\n\n            // if delay time is set load all items at once after delay time\n            if( configuration(\"delay\") >= 0 ) setTimeout(function() { _lazyLoadItems(true); }, configuration(\"delay\"));\n\n            // if no delay is set or combine usage is active bind events\n            if( configuration(\"delay\") < 0 || configuration(\"combined\") )\n            {\n                // create unique event function\n                events.e = _throttle(configuration(\"throttle\"), function(event)\n                {\n                    // reset detected window size on resize event\n                    if( event.type === \"resize\" )\n                        _actualWidth = _actualHeight = -1;\n\n                    // execute 'lazy magic'\n                    _lazyLoadItems(event.all);\n                });\n\n                // create function to add new items to instance\n                events.a = function(additionalItems)\n                {\n                    _prepareItems(additionalItems);\n                    items.push.apply(items, additionalItems);\n                };\n\n                // create function to get all instance items left\n                events.g = function()\n                {\n                    return items;\n                };\n\n                // load initial items\n                _lazyLoadItems();\n\n                // bind lazy load functions to scroll and resize event\n                $(configuration(\"appendScroll\")).on(\"scroll.\" + instance.name + \" resize.\" + instance.name, events.e);\n            }\n        }\n\n        /**\n         * prepare items before handle them\n         * @access private\n         * @param {Array|object|jQuery} items\n         * @return void\n         */\n        function _prepareItems(items)\n        {\n            // filter items and only add those who not handled yet and got needed attributes available\n            items = $(items).filter(function()\n            {\n                return !$(this).data(configuration(\"handledName\")) && ($(this).attr(configuration(\"attribute\")) || $(this).attr(configuration(\"loaderAttribute\")));\n            })\n\n            // append plugin instance to all elements\n            .data(\"plugin_\" + instance.name, instance);\n\n            // set default image and/or placeholder to elements if configured\n            if( configuration(\"defaultImage\") || configuration(\"placeholder\") )\n                for( var i = 0; i < items.length; i++ )\n                {\n                    var element = $(items[i]),\n                        tag = items[i].tagName.toLowerCase(),\n                        propertyName = \"background-image\";\n\n                    // set default image on every element without source\n                    if( tag == \"img\" && configuration(\"defaultImage\") && !element.attr(\"src\") )\n                        element.attr(\"src\", configuration(\"defaultImage\"));\n\n                    // set placeholder on every element without background image\n                    else if( tag != \"img\" && configuration(\"placeholder\") && (!element.css(propertyName) || element.css(propertyName) == \"none\") )\n                        element.css(propertyName, \"url(\" + configuration(\"placeholder\") + \")\");\n                }\n        }\n\n        /**\n         * the 'lazy magic' - check all items\n         * @access private\n         * @param {boolean} [allItems]\n         * @return void\n         */\n        function _lazyLoadItems(allItems)\n        {\n            // skip if no items where left\n            if( !items.length )\n            {\n                // destroy instance if option is enabled\n                if( configuration(\"autoDestroy\") )\n                    // noinspection JSUnresolvedFunction\n                    instance.destroy();\n\n                return;\n            }\n\n            // helper to see if something was changed\n            var loadTriggered = false,\n\n            // get image base once, not on every image loop\n            imageBase = configuration(\"imageBase\") ? configuration(\"imageBase\") : \"\";\n\n            // loop all available items\n            for( var i = 0; i < items.length; i++ )\n                (function(item)\n                {\n                    // item is at least in loadable area\n                    if( _isInLoadableArea(item) || allItems )\n                    {\n                        var element = $(item),\n                            tag = item.tagName.toLowerCase(),\n                            attribute = element.attr(configuration(\"attribute\")),\n                            customLoader;\n\n                            // is not already handled\n                        if( !element.data(configuration(\"handledName\")) &&\n                            // and is visible or visibility doesn't matter\n                            (!configuration(\"visibleOnly\") || element.is(\":visible\")) && (\n                            // and image source attribute is available\n                            attribute && (\n                            // and is image tag where attribute is not equal source\n                            (tag == \"img\" && imageBase + attribute != element.attr(\"src\")) ||\n                            // or is non image tag where attribute is not equal background\n                            (tag != \"img\" && imageBase + attribute != element.css(\"background-image\")) ) ||\n                            // or custom loader is available\n                            (customLoader = element.attr(configuration(\"loaderAttribute\"))) ))\n                        {\n                            // mark element always as handled as this point to prevent double loading\n                            loadTriggered = true;\n                            element.data(configuration(\"handledName\"), true);\n\n                            // load item\n                            _handleItem(element, tag, imageBase, customLoader);\n                        }\n                    }\n                })(items[i]);\n\n            // when something was loaded remove them from remaining items\n            if( loadTriggered )\n                items = $(items).filter(function()\n                {\n                    return !$(this).data(configuration(\"handledName\"));\n                });\n        }\n\n        /**\n         * load the given element the lazy way\n         * @access private\n         * @param {object} element\n         * @param {string} tag\n         * @param {string} imageBase\n         * @param {function} [customLoader]\n         * @return void\n         */\n        function _handleItem(element, tag, imageBase, customLoader)\n        {\n            // increment count of items waiting for after load\n            ++_awaitingAfterLoad;\n\n            // extended error callback for correct 'onFinishedAll' handling\n            var errorCallback = function()\n            {\n                _triggerCallback(\"onError\", element);\n                _reduceAwaiting();\n            };\n\n            // trigger function before loading image\n            _triggerCallback(\"beforeLoad\", element);\n\n            // handle custom loader\n            if( customLoader )\n            {\n                // bind error event to trigger callback and reduce waiting amount\n                element.off(\"error\").one(\"error\", errorCallback);\n\n                // bind after load callback to image\n                element.one(\"load\", function()\n                {\n                    // remove attribute from element\n                    if( configuration(\"removeAttribute\") )\n                        element.removeAttr(configuration(\"loaderAttribute\"));\n\n                    // call after load event\n                    _triggerCallback(\"afterLoad\", element);\n\n                    // remove item from waiting queue and possible trigger finished event\n                    _reduceAwaiting();\n                });\n\n                // trigger custom loader\n                if( !_triggerCallback(customLoader, element, function(response)\n                {\n                    if( response ) element.load();\n                    else element.error();\n                })) element.error();\n            }\n\n            // handle images\n            else\n            {\n                // create image object\n                var imageObj = $(new Image());\n\n                // bind error event to trigger callback and reduce waiting amount\n                imageObj.one(\"error\", errorCallback);\n\n                // bind after load callback to image\n                imageObj.one(\"load\", function()\n                {\n                    // remove element from view\n                    element.hide();\n\n                    // set image back to element\n                    if( tag == \"img\" ) element.attr(\"src\", imageObj.attr(\"src\"));\n                    else element.css(\"background-image\", \"url(\" + imageObj.attr(\"src\") + \")\");\n\n                    // bring it back with some effect!\n                    element[configuration(\"effect\")](configuration(\"effectTime\"));\n\n                    // remove attribute from element\n                    if( configuration(\"removeAttribute\") )\n                        element.removeAttr(configuration(\"attribute\") + \" \" + configuration(\"retinaAttribute\"));\n\n                    // call after load event\n                    _triggerCallback(\"afterLoad\", element);\n\n                    // cleanup image object\n                    imageObj.remove();\n\n                    // remove item from waiting queue and possible trigger finished event\n                    _reduceAwaiting();\n                });\n\n                // set source\n                imageObj.attr(\"src\", imageBase + element.attr(configuration(_isRetinaDisplay && element.attr(configuration(\"retinaAttribute\")) ? \"retinaAttribute\" : \"attribute\")));\n\n                // call after load even on cached image\n                if( imageObj.complete ) imageObj.load();\n            }\n        }\n\n        /**\n         * check if the given element is inside the current viewport or threshold\n         * @access private\n         * @param {object} element\n         * @return {boolean}\n         */\n        function _isInLoadableArea(element)\n        {\n            var elementBound = element.getBoundingClientRect(),\n                direction    = configuration(\"scrollDirection\"),\n                threshold    = configuration(\"threshold\"),\n                vertical     = // check if element is in loadable area from top\n                               ((_getActualHeight() + threshold) > elementBound.top) &&\n                               // check if element is even in loadable are from bottom\n                               (-threshold < elementBound.bottom),\n                horizontal   = // check if element is in loadable area from left\n                               ((_getActualWidth() + threshold) > elementBound.left) &&\n                               // check if element is even in loadable area from right\n                               (-threshold < elementBound.right);\n\n            if( direction == \"vertical\" ) return vertical;\n            else if( direction == \"horizontal\" ) return horizontal;\n\n            return vertical && horizontal;\n        }\n\n        /**\n         * receive the current viewed width of the browser\n         * @access private\n         * @return {number}\n         */\n        function _getActualWidth()\n        {\n            return _actualWidth >= 0 ? _actualWidth : (_actualWidth = $(window).width());\n        }\n\n        /**\n         * receive the current viewed height of the browser\n         * @access private\n         * @return {number}\n         */\n        function _getActualHeight()\n        {\n            return _actualHeight >= 0 ? _actualHeight : (_actualHeight = $(window).height());\n        }\n\n        /**\n         * helper function to throttle down event triggering\n         * @access private\n         * @param {number} delay\n         * @param {function} callback\n         * @return {function}\n         */\n        function _throttle(delay, callback)\n        {\n            var timeout, lastExecute = 0;\n\n            return function(event, ignoreThrottle)\n            {\n                var elapsed = +new Date() - lastExecute;\n\n                function run()\n                {\n                    lastExecute = +new Date();\n                    callback.call(instance, event);\n                }\n\n                timeout && clearTimeout(timeout);\n\n                if( elapsed > delay || !configuration(\"enableThrottle\") || ignoreThrottle ) run();\n                else timeout = setTimeout(run, delay - elapsed);\n            };\n        }\n\n        /**\n         * reduce count of awaiting elements to 'afterLoad' event and fire 'onFinishedAll' if reached zero\n         * @access private\n         * @return void\n         */\n        function _reduceAwaiting()\n        {\n            --_awaitingAfterLoad;\n\n            // if no items were left trigger finished event\n            if( !items.size() && !_awaitingAfterLoad ) _triggerCallback(\"onFinishedAll\");\n        }\n\n        /**\n         * single implementation to handle callbacks, pass element and set 'this' to current instance\n         * @access private\n         * @param {string|function} callback\n         * @param {object} [element]\n         * @param {*} [args]\n         * @return {boolean}\n         */\n        function _triggerCallback(callback, element, args)\n        {\n            if( (callback = configuration(callback)) )\n            {\n                // jQuery's internal '$(arguments).slice(1)' are causing problems at least on old iPads\n                // below is shorthand of 'Array.prototype.slice.call(arguments, 1)'\n                callback.apply(instance, [].slice.call(arguments, 1));\n                return true;\n            }\n\n            return false;\n        }\n\n        // set up lazy\n        (function()\n        {\n            // if event driven don't wait for page loading\n            if( configuration(\"bind\") == \"event\" ) _initialize();\n\n            // otherwise load initial items and start lazy after page load\n            else $(window).load(_initialize);\n        })();\n    }\n\n    /**\n     * lazy plugin class constructor\n     * @constructor\n     * @access private\n     * @param {object} elements\n     * @param {object} settings\n     * @return {object|LazyPlugin}\n     */\n    function LazyPlugin(elements, settings)\n    {\n        /**\n         * this lazy plugin instance\n         * @access private\n         * @type {object|LazyPlugin}\n         */\n        var _instance = this,\n\n        /**\n         * this lazy plugin instance configuration\n         * @access private\n         * @type {object}\n         */\n        _config = $.extend({}, _instance.configuration, settings),\n\n        /**\n         * instance generated event executed on container scroll or resize\n         * packed in an object to be referenceable and short named because properties will not be minified\n         * @access private\n         * @type {object}\n         */\n        _events = {};\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * wrapper to get or set an entry from plugin instance configuration\n         * much smaller on minify as direct access\n         * @access private\n         * @type {function}\n         * @param {string} entryName\n         * @param {*} [value]\n         * @return {LazyPlugin|*}\n         */\n        _instance.config = function(entryName, value)\n        {\n            if( value === undefined )\n                return _config[entryName];\n            else\n                _config[entryName] = value;\n\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * add additional items to current instance\n         * @access public\n         * @param {Array|object|string} items\n         * @return {LazyPlugin}\n         */\n        _instance.addItems = function(items)\n        {\n            if( _events.a )\n                _events.a($.type(items) === \"string\" ? $(items) : items);\n\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * get all left items of this instance\n         * @access public\n         * @returns {object}\n         */\n        _instance.getItems = function()\n        {\n            return _events.g ? _events.g() : {};\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * force lazy to load all items in loadable area right now\n         * by default without throttle\n         * @access public\n         * @type {function}\n         * @param {boolean} [useThrottle]\n         * @return {LazyPlugin}\n         */\n        _instance.update = function(useThrottle)\n        {\n            if( _events.e )\n                _events.e({}, !useThrottle);\n\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * force lazy to load all available items right now\n         * this call ignores throttling\n         * @access public\n         * @type {function}\n         * @return {LazyPlugin}\n         */\n        _instance.loadAll = function()\n        {\n            if( _events.e )\n                _events.e({all: true}, true);\n\n            return _instance;\n        };\n\n        // noinspection JSUndefinedPropertyAssignment\n        /**\n         * destroy this plugin instance\n         * @access public\n         * @type {function}\n         * @return undefined\n         */\n        _instance.destroy = function ()\n        {\n            // unbind instance generated events\n            // noinspection JSUnresolvedFunction\n            $(_instance.config(\"appendScroll\")).off(\".\" + _instance.name, _events.e);\n\n            // clear events\n            _events = {};\n\n            return undefined;\n        };\n\n        // start using lazy and return all elements to be chainable or instance for further use\n        // noinspection JSUnresolvedVariable\n        _executeLazy(_instance, _instance.config, elements, _events);\n        // noinspection JSUnresolvedFunction\n        return _instance.config(\"chainable\") ? elements : _instance;\n    }\n\n    // use jquery to extend class prototype without conflicts\n    $.extend(LazyPlugin.prototype,\n    {\n        /**\n         * internal name used for bindings and namespaces\n         * @access public\n         * @var {string}\n         */\n        name: \"lazy\",\n\n        /**\n         * settings and configuration data\n         * @access public\n         * @type {object}\n         */\n        configuration:\n        {\n            // general\n            chainable       : true,\n            autoDestroy     : true,\n            bind            : \"load\",\n            threshold       : 500,\n            visibleOnly     : false,\n            appendScroll    : window,\n            scrollDirection : \"both\",\n            imageBase       : null,\n            defaultImage    : \"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==\",\n            placeholder     : null,\n            delay           : -1,\n            combined        : false,\n\n            // attributes\n            attribute       : \"data-src\",\n            retinaAttribute : \"data-retina\",\n            loaderAttribute : \"data-loader\",\n            removeAttribute : true,\n            handledName     : \"handled\",\n\n            // effect\n            effect          : \"show\",\n            effectTime      : 0,\n\n            // throttle\n            enableThrottle  : true,\n            throttle        : 250,\n\n            // callbacks\n            beforeLoad      : null,\n            afterLoad       : null,\n            onError         : null,\n            onFinishedAll   : null\n        }\n    });\n})(jQuery, window, document);"],"names":["$","window","undefined","_executeLazy","instance","configuration","items","events","_awaitingAfterLoad","_actualWidth","_actualHeight","_isRetinaDisplay","_initialize","delay","callback","timeout","lastExecute","devicePixelRatio","_prepareItems","setTimeout","_lazyLoadItems","e","event","type","all","ignoreThrottle","elapsed","Date","run","call","clearTimeout","a","additionalItems","push","apply","g","on","name","filter","this","data","attr","i","length","element","tag","tagName","toLowerCase","propertyName","css","allItems","loadTriggered","imageBase","item","errorCallback","_triggerCallback","_reduceAwaiting","customLoader","imageObj","elementBound","getBoundingClientRect","direction","threshold","vertical","height","top","bottom","horizontal","width","left","right","attribute","is","off","one","removeAttr","response","load","error","Image","hide","remove","complete","destroy","size","slice","arguments","LazyPlugin","elements","settings","_instance","_config","extend","_events","config","entryName","value","addItems","getItems","update","useThrottle","loadAll","fn","Lazy","lazy","prototype","chainable","autoDestroy","bind","visibleOnly","appendScroll","scrollDirection","defaultImage","placeholder","combined","retinaAttribute","loaderAttribute","removeAttribute","handledName","effect","effectTime","enableThrottle","throttle","beforeLoad","afterLoad","onError","onFinishedAll","jQuery","document"],"mappings":"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"}