{"version":3,"sources":["overlappingmarkerspiderfier.js"],"names":["h","u","v","A","B","hasOwnProperty","C","slice","this","google","maps","OverlappingMarkerSpiderfier","w","b","d","a","g","f","e","c","map","call","constructor","n","length","p","addListener","unspiderfy","s","t","q","k","y","z","prototype","VERSION","event","MapTypeId","Math","PI","keepSpiderfied","markersWontHide","markersWontMove","nearbyDistance","circleSpiralSwitchover","circleFootSeparation","circleStartAngle","spiralFootSeparation","spiralLengthStart","spiralLengthFactor","spiderfiedZIndex","usualLegZIndex","highlightedLegZIndex","legWeight","legColors","usual","highlighted","HYBRID","SATELLITE","TERRAIN","ROADMAP","j","addMarker","_oms","F","push","o","_omsData","getVisible","getMarkers","removeMarker","m","splice","removeListener","clearMarkers","clearListeners","trigger","arguments","apply","Point","x","cos","sin","l","getStreetView","getMapTypeId","position","G","markersNearMarker","getProjection","markersNearAnyOtherMarker","r","i","setOptions","strokeColor","mapTypeId","zIndex","reverse","D","Polyline","path","strokeWeight","setPosition","setZIndex","round","setMap","fromLatLngToDivPixel","fromDivPixelToLatLng","indexOf","OverlayView","draw"],"mappings":"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","file":"overlappingmarkerspiderfier.js","sourcesContent":["(function(){/*\n OverlappingMarkerSpiderfier\nhttps://github.com/jawj/OverlappingMarkerSpiderfier\nCopyright (c) 2011 - 2012 George MacKerron\nReleased under the MIT licence: http://opensource.org/licenses/mit-license\nNote: The Google Maps API v3 must be included *before* this code\n*/\nvar h=!0,u=null,v=!1;\n(function(){var A,B={}.hasOwnProperty,C=[].slice;if(((A=this.google)!=u?A.maps:void 0)!=u)this.OverlappingMarkerSpiderfier=function(){function w(b,d){var a,g,f,e,c=this;this.map=b;d==u&&(d={});for(a in d)B.call(d,a)&&(g=d[a],this[a]=g);this.e=new this.constructor.g(this.map);this.n();this.b={};e=[\"click\",\"zoom_changed\",\"maptypeid_changed\"];g=0;for(f=e.length;g<f;g++)a=e[g],p.addListener(this.map,a,function(){return c.unspiderfy()})}var p,s,t,q,k,c,y,z;c=w.prototype;z=[w,c];q=0;for(k=z.length;q<k;q++)t=\nz[q],t.VERSION=\"0.3.3\";s=google.maps;p=s.event;k=s.MapTypeId;y=2*Math.PI;c.keepSpiderfied=v;c.markersWontHide=v;c.markersWontMove=v;c.nearbyDistance=20;c.circleSpiralSwitchover=9;c.circleFootSeparation=23;c.circleStartAngle=y/12;c.spiralFootSeparation=26;c.spiralLengthStart=11;c.spiralLengthFactor=4;c.spiderfiedZIndex=1E3;c.usualLegZIndex=10;c.highlightedLegZIndex=20;c.legWeight=1.5;c.legColors={usual:{},highlighted:{}};q=c.legColors.usual;t=c.legColors.highlighted;q[k.HYBRID]=q[k.SATELLITE]=\"#fff\";\nt[k.HYBRID]=t[k.SATELLITE]=\"#f00\";q[k.TERRAIN]=q[k.ROADMAP]=\"#444\";t[k.TERRAIN]=t[k.ROADMAP]=\"#f00\";c.n=function(){this.a=[];this.j=[]};c.addMarker=function(b){var d,a=this;if(b._oms!=u)return this;b._oms=h;d=[p.addListener(b,\"click\",function(d){return a.F(b,d)})];this.markersWontHide||d.push(p.addListener(b,\"visible_changed\",function(){return a.o(b,v)}));this.markersWontMove||d.push(p.addListener(b,\"position_changed\",function(){return a.o(b,h)}));this.j.push(d);this.a.push(b);return this};c.o=function(b,\nd){if(b._omsData!=u&&(d||!b.getVisible())&&!(this.s!=u||this.t!=u))return this.unspiderfy(d?b:u)};c.getMarkers=function(){return this.a.slice(0)};c.removeMarker=function(b){var d,a,g,f,e;b._omsData!=u&&this.unspiderfy();d=this.m(this.a,b);if(0>d)return this;g=this.j.splice(d,1)[0];f=0;for(e=g.length;f<e;f++)a=g[f],p.removeListener(a);delete b._oms;this.a.splice(d,1);return this};c.clearMarkers=function(){var b,d,a,g,f,e,c,m;this.unspiderfy();m=this.a;b=g=0;for(e=m.length;g<e;b=++g){a=m[b];d=this.j[b];\nf=0;for(c=d.length;f<c;f++)b=d[f],p.removeListener(b);delete a._oms}this.n();return this};c.addListener=function(b,d){var a,g;((g=(a=this.b)[b])!=u?g:a[b]=[]).push(d);return this};c.removeListener=function(b,d){var a;a=this.m(this.b[b],d);0>a||this.b[b].splice(a,1);return this};c.clearListeners=function(b){this.b[b]=[];return this};c.trigger=function(){var b,d,a,g,f,e;d=arguments[0];b=2<=arguments.length?C.call(arguments,1):[];d=(a=this.b[d])!=u?a:[];e=[];g=0;for(f=d.length;g<f;g++)a=d[g],e.push(a.apply(u,\nb));return e};c.u=function(b,d){var a,g,f,e,c;f=this.circleFootSeparation*(2+b)/y;g=y/b;c=[];for(a=e=0;0<=b?e<b:e>b;a=0<=b?++e:--e)a=this.circleStartAngle+a*g,c.push(new s.Point(d.x+f*Math.cos(a),d.y+f*Math.sin(a)));return c};c.v=function(b,d){var a,g,f,e,c;f=this.spiralLengthStart;a=0;c=[];for(g=e=0;0<=b?e<b:e>b;g=0<=b?++e:--e)a+=this.spiralFootSeparation/f+5E-4*g,g=new s.Point(d.x+f*Math.cos(a),d.y+f*Math.sin(a)),f+=y*this.spiralLengthFactor/a,c.push(g);return c};c.F=function(b,d){var a,g,f,e,c,\nm,l,x,n;e=b._omsData!=u;(!e||!this.keepSpiderfied)&&this.unspiderfy();if(e||this.map.getStreetView().getVisible()||\"GoogleEarthAPI\"===this.map.getMapTypeId())return this.trigger(\"click\",b,d);e=[];c=[];a=this.nearbyDistance;m=a*a;f=this.c(b.position);n=this.a;l=0;for(x=n.length;l<x;l++)a=n[l],a.map!=u&&a.getVisible()&&(g=this.c(a.position),this.f(g,f)<m?e.push({A:a,p:g}):c.push(a));return 1===e.length?this.trigger(\"click\",b,d):this.G(e,c)};c.markersNearMarker=function(b,d){var a,g,f,e,c,m,l,x,n,p;\nd==u&&(d=v);if(this.e.getProjection()==u)throw\"Must wait for 'idle' event on map before calling markersNearMarker\";a=this.nearbyDistance;c=a*a;f=this.c(b.position);e=[];x=this.a;m=0;for(l=x.length;m<l;m++)if(a=x[m],!(a===b||a.map==u||!a.getVisible()))if(g=this.c((n=(p=a._omsData)!=u?p.l:void 0)!=u?n:a.position),this.f(g,f)<c&&(e.push(a),d))break;return e};c.markersNearAnyOtherMarker=function(){var b,d,a,g,c,e,r,m,l,p,n,k;if(this.e.getProjection()==u)throw\"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker\";\ne=this.nearbyDistance;b=e*e;g=this.a;e=[];n=0;for(a=g.length;n<a;n++)d=g[n],e.push({q:this.c((r=(l=d._omsData)!=u?l.l:void 0)!=u?r:d.position),d:v});n=this.a;d=r=0;for(l=n.length;r<l;d=++r)if(a=n[d],a.map!=u&&a.getVisible()&&(g=e[d],!g.d)){k=this.a;a=m=0;for(p=k.length;m<p;a=++m)if(c=k[a],a!==d&&(c.map!=u&&c.getVisible())&&(c=e[a],(!(a<d)||c.d)&&this.f(g.q,c.q)<b)){g.d=c.d=h;break}}n=this.a;a=[];b=r=0;for(l=n.length;r<l;b=++r)d=n[b],e[b].d&&a.push(d);return a};c.z=function(b){var d=this;return{h:function(){return b._omsData.i.setOptions({strokeColor:d.legColors.highlighted[d.map.mapTypeId],\nzIndex:d.highlightedLegZIndex})},k:function(){return b._omsData.i.setOptions({strokeColor:d.legColors.usual[d.map.mapTypeId],zIndex:d.usualLegZIndex})}}};c.G=function(b,d){var a,c,f,e,r,m,l,k,n,q;this.s=h;q=b.length;a=this.C(function(){var a,d,c;c=[];a=0;for(d=b.length;a<d;a++)k=b[a],c.push(k.p);return c}());e=q>=this.circleSpiralSwitchover?this.v(q,a).reverse():this.u(q,a);a=function(){var a,d,k,q=this;k=[];a=0;for(d=e.length;a<d;a++)f=e[a],c=this.D(f),n=this.B(b,function(a){return q.f(a.p,f)}),\nl=n.A,m=new s.Polyline({map:this.map,path:[l.position,c],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),l._omsData={l:l.position,i:m},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(r=this.z(l),l._omsData.w={h:p.addListener(l,\"mouseover\",r.h),k:p.addListener(l,\"mouseout\",r.k)}),l.setPosition(c),l.setZIndex(Math.round(this.spiderfiedZIndex+f.y)),k.push(l);return k}.call(this);delete this.s;this.r=\nh;return this.trigger(\"spiderfy\",a,d)};c.unspiderfy=function(b){var d,a,c,f,e,k,m;b==u&&(b=u);if(this.r==u)return this;this.t=h;f=[];c=[];m=this.a;e=0;for(k=m.length;e<k;e++)a=m[e],a._omsData!=u?(a._omsData.i.setMap(u),a!==b&&a.setPosition(a._omsData.l),a.setZIndex(u),d=a._omsData.w,d!=u&&(p.removeListener(d.h),p.removeListener(d.k)),delete a._omsData,f.push(a)):c.push(a);delete this.t;delete this.r;this.trigger(\"unspiderfy\",f,c);return this};c.f=function(b,d){var a,c;a=b.x-d.x;c=b.y-d.y;return a*\na+c*c};c.C=function(b){var d,a,c,f,e;f=a=c=0;for(e=b.length;f<e;f++)d=b[f],a+=d.x,c+=d.y;b=b.length;return new s.Point(a/b,c/b)};c.c=function(b){return this.e.getProjection().fromLatLngToDivPixel(b)};c.D=function(b){return this.e.getProjection().fromDivPixelToLatLng(b)};c.B=function(b,c){var a,g,f,e,k,m;f=k=0;for(m=b.length;k<m;f=++k)if(e=b[f],e=c(e),\"undefined\"===typeof a||a===u||e<g)g=e,a=f;return b.splice(a,1)[0]};c.m=function(b,c){var a,g,f,e;if(b.indexOf!=u)return b.indexOf(c);a=f=0;for(e=b.length;f<\ne;a=++f)if(g=b[a],g===c)return a;return-1};w.g=function(b){return this.setMap(b)};w.g.prototype=new s.OverlayView;w.g.prototype.draw=function(){};return w}()}).call(this);}).call(this);\n/* Tue 7 May 2013 14:56:02 BST */"],"sourceRoot":"/source/"}