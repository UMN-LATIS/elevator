import{d as g,y as Y,k as w,l as _,I as H,F as D,t as P,x as Z,L as oe,K as ae,J as te,T as Gt,z as Kt,u as c,v as gt,_ as h,o,b as r,a as v,c as b,w as m,e as f,B as S,C as k,f as B,D as x,i as ce,n as ee,U as Jt,V as Qt,m as Yt,r as q,W as De,Q as Oe,X as Zt,Y as Xt,g as ht,P as es,Z as ts,$ as ss,E as ns,G as ls,M as as}from"./index.js";import{P as N,e as yt,m as xe,o as de,w as we,a as le,b as He,M as Le,N as os,t as ve,p as wt,l as he,y as is,c as rs,R as Ne,f as us,O as ue,d as cs,g as ds,h as Pe,i as ie,j as fe,B as $e,C as fs,k as et,n as vs,q as ps,r as ke,L as ms,s as _s,v as gs}from"./AppHeader.js";import{T as bt,N as hs}from"./ThumbnailImage.js";import{C as xt,I as ys}from"./InfoIcon.js";import{t as $t,g as kt,a as We,b as Tt,c as ws,d as bs}from"./displayUtils.js";import{C as It,S as it}from"./SearchResultCard.js";import{D as xs,A as Ct}from"./ArrowButton.js";import{A as $s}from"./ArrowForwardIcon.js";import{u as ks}from"./usePageTitle.js";import"./LazyLoadImage.js";var Fe=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Fe||{});let ze=g({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:s}){return()=>{let{features:n,...l}=e,a={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return N({ourProps:a,theirProps:l,slot:{},attrs:s,slots:t,name:"Hidden"})}}});function Ts(e,t,s){yt||Y(n=>{window.addEventListener(e,t,s),n(()=>window.removeEventListener(e,t,s))})}var Ue=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Ue||{});function Is(){let e=w(0);return Ts("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function At(e,t,s,n){yt||Y(l=>{e=e!=null?e:window,e.addEventListener(t,s,n),l(()=>e.removeEventListener(t,s,n))})}function Cs(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}var St=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(St||{});let ye=Object.assign(g({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:Object,default:w(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:s,expose:n}){let l=w(null);n({el:l,$el:l});let a=_(()=>xe(l));As({ownerDocument:a},_(()=>Boolean(e.features&16)));let i=Ss({ownerDocument:a,container:l,initialFocus:_(()=>e.initialFocus)},_(()=>Boolean(e.features&2)));Ds({ownerDocument:a,container:l,containers:e.containers,previousActiveElement:i},_(()=>Boolean(e.features&8)));let u=Is();function d(){let p=de(l);!p||le(u.value,{[Ue.Forwards]:()=>He(p,Le.First),[Ue.Backwards]:()=>He(p,Le.Last)})}return()=>{let p={},$={ref:l},{features:y,initialFocus:T,containers:C,...I}=e;return H(D,[Boolean(y&4)&&H(ze,{as:"button",type:"button",onFocus:d,features:Fe.Focusable}),N({ourProps:$,theirProps:{...t,...I},slot:p,attrs:t,slots:s,name:"FocusTrap"}),Boolean(y&4)&&H(ze,{as:"button",type:"button",onFocus:d,features:Fe.Focusable})])}}}),{features:St});function As({ownerDocument:e},t){let s=w(null);function n(){var a;s.value||(s.value=(a=e.value)==null?void 0:a.activeElement)}function l(){!s.value||(we(s.value),s.value=null)}P(()=>{Z(t,(a,i)=>{a!==i&&(a?n():l())},{immediate:!0})}),oe(l)}function Ss({ownerDocument:e,container:t,initialFocus:s},n){let l=w(null),a=w(!1);return P(()=>a.value=!0),oe(()=>a.value=!1),P(()=>{Z([t,s,n],(i,u)=>{if(i.every((p,$)=>(u==null?void 0:u[$])===p)||!n.value)return;let d=de(t);!d||Cs(()=>{var p,$;if(!a.value)return;let y=de(s),T=(p=e.value)==null?void 0:p.activeElement;if(y){if(y===T){l.value=T;return}}else if(d.contains(T)){l.value=T;return}y?we(y):He(d,Le.First|Le.NoScroll)===os.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),l.value=($=e.value)==null?void 0:$.activeElement})},{immediate:!0,flush:"post"})}),l}function Ds({ownerDocument:e,container:t,containers:s,previousActiveElement:n},l){var a;At((a=e.value)==null?void 0:a.defaultView,"focus",i=>{if(!l.value)return;let u=new Set(s==null?void 0:s.value);u.add(t);let d=n.value;if(!d)return;let p=i.target;p&&p instanceof HTMLElement?Os(u,p)?(n.value=p,we(p)):(i.preventDefault(),i.stopPropagation(),we(d)):we(n.value)},!0)}function Os(e,t){var s;for(let n of e)if((s=n.value)!=null&&s.contains(t))return!0;return!1}let rt="body > *",_e=new Set,ne=new Map;function ut(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function ct(e){let t=ne.get(e);!t||(t["aria-hidden"]===null?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",t["aria-hidden"]),e.inert=t.inert)}function Ls(e,t=w(!0)){Y(s=>{if(!t.value||!e.value)return;let n=e.value,l=xe(n);if(l){_e.add(n);for(let a of ne.keys())a.contains(n)&&(ct(a),ne.delete(a));l.querySelectorAll(rt).forEach(a=>{if(a instanceof HTMLElement){for(let i of _e)if(a.contains(i))return;_e.size===1&&(ne.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),ut(a))}}),s(()=>{if(_e.delete(n),_e.size>0)l.querySelectorAll(rt).forEach(a=>{if(a instanceof HTMLElement&&!ne.has(a)){for(let i of _e)if(a.contains(i))return;ne.set(a,{"aria-hidden":a.getAttribute("aria-hidden"),inert:a.inert}),ut(a)}});else for(let a of ne.keys())ct(a),ne.delete(a)})}})}let Dt=Symbol("ForcePortalRootContext");function Fs(){return te(Dt,!1)}let Ge=g({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:s}){return ae(Dt,e.force),()=>{let{force:n,...l}=e;return N({theirProps:l,ourProps:{},slot:{},slots:t,attrs:s,name:"ForcePortalRoot"})}}});function js(e){let t=xe(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let s=t.getElementById("headlessui-portal-root");if(s)return s;let n=t.createElement("div");return n.setAttribute("id","headlessui-portal-root"),t.body.appendChild(n)}let Ot=g({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:s}){let n=w(null),l=_(()=>xe(n)),a=Fs(),i=te(Lt,null),u=w(a===!0||i==null?js(n.value):i.resolveTarget());return Y(()=>{a||i!=null&&(u.value=i.resolveTarget())}),oe(()=>{var d,p;let $=(d=l.value)==null?void 0:d.getElementById("headlessui-portal-root");!$||u.value===$&&u.value.children.length<=0&&((p=u.value.parentElement)==null||p.removeChild(u.value))}),()=>{if(u.value===null)return null;let d={ref:n,"data-headlessui-portal":""};return H(Gt,{to:u.value},N({ourProps:d,theirProps:e,slot:{},attrs:s,slots:t,name:"Portal"}))}}}),Lt=Symbol("PortalGroupContext"),Ws=g({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:s}){let n=Kt({resolveTarget(){return e.target}});return ae(Lt,n),()=>{let{target:l,...a}=e;return N({theirProps:a,ourProps:{},slot:{},attrs:t,slots:s,name:"PortalGroup"})}}}),Ft=Symbol("StackContext");var Ke=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(Ke||{});function qs(){return te(Ft,()=>{})}function Bs({type:e,enabled:t,element:s,onUpdate:n}){let l=qs();function a(...i){n==null||n(...i),l(...i)}P(()=>{Z(t,(i,u)=>{i?a(0,e,s):u===!0&&a(1,e,s)},{immediate:!0,flush:"sync"})}),oe(()=>{t.value&&a(1,e,s)}),ae(Ft,a)}let jt=Symbol("DescriptionContext");function Es(){let e=te(jt,null);if(e===null)throw new Error("Missing parent");return e}function Ms({slot:e=w({}),name:t="Description",props:s={}}={}){let n=w([]);function l(a){return n.value.push(a),()=>{let i=n.value.indexOf(a);i!==-1&&n.value.splice(i,1)}}return ae(jt,{register:l,slot:e,name:t,props:s}),_(()=>n.value.length>0?n.value.join(" "):void 0)}let Si=g({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:s}){let n=Es(),l=`headlessui-description-${ve()}`;return P(()=>oe(n.register(l))),()=>{let{name:a="Description",slot:i=w({}),props:u={}}=n,d=e,p={...Object.entries(u).reduce(($,[y,T])=>Object.assign($,{[y]:c(T)}),{}),id:l};return N({ourProps:p,theirProps:d,slot:i.value,attrs:t,slots:s,name:a})}}});function tt(){let e=[],t=[],s={enqueue(n){t.push(n)},addEventListener(n,l,a,i){return n.addEventListener(l,a,i),s.add(()=>n.removeEventListener(l,a,i))},requestAnimationFrame(...n){let l=requestAnimationFrame(...n);s.add(()=>cancelAnimationFrame(l))},nextFrame(...n){s.requestAnimationFrame(()=>{s.requestAnimationFrame(...n)})},setTimeout(...n){let l=setTimeout(...n);s.add(()=>clearTimeout(l))},add(n){e.push(n)},dispose(){for(let n of e.splice(0))n()},async workQueue(){for(let n of t.splice(0))await n()}};return s}function Rs(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}var Ps=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Ps||{});let Je=Symbol("DialogContext");function Te(e){let t=te(Je,null);if(t===null){let s=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(s,Te),s}return t}let Ae="DC8F892D-2EBD-447C-A4C8-A03058436FF4",Vs=g({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Ae},initialFocus:{type:Object,default:null}},emits:{close:e=>!0},setup(e,{emit:t,attrs:s,slots:n,expose:l}){var a;let i=w(!1);P(()=>{i.value=!0});let u=w(0),d=wt(),p=_(()=>e.open===Ae&&d!==null?le(d.value,{[he.Open]:!0,[he.Closed]:!1}):e.open),$=w(new Set),y=w(null),T=w(null),C=_(()=>xe(y));if(l({el:y,$el:y}),!(e.open!==Ae||d!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof p.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${p.value===Ae?void 0:e.open}`);let I=_(()=>i.value&&p.value?0:1),K=_(()=>I.value===0),Q=_(()=>u.value>1),J=te(Je,null)!==null,F=_(()=>Q.value?"parent":"leaf");Ls(y,_(()=>Q.value?K.value:!1)),Bs({type:"Dialog",enabled:_(()=>I.value===0),element:y,onUpdate:(A,O,j)=>{if(O==="Dialog")return le(A,{[Ke.Add](){$.value.add(j),u.value+=1},[Ke.Remove](){$.value.delete(j),u.value-=1}})}});let E=Ms({name:"DialogDescription",slot:_(()=>({open:p.value}))}),se=`headlessui-dialog-${ve()}`,M=w(null),z={titleId:M,panelRef:w(null),dialogState:I,setTitleId(A){M.value!==A&&(M.value=A)},close(){t("close",!1)}};return ae(Je,z),is(()=>{var A,O,j;return[...Array.from((O=(A=C.value)==null?void 0:A.querySelectorAll("body > *, [data-headlessui-portal]"))!=null?O:[]).filter(W=>!(!(W instanceof HTMLElement)||W.contains(de(T))||z.panelRef.value&&W.contains(z.panelRef.value))),(j=z.panelRef.value)!=null?j:y.value]},(A,O)=>{z.close(),gt(()=>O==null?void 0:O.focus())},_(()=>I.value===0&&!Q.value)),At((a=C.value)==null?void 0:a.defaultView,"keydown",A=>{A.defaultPrevented||A.key===rs.Escape&&I.value===0&&(Q.value||(A.preventDefault(),A.stopPropagation(),z.close()))}),Y(A=>{var O;if(I.value!==0||J)return;let j=C.value;if(!j)return;let W=tt();function L(G,V,me){let X=G.style.getPropertyValue(V);return Object.assign(G.style,{[V]:me}),W.add(()=>{Object.assign(G.style,{[V]:X})})}let U=j==null?void 0:j.documentElement,pe=((O=j.defaultView)!=null?O:window).innerWidth-U.clientWidth;if(L(U,"overflow","hidden"),pe>0){let G=U.clientWidth-U.offsetWidth,V=pe-G;L(U,"paddingRight",`${V}px`)}if(Rs()){let G=window.pageYOffset;L(U,"position","fixed"),L(U,"marginTop",`-${G}px`),L(U,"width","100%"),W.add(()=>window.scrollTo(0,G))}A(W.dispose)}),Y(A=>{if(I.value!==0)return;let O=de(y);if(!O)return;let j=new IntersectionObserver(W=>{for(let L of W)L.boundingClientRect.x===0&&L.boundingClientRect.y===0&&L.boundingClientRect.width===0&&L.boundingClientRect.height===0&&z.close()});j.observe(O),A(()=>j.disconnect())}),()=>{let A={...s,ref:y,id:se,role:"dialog","aria-modal":I.value===0?!0:void 0,"aria-labelledby":M.value,"aria-describedby":E.value},{open:O,initialFocus:j,...W}=e,L={open:I.value===0};return H(Ge,{force:!0},()=>[H(Ot,()=>H(Ws,{target:y.value},()=>H(Ge,{force:!1},()=>H(ye,{initialFocus:j,containers:$,features:K.value?le(F.value,{parent:ye.features.RestoreFocus,leaf:ye.features.All&~ye.features.FocusLock}):ye.features.None},()=>N({ourProps:A,theirProps:W,slot:L,attrs:s,slots:n,visible:I.value===0,features:Ne.RenderStrategy|Ne.Static,name:"Dialog"}))))),H(ze,{features:Fe.Hidden,ref:T})])}}});g({name:"DialogOverlay",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:s}){let n=Te("DialogOverlay"),l=`headlessui-dialog-overlay-${ve()}`;function a(i){i.target===i.currentTarget&&(i.preventDefault(),i.stopPropagation(),n.close())}return()=>N({ourProps:{id:l,"aria-hidden":!0,onClick:a},theirProps:e,slot:{open:n.dialogState.value===0},attrs:t,slots:s,name:"DialogOverlay"})}});g({name:"DialogBackdrop",props:{as:{type:[Object,String],default:"div"}},inheritAttrs:!1,setup(e,{attrs:t,slots:s,expose:n}){let l=Te("DialogBackdrop"),a=`headlessui-dialog-backdrop-${ve()}`,i=w(null);return n({el:i,$el:i}),P(()=>{if(l.panelRef.value===null)throw new Error("A <DialogBackdrop /> component is being used, but a <DialogPanel /> component is missing.")}),()=>{let u=e,d={id:a,ref:i,"aria-hidden":!0};return H(Ge,{force:!0},()=>H(Ot,()=>N({ourProps:d,theirProps:{...t,...u},slot:{open:l.dialogState.value===0},attrs:t,slots:s,name:"DialogBackdrop"})))}}});let Hs=g({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"}},setup(e,{attrs:t,slots:s,expose:n}){let l=Te("DialogPanel"),a=`headlessui-dialog-panel-${ve()}`;n({el:l.panelRef,$el:l.panelRef});function i(u){u.stopPropagation()}return()=>{let u={id:a,ref:l.panelRef,onClick:i};return N({ourProps:u,theirProps:e,slot:{open:l.dialogState.value===0},attrs:t,slots:s,name:"DialogPanel"})}}}),Ns=g({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"}},setup(e,{attrs:t,slots:s}){let n=Te("DialogTitle"),l=`headlessui-dialog-title-${ve()}`;return P(()=>{n.setTitleId(l),oe(()=>n.setTitleId(null))}),()=>N({ourProps:{id:l},theirProps:e,slot:{open:n.dialogState.value===0},attrs:t,slots:s,name:"DialogTitle"})}});function zs(e){let t={called:!1};return(...s)=>{if(!t.called)return t.called=!0,e(...s)}}function Ve(e,...t){e&&t.length>0&&e.classList.add(...t)}function Se(e,...t){e&&t.length>0&&e.classList.remove(...t)}var Qe=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(Qe||{});function Us(e,t){let s=tt();if(!e)return s.dispose;let{transitionDuration:n,transitionDelay:l}=getComputedStyle(e),[a,i]=[n,l].map(u=>{let[d=0]=u.split(",").filter(Boolean).map(p=>p.includes("ms")?parseFloat(p):parseFloat(p)*1e3).sort((p,$)=>$-p);return d});return a!==0?s.setTimeout(()=>t("finished"),a+i):t("finished"),s.add(()=>t("cancelled")),s.dispose}function dt(e,t,s,n,l,a){let i=tt(),u=a!==void 0?zs(a):()=>{};return Se(e,...l),Ve(e,...t,...s),i.nextFrame(()=>{Se(e,...s),Ve(e,...n),i.add(Us(e,d=>(Se(e,...n,...t),Ve(e,...l),u(d))))}),i.add(()=>Se(e,...t,...s,...n,...l)),i.add(()=>u("cancelled")),i.dispose}function re(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let st=Symbol("TransitionContext");var Gs=(e=>(e.Visible="visible",e.Hidden="hidden",e))(Gs||{});function Ks(){return te(st,null)!==null}function Js(){let e=te(st,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function Qs(){let e=te(nt,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let nt=Symbol("NestingContext");function qe(e){return"children"in e?qe(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function Wt(e){let t=w([]),s=w(!1);P(()=>s.value=!0),oe(()=>s.value=!1);function n(a,i=ue.Hidden){let u=t.value.findIndex(({id:d})=>d===a);u!==-1&&(le(i,{[ue.Unmount](){t.value.splice(u,1)},[ue.Hidden](){t.value[u].state="hidden"}}),!qe(t)&&s.value&&(e==null||e()))}function l(a){let i=t.value.find(({id:u})=>u===a);return i?i.state!=="visible"&&(i.state="visible"):t.value.push({id:a,state:"visible"}),()=>n(a,ue.Unmount)}return{children:t,register:l,unregister:n}}let qt=Ne.RenderStrategy,Ye=g({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:s,slots:n,expose:l}){if(!Ks()&&us())return()=>H(Bt,{...e,onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave")},n);let a=w(null),i=w("visible"),u=_(()=>e.unmount?ue.Unmount:ue.Hidden);l({el:a,$el:a});let{show:d,appear:p}=Js(),{register:$,unregister:y}=Qs(),T={value:!0},C=ve(),I={value:!1},K=Wt(()=>{I.value||(i.value="hidden",y(C),t("afterLeave"))});P(()=>{let O=$(C);oe(O)}),Y(()=>{if(u.value===ue.Hidden&&!!C){if(d&&i.value!=="visible"){i.value="visible";return}le(i.value,{hidden:()=>y(C),visible:()=>$(C)})}});let Q=re(e.enter),J=re(e.enterFrom),F=re(e.enterTo),E=re(e.entered),se=re(e.leave),M=re(e.leaveFrom),z=re(e.leaveTo);P(()=>{Y(()=>{if(i.value==="visible"){let O=de(a);if(O instanceof Comment&&O.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function A(O){let j=T.value&&!p.value,W=de(a);!W||!(W instanceof HTMLElement)||j||(I.value=!0,d.value&&t("beforeEnter"),d.value||t("beforeLeave"),O(d.value?dt(W,Q,J,F,E,L=>{I.value=!1,L===Qe.Finished&&t("afterEnter")}):dt(W,se,M,z,E,L=>{I.value=!1,L===Qe.Finished&&(qe(K)||(i.value="hidden",y(C),t("afterLeave")))})))}return P(()=>{Z([d],(O,j,W)=>{A(W),T.value=!1},{immediate:!0})}),ae(nt,K),cs(_(()=>le(i.value,{visible:he.Open,hidden:he.Closed}))),()=>{let{appear:O,show:j,enter:W,enterFrom:L,enterTo:U,entered:pe,leave:G,leaveFrom:V,leaveTo:me,...X}=e;return N({theirProps:X,ourProps:{ref:a},slot:{},slots:n,attrs:s,features:qt,visible:i.value==="visible",name:"TransitionChild"})}}}),Ys=Ye,Bt=g({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:s,slots:n}){let l=wt(),a=_(()=>e.show===null&&l!==null?le(l.value,{[he.Open]:!0,[he.Closed]:!1}):e.show);Y(()=>{if(![!0,!1].includes(a.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let i=w(a.value?"visible":"hidden"),u=Wt(()=>{i.value="hidden"}),d=w(!0),p={show:a,appear:_(()=>e.appear||!d.value)};return P(()=>{Y(()=>{d.value=!1,a.value?i.value="visible":qe(u)||(i.value="hidden")})}),ae(nt,u),ae(st,p),()=>{let $=ds(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),y={unmount:e.unmount};return N({ourProps:{...y,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[H(Ys,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...s,...y,...$},n.default)]},attrs:{},features:qt,visible:i.value==="visible",name:"Transition"})}}});const Zs={},Xs={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},en=v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 15.75l7.5-7.5 7.5 7.5"},null,-1),tn=[en];function sn(e,t){return o(),r("svg",Xs,tn)}const lt=h(Zs,[["render",sn],["__file","/opt/elevator/assets/elevator-ui/src/icons/ChevronUpIcon.vue"]]),nn={},ln={viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5",class:"w-6 h-6",xmlns:"http://www.w3.org/2000/svg"},an=v("circle",{cx:"12",cy:"12",r:"9"},null,-1),on=[an];function rn(e,t){return o(),r("svg",ln,on)}const un=h(nn,[["render",rn],["__file","/opt/elevator/assets/elevator-ui/src/icons/CircleIcon.vue"]]),cn={},dn={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},fn=v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),vn=[fn];function pn(e,t){return o(),r("svg",dn,vn)}const mn=h(cn,[["render",pn],["__file","/opt/elevator/assets/elevator-ui/src/icons/DownloadIcon.vue"]]),_n={},gn={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},hn=v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"},null,-1),yn=[hn];function wn(e,t){return o(),r("svg",gn,yn)}const bn=h(_n,[["render",wn],["__file","/opt/elevator/assets/elevator-ui/src/icons/PlusIcon.vue"]]),xn={},$n={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},kn=v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z"},null,-1),Tn=[kn];function In(e,t){return o(),r("svg",$n,Tn)}const Cn=h(xn,[["render",In],["__file","/opt/elevator/assets/elevator-ui/src/icons/ShareIcon.vue"]]),An={},Sn={class:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Dn=v("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),On=v("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),Ln=[Dn,On];function Fn(e,t){return o(),r("svg",Sn,Ln)}const jn=h(An,[["render",Fn],["__file","/opt/elevator/assets/elevator-ui/src/icons/SpinnerIcon.vue"]]),Wn=v("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity"},null,-1),qn={class:"fixed inset-0 z-10 overflow-y-auto"},Bn={class:"flex min-h-full items-end justify-center p-4 text-center sm:items-center sm:p-0"},En={class:"sm:flex sm:items-start"},Mn=v("div",{class:"mx-auto flex h-12 w-12 flex-shrink-0 items-center justify-center rounded-full bg-blue-100 text-blue-600 sm:mx-0 sm:h-10 sm:w-10"},[v("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[v("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})])],-1),Rn={class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},Pn={class:"mt-2"},Vn={class:"text-sm text-gray-500"},Hn={class:"mt-5 sm:mt-4 sm:flex sm:flex-row-reverse"},Nn=g({__name:"ConfirmModal",props:{isOpen:{type:Boolean,required:!0},label:{type:String,required:!0}},emits:["close","confirm"],setup(e){return(t,s)=>(o(),b(c(Bt),{as:"template",show:e.isOpen},{default:m(()=>[f(c(Vs),{as:"div",class:"relative z-10",onClose:s[2]||(s[2]=n=>t.$emit("close"))},{default:m(()=>[f(c(Ye),{as:"template",enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"},{default:m(()=>[Wn]),_:1}),v("div",qn,[v("div",Bn,[f(c(Ye),{as:"template",enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"},{default:m(()=>[f(c(Hs),{class:"relative transform overflow-hidden rounded-lg bg-white px-4 pt-5 pb-4 text-left shadow-xl transition-all sm:my-8 sm:w-full sm:max-w-lg sm:p-6"},{default:m(()=>[v("div",En,[Mn,v("div",Rn,[f(c(Ns),{as:"h3",class:"text-lg font-medium leading-6 text-gray-900"},{default:m(()=>[S(k(e.label),1)]),_:1}),v("div",Pn,[v("p",Vn,[B(t.$slots,"default")])])])]),v("div",Hn,[v("button",{type:"button",class:"inline-flex w-full justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-base font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:ml-3 sm:w-auto sm:text-sm",onClick:s[0]||(s[0]=n=>{t.$emit("confirm"),t.$emit("close")})}," Confirm "),v("button",{ref:"cancelButtonRef",type:"button",class:"mt-3 inline-flex w-full justify-center rounded-md border border-gray-300 bg-white px-4 py-2 text-base font-medium text-gray-700 shadow-sm hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:mt-0 sm:w-auto sm:text-sm",onClick:s[1]||(s[1]=n=>t.$emit("close"))}," Cancel ",512)])]),_:3})]),_:3})])])]),_:3})]),_:3},8,["show"]))}}),zn=h(Nn,[["__file","/opt/elevator/assets/elevator-ui/src/components/ConfirmModal/ConfirmModal.vue"]]);function Et(){const e=Pe("returnURL",null),t=Pe("elevatorPlugin",null),s=_(()=>!!t.value),n=Pe("elevatorCallbackType",null);function l(){e.value=null,t.value=null,n.value=null}return{returnUrl:e,isInEmbedMode:s,elevatorPlugin:t,elevatorCallbackType:n,clear:l}}const Un={key:0,class:"object-viewer__button-bar flex justify-end items-center gap-2 p-2"},Gn=["innerHTML"],Kn={key:1},Jn=["action"],Qn=v("input",{type:"hidden",name:"lti_version",value:"LTI-1p0"},null,-1),Yn=v("input",{type:"hidden",name:"lti_message_type",value:"ContentItemSelection"},null,-1),Zn=["value"],Xn=g({__name:"AddToEmbeddedPluginButton",props:{fileHandlerId:{type:[String,null],required:!0}},setup(e){const t=e,s=ie(),{elevatorPlugin:n,elevatorCallbackType:l,returnUrl:a,clear:i}=Et(),u=w(null),d=w(!1),p=w(null),$=w(!1),y=w("idle"),T=w("");P(async()=>{p.value=await fe.getEmbedPluginInterstitial()}),window.addEventListener("beforeunload",()=>i());async function C(){if(y.value="loading",!p.value)throw y.value="error",new Error("Interstitial not loaded");if(p.value.haveInterstitial){d.value=!0;return}$.value=!0}function I(){d.value=!1,y.value="idle"}function K(){d.value=!1,$.value=!0}async function Q(){var J;if(!t.fileHandlerId)throw y.value="error",new Error("File handler ID not set");if(l.value==="lti"){const F=await fe.postLtiPayload({fileObjectId:t.fileHandlerId,excerptId:"",returnUrl:(J=a.value)!=null?J:""});T.value=JSON.stringify(F),gt(()=>{if(!u.value)throw y.value="error",new Error("Return form not set");u.value.submit(),y.value="success"})}l.value==="JS"&&(window.opener.postMessage({pluginResponse:!0,fileObjectId:s.activeFileObjectId,objectId:s.activeObjectId,currentLink:window.location.href},"*"),y.value="success",window.close())}return Z($,Q),(J,F)=>{var E;return c(n)?(o(),r("div",Un,[f($e,{class:"block text-xs p-2 uppercase font-bold",variant:"primary",onClick:C},{default:m(()=>[y.value==="idle"?(o(),b(bn,{key:0})):x("v-if",!0),y.value==="loading"?(o(),b(jn,{key:1})):x("v-if",!0),y.value==="success"?(o(),b(xt,{key:2})):x("v-if",!0),y.value==="error"?(o(),b(fs,{key:3})):x("v-if",!0),S(" Add to "+k(c(n)),1)]),_:1}),f(zn,{isOpen:d.value,label:`Add to ${c(n)}`,onClose:I,onConfirm:K},{default:m(()=>{var se,M;return[(se=p.value)!=null&&se.interstitialText?(o(),r("div",{key:0,innerHTML:(M=p.value)==null?void 0:M.interstitialText},null,8,Gn)):(o(),r("p",Kn,"Are you sure you want to add this to "+k(c(n))+"?",1))]}),_:1},8,["isOpen","label"]),c(l)=="lti"?(o(),r("form",{key:0,ref_key:"returnForm",ref:u,action:(E=c(a))!=null?E:"",method:"POST"},[Qn,Yn,v("input",{type:"hidden",name:"content_items",value:T.value},null,8,Zn)],8,Jn)):x("v-if",!0)])):x("v-if",!0)}}}),el=h(Xn,[["__file","/opt/elevator/assets/elevator-ui/src/components/ObjectViewer/AddToEmbeddedPluginButton.vue"]]),tl={class:"object-viewer relative flex flex-col"},sl=v("h2",{class:"sr-only"},"Object Viewer",-1),nl=["src"],ll={key:2,class:"w-full h-full min-h-[20rem] bg-neutral-400 place-items-center p-8"},al=v("p",null,"No asset file found.",-1),ol={class:"text-sm"},il=g({__name:"ObjectViewer",props:{fileHandlerId:{type:[String,null],required:!0}},setup(e){const{isInEmbedMode:t}=Et();return(s,n)=>{var l;return o(),r("section",tl,[sl,c(t)?(o(),b(el,{key:0,fileHandlerId:e.fileHandlerId},null,8,["fileHandlerId"])):x("v-if",!0),e.fileHandlerId?(o(),r("iframe",{key:1,class:"object-viewer__iframe w-full flex-1",src:`${c(ce).instance.base.url}/asset/getEmbed/${e.fileHandlerId}`,frameBorder:"0",allowfullscreen:"true"},null,8,nl)):(o(),r("div",ll,[al,v("code",ol,"FileHandlerId: "+k((l=e.fileHandlerId)!=null?l:"null"),1)]))])}}}),rl=h(il,[["__file","/opt/elevator/assets/elevator-ui/src/components/ObjectViewer/ObjectViewer.vue"]]),ul=["title"],cl=["innerHTML"],dl=g({__name:"DrawerLabel",props:{label:{type:String,required:!0}},setup(e){return(t,s)=>(o(),r("h1",{class:"header-label font-bold relative text-left",title:e.label},[x(" eslint-disable-next-line vue/no-v-html "),v("span",{class:"min-w-0 block",innerHTML:e.label},null,8,cl)],8,ul))}}),Mt=h(dl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Drawer/DrawerLabel.vue"]]),fl={class:"panel flex flex-col overflow-auto"},vl=["disabled"],pl={key:0},ml={class:"panel__header-utils"},_l={class:"panel__body flex flex-col gap-6 px-4 md:p-8 flex-1"},gl=g({__name:"Drawer",props:{label:{type:String,required:!0},isOpen:{type:Boolean,required:!1,default:!0},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){return(t,s)=>(o(),r("section",fl,[v("header",{class:ee(["panel__header flex items-center sticky top-0 left-0 justify-between z-10 backdrop-blur-[2px]",{"h-full":!e.isOpen}])},[v("button",{disabled:!e.showToggle,class:"flex items-center p-4 leading-tight gap-4 flex-1",onClick:s[0]||(s[0]=n=>t.$emit("toggle"))},[e.showToggle?(o(),r("span",pl,[e.isOpen?(o(),b(et,{key:0,class:"w-5 h-5"})):x("v-if",!0),e.isOpen?x("v-if",!0):(o(),b(lt,{key:1,class:"w-5 h-5"}))])):x("v-if",!0),B(t.$slots,"header-label",{},()=>[f(Mt,{label:e.label,isOpen:e.isOpen},null,8,["label","isOpen"])],!0)],8,vl),v("div",ml,[B(t.$slots,"header-utils",{},void 0,!0)])],2),Jt(v("div",_l,[B(t.$slots,"default",{},void 0,!0)],512),[[Qt,e.isOpen]])]))}});const Rt=h(gl,[["__scopeId","data-v-196de012"],["__file","/opt/elevator/assets/elevator-ui/src/components/Drawer/Drawer.vue"]]),hl={class:"tuple__label"},yl=S(" - "),wl={inheritAttrs:!1},bl=g({...wl,__name:"Tuple",props:{label:{type:String,required:!0},variant:{type:String,required:!1,default:"stacked"}},setup(e){return(t,s)=>(o(),r("div",{class:ee(["tuple",{"w-full":e.variant==="stacked","inline-flex items-baseline gap-2":e.variant==="inline"}])},[v("div",hl,[B(t.$slots,"label",{},()=>[v("span",{class:ee(["text-xs block uppercase leading-none mb-1 tracking-wide",{"font-bold":e.variant==="stacked","sr-only":e.variant==="value-only"}])},k(e.label),3)],!0)]),v("span",Yt({class:"tuple__value block"},t.$attrs),[B(t.$slots,"default",{},()=>[yl],!0)],16)],2))}});const R=h(bl,[["__scopeId","data-v-c598533c"],["__file","/opt/elevator/assets/elevator-ui/src/components/Tuple/Tuple.vue"]]),xl={key:0},$l=["href"],kl={key:1},Tl=g({__name:"ClickToSearchLink",props:{linkText:{type:String,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,s=_(()=>$t(t.linkText,t.widget));return(n,l)=>t.widget.clickToSearch?(o(),r("span",xl,[v("a",{href:c(s)},[B(n.$slots,"default")],8,$l)])):(o(),r("span",kl,[B(n.$slots,"default")]))}}),Be=h(Tl,[["__file","/opt/elevator/assets/elevator-ui/src/components/ClickToSearchLink/ClickToSearchLink.vue"]]),Il=["innerHTML"],Cl=g({__name:"TextWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){function t(s){return s.replace(/(<([^>]+)>)/gi,"")!=s?s:s.replace(/(https?:\/\/[a-zA-Z0-9\-_.:@!~*'(¥);/?&=+$,%#]+)/g,'<a href="$1" target="_blank">$1</a>')}return(s,n)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(l,a)=>(o(),r("li",{key:a},[f(Be,{widget:e.widget,linkText:l.fieldContents},{default:m(()=>[v("span",{innerHTML:t(l.fieldContents)},null,8,Il)]),_:2},1032,["widget","linkText"])]))),128))]))}}),Al=h(Cl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextWidget/TextWidget.vue"]]),Sl=["innerHTML"],Dl=g({__name:"SelectItem",props:{selectValues:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,s=_(()=>typeof t.selectValues.fieldContents=="string"?[t.selectValues.fieldContents]:t.selectValues.fieldContents);function n(l){var a,i;return(a=t.widget.fieldData.selectGroup)!=null&&a.hasOwnProperty(l)?(i=t.widget.fieldData)==null?void 0:i.selectGroup[l]:l}return(l,a)=>(o(!0),r(D,null,q(c(s),(i,u)=>(o(),r("li",{key:u},[f(Be,{widget:e.widget,linkText:n(i)},{default:m(()=>[v("div",{innerHTML:n(i)},null,8,Sl)]),_:2},1032,["widget","linkText"])]))),128))}}),Ol=h(Dl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/SelectWidget/SelectItem.vue"]]),Ll=g({__name:"SelectWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),b(Ol,{key:l,selectValues:n,widget:e.widget},null,8,["selectValues","widget"]))),128))]))}}),Fl=h(Ll,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/SelectWidget/SelectWidget.vue"]]),jl=g({__name:"CheckBoxWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),r("li",{key:l},[n.fieldContents==!0?(o(),b(xt,{key:0})):(o(),b(un,{key:1}))]))),128))]))}}),Wl=h(jl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/CheckBoxWidget/CheckBoxWidget.vue"]]);/**
  shave - Shave is a javascript plugin that truncates multi-line text within a html element based on set max height
  @version v5.0.0
  @link https://github.com/yowainwright/shave#readme
  @author Jeff Wainwright <yowainwright@gmail.com> (jeffry.in)
  @license MIT
**/function ft(e,t){var s=typeof Symbol=="function"&&e[Symbol.iterator];if(!s)return e;var n=s.call(e),l,a=[],i;try{for(;(t===void 0||t-- >0)&&!(l=n.next()).done;)a.push(l.value)}catch(u){i={error:u}}finally{try{l&&!l.done&&(s=n.return)&&s.call(n)}finally{if(i)throw i.error}}return a}function vt(e,t,s){if(s||arguments.length===2)for(var n=0,l=t.length,a;n<l;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}function ql(e){return typeof e=="string"?vt([],ft(document.querySelectorAll(e)),!1):"length"in e?vt([],ft(e),!1):[e]}function Bl(e,t,s){if(s===void 0&&(s={}),typeof t>"u"||isNaN(t))throw Error("maxHeight is required");var n=ql(e);if(!!n.length)for(var l=s.character,a=l===void 0?"\u2026":l,i=s.classname,u=i===void 0?"js-shave":i,d=s.spaces,p=d===void 0?!0:d,$=s.charclassname,y=$===void 0?"js-shave-char":$,T=s.link,C=T===void 0?{}:T,I=typeof p=="boolean"?p:!0,K=C&&JSON.stringify(C)!=="{}"&&C.href,Q=K?"a":"span",J=0;J<n.length;J+=1){var F=n[J],E=F.style,se=F.querySelector("."+u),M=F.textContent===void 0?"innerText":"textContent";se&&(F.removeChild(F.querySelector("."+y)),F[M]=F[M]);var z=F[M],A=I?z.split(" "):z;if(!(A.length<2)){var O=E.height;E.height="auto";var j=E.maxHeight;if(E.maxHeight="none",F.offsetHeight<=t){E.height=O,E.maxHeight=j;continue}var W=K&&C.textContent?C.textContent:a,L=document.createElement(Q),U={className:y,textContent:W};for(var pe in U)L[pe]=U[pe],L.textContent=a;if(K)for(var G in C)L[G]=C[G];for(var V=A.length-1,me=0,X=void 0;me<V;)X=me+V+1>>1,F[M]=I?A.slice(0,X).join(" "):A.slice(0,X),F.insertAdjacentElement("beforeend",L),F.offsetHeight>t?V=X-1:me=X;F[M]=I?A.slice(0,V).join(" "):A.slice(0,V),F.insertAdjacentElement("beforeend",L);var zt=I?" ".concat(A.slice(V).join(" ")):A.slice(V),Ut=document.createTextNode(zt),Ce=document.createElement("span");Ce.classList.add(u),Ce.style.display="none",Ce.appendChild(Ut),F.insertAdjacentElement("beforeend",Ce),E.height=O,E.maxHeight=j}}}const El=["innerHTML"],Ml=["innerHTML"],Rl=g({__name:"TextAreaItem",props:{fieldContents:{type:String,required:!0},widget:{type:null,required:!0},textTruncationLength:{type:Number,required:!1,default:75}},setup(e){const t=e,s=w(!1),n=w(null),l=w(!1),a=ps(()=>{i()},50);function i(){!n.value||(Bl([n.value],t.textTruncationLength),l.value=n.value.querySelector(".js-shave")!==null)}return vs(n,a),P(()=>{i()}),(u,d)=>(o(),r(D,null,[s.value?x("v-if",!0):(o(),r("div",{key:0,ref_key:"truncateText",ref:n,innerHTML:e.fieldContents},null,8,El)),s.value?(o(),r("div",{key:1,innerHTML:e.fieldContents},null,8,Ml)):x("v-if",!0),l.value?(o(),r("button",{key:2,class:"flex items-center uppercase text-xs text-blue-600",onClick:d[0]||(d[0]=p=>s.value=!s.value)},[S(" Show "+k(s.value?"Less":"More")+" ",1),s.value?(o(),b(lt,{key:0})):(o(),b(et,{key:1}))])):x("v-if",!0)],64))}}),Pl=h(Rl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextAreaWidget/TextAreaItem.vue"]]),Vl={class:"text-area-widget flex flex-col gap-4"},Hl=g({__name:"TextAreaWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",Vl,[(o(!0),r(D,null,q(e.contents,(n,l)=>{var a;return o(),r("li",{key:l},[f(Pl,{widget:e.widget,fieldContents:(a=n.fieldContents)!=null?a:""},null,8,["widget","fieldContents"])])}),128))]))}}),Nl=h(Hl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TextAreaWidget/TextAreaWidget.vue"]]),zl=g({__name:"DateWidgetItem",props:{dateContent:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,s=_(()=>{let n="";return n+=t.dateContent.start.text,t.dateContent.range&&(n+=" - "+t.dateContent.end.text),n});return(n,l)=>(o(),b(Be,{widget:e.widget,linkText:c(s)},{default:m(()=>[e.dateContent.label?(o(),b(R,{key:0,label:e.dateContent.label,variant:"inline"},{default:m(()=>[S(k(c(s)),1)]),_:1},8,["label"])):(o(),r(D,{key:1},[S(k(c(s)),1)],64))]),_:1},8,["widget","linkText"]))}}),Ul=h(zl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/DateWidget/DateWidgetItem.vue"]]),Gl=g({__name:"DateWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),r("li",{key:l},[f(Ul,{dateContent:n,widget:e.widget},null,8,["dateContent","widget"])]))),128))]))}}),Kl=h(Gl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/DateWidget/DateWidget.vue"]]),Pt=(e,t)=>{let s=[];for(const n in e)t||s.push(n),typeof e[n]=="object"&&(s=s.concat(Pt(e[n],!t)));return s.flat()},Jl=e=>e.filter((t,s,n)=>n.indexOf(t)===s),Ql={key:0},Yl=g({__name:"MultiSelectItem",props:{widget:{type:null,required:!0},content:{type:null,required:!0}},setup(e){const t=e,s=_(()=>Jl(Pt(t.widget.fieldData,!1)).map(n)),n=a=>a.replace(/[^a-zA-Z0-9]+/,""),l=a=>{const i=[];for(const u of s.value)if(i.push(t.content.fieldContents[u]),u==a)return i.join(" : ");return i.join(" : ")};return(a,i)=>(o(),r("ul",null,[(o(!0),r(D,null,q(c(s),u=>(o(),r(D,{key:u},[e.content.fieldContents[u]?(o(),r("li",Ql,[f(Be,{widget:e.widget,linkText:l(u)},{default:m(()=>[S(k(e.content.fieldContents[u]),1)]),_:2},1032,["widget","linkText"])])):x("v-if",!0)],64))),128))]))}});const Zl=h(Yl,[["__scopeId","data-v-443bc765"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/MultiSelectWidget/MultiSelectItem.vue"]]),Xl=g({__name:"MultiSelectWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),r("li",{key:l},[f(Zl,{widget:e.widget,content:n},null,8,["widget","content"])]))),128))]))}}),ea=h(Xl,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/MultiSelectWidget/MultiSelectWidget.vue"]]),ta={class:"accordion w-full mt-2 overflow-hidden rounded"},sa=["label"],na={class:"place-items-center flex p-4"},la={key:0,class:"accordion__body flex flex-col gap-4 px-4 pt-2 pb-4 border-t"},aa=g({__name:"Accordion",props:{label:{type:String,required:!1,default:"-"}},emits:["toggle","open"],setup(e,{emit:t}){const s=w(!1);function n(){s.value=!s.value,t("toggle"),s.value&&t("open")}return(l,a)=>(o(),r("div",ta,[v("button",{class:"accordion__header flex items-center justify-between w-full gap-2 border-none rounded-b-none",label:s.value?"close":"open",onClick:n},[B(l.$slots,"label",{},()=>[v("span",{class:ee(["flex-1 block p-4 text-left",{"font-bold ":s.value,"font-normal":!s.value}])},k(e.label),3)],!0),v("div",na,[B(l.$slots,"label-icon",{},()=>[s.value?(o(),b(lt,{key:0,class:"w-5 h-5"})):(o(),b(et,{key:1,class:"w-5 h-5"}))],!0)])],8,sa),s.value?(o(),r("div",la,[B(l.$slots,"default",{},void 0,!0)])):x("v-if",!0)]))}});const at=h(aa,[["__scopeId","data-v-1340043d"],["__file","/opt/elevator/assets/elevator-ui/src/components/Accordion/Accordion.vue"]]),oa={key:0,class:"flex gap-6 p-4"},ia={key:1,class:"p-4"},ra={key:0,class:"w-min flex gap-4 my-4"},ua=S("Show Location"),ca={class:"w-min flex gap-4 my-4"},da=g({__name:"LocationItem",props:{locationContent:{type:null,required:!0},widget:{type:null,required:!0}},setup(e){const t=e,s=De(()=>Oe(()=>import("./Map.js"),["assets/Map.js","assets/Map.css","assets/index.js","assets/index.css","assets/AppHeader.js","assets/AppHeader.css","assets/mapConstants.js"])),n=De(()=>Oe(()=>import("./MapMarker.js"),["assets/MapMarker.js","assets/index.js","assets/index.css","assets/mapConstants.js","assets/AppHeader.js","assets/AppHeader.css"])),l=_(()=>{var T,C,I;return(I=(C=(T=t.locationContent.loc)==null?void 0:T.coordinates)==null?void 0:C[1])!=null?I:0}),a=_(()=>{var T,C,I;return(I=(C=(T=t.locationContent.loc)==null?void 0:T.coordinates)==null?void 0:C[0])!=null?I:0}),i=_(()=>a.value?a.value.toFixed(4):"-"),u=_(()=>l.value?l.value.toFixed(4):"-"),d=_(()=>({lng:a.value,lat:l.value})),p=_(()=>{var T;return(T=t.locationContent.locationLabel||t.locationContent.address)!=null?T:null}),$=_(()=>a.value!==0&&l.value!==0),y=w(!1);return(T,C)=>(o(),r(D,null,[f(at,null,{label:m(()=>[c(p)?(o(),r("span",ia,k(c(p)),1)):(o(),r("div",oa,[f(R,{label:"Latitude",class:"w-auto",variant:"inline"},{default:m(()=>[S(k(c(u)),1)]),_:1}),f(R,{label:"Longitude",class:"w-auto",variant:"inline"},{default:m(()=>[S(k(c(i)),1)]),_:1})]))]),default:m(()=>[c(p)?(o(),r("div",ra,[f(R,{label:"Latitude",class:"w-auto"},{default:m(()=>[S(k(c(u)),1)]),_:1}),f(R,{label:"Longitude",class:"w-auto"},{default:m(()=>[S(k(c(i)),1)]),_:1})])):x("v-if",!0),c($)?(o(),b($e,{key:1,icon:"map",iconPosition:"start",onClick:C[0]||(C[0]=I=>y.value=!0)},{default:m(()=>[ua]),_:1})):x("v-if",!0)]),_:1}),f(ke,{isOpen:y.value,label:c(p),onClose:C[1]||(C[1]=I=>y.value=!1)},{default:m(()=>[f(c(s),{center:c(d),zoom:10,mapStyle:"streets",apiKey:c(ce).arcgis.apiKey,class:"bg-neutral-100 p-1 rounded"},{default:m(()=>[f(c(n),{lng:c(d).lng,lat:c(d).lat},null,8,["lng","lat"])]),_:1},8,["center","apiKey"]),v("div",ca,[f(R,{label:"Latitude",class:"w-auto"},{default:m(()=>[S(k(c(u)),1)]),_:1}),f(R,{label:"Longitude",class:"w-auto"},{default:m(()=>[S(k(c(i)),1)]),_:1})])]),_:1},8,["isOpen","label"])],64))}}),fa=h(da,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/LocationWidget/LocationItem.vue"]]),va=g({__name:"LocationWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),r("li",{key:l},[f(fa,{widget:e.widget,locationContent:n},null,8,["widget","locationContent"])]))),128))]))}}),pa=h(va,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/LocationWidget/LocationWidget.vue"]]),ma={class:"upload-widget flex gap-2 flex-wrap"},_a=["onClick"],ga=g({__name:"UploadWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){const t=ie(),s=n=>t.activeFileObjectId===n;return(n,l)=>(o(),r("div",ma,[(o(!0),r(D,null,q(e.contents,(a,i)=>(o(),r("button",{key:i,onClick:u=>c(t).activeFileObjectId=a.fileId},[f(bt,{src:`${c(ce).instance.base.url}/fileManager/tinyImageByFileId/${a.fileId}/true`,alt:a.fileDescription,isActive:s(a.fileId),iconOnHover:"arrow_forward"},null,8,["src","alt","isActive"])],8,_a))),128))]))}}),ha=h(ga,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/UploadWidget/UploadWidget.vue"]]),ya={class:"flex gap-2"},wa=g({__name:"TagWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0}},setup(e){return(t,s)=>(o(),r("ul",null,[(o(!0),r(D,null,q(e.contents,(n,l)=>(o(),r("li",{key:l},[v("ul",ya,[(o(!0),r(D,null,q(n.tags,(a,i)=>(o(),r("li",{key:i},[f(It,{href:c($t)(a,e.widget)},{default:m(()=>[S(k(a),1)]),_:2},1032,["href"])]))),128))])]))),128))]))}}),ba=h(wa,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/TagWidget/TagWidget.vue"]]);function Ee(e){var t,s;return(s=(t=e==null?void 0:e.relatedAssetTitle)==null?void 0:t[0])!=null?s:"(No Title)"}const xa={class:"accordion-related-asset-widget-item w-full max-w-lg"},$a={key:0,class:"flex items-center flex-1 w-full gap-4 py-2 pl-2 pr-4"},ka=["src","alt"],Ta=g({__name:"AccordionRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,s=_(()=>Ee(t.assetCache));return(n,l)=>{var a;return o(),r("div",xa,[f(at,{label:c(s)},Zt({default:m(()=>[f(Ie,{assetId:e.assetId},null,8,["assetId"]),B(n.$slots,"default")]),_:2},[(a=e.assetCache)!=null&&a.primaryHandler?{name:"label",fn:m(()=>{var i;return[(i=e.assetCache)!=null&&i.primaryHandler?(o(),r("div",$a,[e.assetCache.primaryHandler?(o(),r("img",{key:0,src:c(kt)(e.assetCache.primaryHandler),alt:c(s),class:"aspect-square h-10 overflow-hidden rounded",loading:"lazy"},null,8,ka)):x("v-if",!0),v("h3",null,k(c(s)),1)])):x("v-if",!0)]}),key:"0"}:void 0]),1032,["label"])])}}}),Ia=h(Ta,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/AccordionRelatedAssetWidgetItem.vue"]]);function Me(e){const t=w(null),s=w(null),n=_(()=>t.value?We(t.value):"");async function l(){const{asset:a,template:i}=await fe.getAssetWithTemplate(e.value);t.value=a,s.value=i}return Z(e,l,{immediate:!0}),{asset:t,template:s,title:n}}const Ca={key:0,class:"collapsed-inline-related-asset-widget-item flex flex-col"},Aa=g({__name:"CollapsedInlineRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,s=_(()=>Ee(t.assetCache)),n=_(()=>t.assetId),{asset:l}=Me(n);return(a,i)=>c(l)?(o(),r("section",Ca,[v("h3",null,k(c(s)),1),f(Ie,{assetId:e.assetId},null,8,["assetId"])])):x("v-if",!0)}});const Sa=h(Aa,[["__scopeId","data-v-fd4a93b3"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/CollapsedInlineRelatedAssetWidgetItem.vue"]]),Da={class:"thumbnail-image__icon bg-transparent-white-500 backdrop-blur-sm top-1/2 left-1/2 group-hover:scale-100 absolute z-10 flex items-center justify-center w-12 h-12 transition-all scale-0 -translate-x-1/2 -translate-y-1/2 rounded-full"},Oa={class:"group-hover:scale-110 flex flex-col items-center justify-center transition-all"},La={class:"whitespace-nowrap text-ellipsis max-w-full px-2 overflow-hidden text-xs"},Fa=g({__name:"ThumbnailGeneric",props:{isActive:{type:Boolean,required:!1}},setup(e){return(t,s)=>(o(),r("div",{class:ee(["thumbnail-generic aspect-square hover:shadow-md border-transparent-black-200 hover:opacity-100 group relative inline-flex flex-col items-center justify-center w-24 transition-all border rounded shadow-sm opacity-75",{"thumbnail-generic--is-active ring ring-offset-1 ring-blue-600":e.isActive}])},[v("div",Da,[f($s,{class:"text-neutral-900"})]),v("div",Oa,[f(xs,{class:"thumbnail-generic__icon"}),v("div",La,[B(t.$slots,"default",{},void 0,!0)])])],2))}});const ja=h(Fa,[["__scopeId","data-v-bbbc8988"],["__file","/opt/elevator/assets/elevator-ui/src/components/ThumbnailGeneric/ThumbnailGeneric.vue"]]),Wa=g({__name:"ThumbnailRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,s=ie(),n=_(()=>Ee(t.assetCache)),l=_(()=>s.activeObjectId===t.assetId);return(a,i)=>{const u=Xt("RouterLink");return o(),b(u,{title:c(n),class:"thumbnail-related-asset-widget-image inline-flex",to:`#${e.assetId}`},{default:m(()=>[e.assetCache.primaryHandler?(o(),b(bt,{key:0,src:c(kt)(e.assetCache.primaryHandler),alt:c(n),isActive:c(l),iconOnHover:"arrow_forward"},null,8,["src","alt","isActive"])):(o(),b(ja,{key:1,isActive:c(l)},{default:m(()=>[S(k(c(n)),1)]),_:1},8,["isActive"]))]),_:1},8,["title","to"])}}});const qa=h(Wa,[["__scopeId","data-v-9a1162c8"],["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/ThumbnailRelatedAssetWidgetItem.vue"]]),Ba={class:"linked-related-asset-widget-item"},Ea=g({__name:"LinkedRelatedAssetWidgetItem",props:{assetId:{type:String,required:!0},assetCache:{type:null,required:!0}},setup(e){const t=e,s=_(()=>Ee(t.assetCache)),n=_(()=>Tt(t.assetId));return(l,a)=>(o(),r("div",Ba,[f(ms,{to:c(n)},{default:m(()=>[S(k(c(s)),1)]),_:1},8,["to"])]))}}),Ma=h(Ea,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/LinkedRelatedAssetWidgetItem.vue"]]),Ra={class:"related-asset-widget gap-2 flex flex-wrap w-full"},Pa={class:"flex items-center justify-end gap-2"},Va=g({__name:"RelatedAssetWidget",props:{widget:{type:null,required:!0},contents:{type:Array,required:!0},asset:{type:null,required:!0}},setup(e){const t=e,s=_(()=>t.widget.fieldData.collapseNestedChildren?Sa:t.widget.fieldData.thumbnailView?qa:t.widget.fieldData.nestData?Ia:Ma),n=_(()=>t.contents.filter(l=>!!l.targetAssetId));return(l,a)=>(o(),r("div",Ra,[(o(!0),r(D,null,q(c(n),i=>{var u,d;return o(),b(ht(c(s)),{key:i.targetAssetId,assetId:i.targetAssetId,assetCache:(u=e.asset.relatedAssetCache)==null?void 0:u[i.targetAssetId],label:(d=i.label)!=null?d:""},{default:m(()=>[v("div",Pa,[f(Ct,{to:`/asset/viewAsset/${i.targetAssetId}`},null,8,["to"])])]),_:2},1032,["assetId","assetCache","label"])}),128))]))}}),Ha=h(Va,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/RelatedAssetWidget/RelatedAssetWidget.vue"]]),Na=g({__name:"Widget",props:{widget:{type:null,required:!0},asset:{type:null,required:!0}},setup(e){const t=e,s=_(()=>ws({asset:t.asset,widget:t.widget})),n={text:Al,select:Fl,checkbox:Wl,"text area":Nl,date:Kl,multiselect:ea,location:pa,upload:ha,"tag list":ba,"related asset":Ha};function l(a){return n[a]||null}return(a,i)=>(o(),b(R,{label:e.widget.label},{default:m(()=>[l(e.widget.type)?(o(),b(ht(l(e.widget.type)),{key:0,widget:e.widget,contents:c(s),asset:e.asset},null,8,["widget","contents","asset"])):x("v-if",!0)]),_:1},8,["label"]))}}),za=h(Na,[["__file","/opt/elevator/assets/elevator-ui/src/components/Widget/Widget.vue"]]),Ua={key:0,class:"widget-list flex flex-col"},Ga=g({__name:"WidgetList",props:{assetId:{type:String,required:!0}},setup(e){const t=e,s=_(()=>t.assetId),{asset:n,template:l}=Me(s),a=_(()=>bs({asset:n.value,template:l.value}));return(i,u)=>(o(),b(es,{name:"fade"},{default:m(()=>[c(n)&&c(l)?(o(),r("div",Ua,[(o(!0),r(D,null,q(c(a),d=>(o(),b(za,{key:d.widgetId,widget:d,asset:c(n)},null,8,["widget","asset"]))),128))])):x("v-if",!0)]),_:1}))}});const Ie=h(Ga,[["__scopeId","data-v-2dd18f03"],["__file","/opt/elevator/assets/elevator-ui/src/components/WidgetList/WidgetList.vue"]]),Ka={},Ja={class:"p-2 flex items-center"};function Qa(e,t){return o(),r("button",Ja,[B(e.$slots,"default")])}const ot=h(Ka,[["render",Qa],["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ActiveFileViewButton.vue"]]),Ya={},Za={class:"rounded-md max-w-sm w-full py-4"},Xa=ts('<div class="animate-pulse flex space-x-4"><div class="flex-1 space-y-6 py-1"><div class="h-4 bg-neutral-300 rounded w-1/2"></div><div class="h-2 bg-neutral-300 rounded"></div><div class="space-y-3"><div class="grid grid-cols-3 gap-4"><div class="h-2 bg-neutral-300 rounded col-span-2"></div><div class="h-2 bg-neutral-300 rounded col-span-1"></div></div><div class="h-2 bg-neutral-50 rounded"></div></div></div></div>',1),eo=[Xa];function to(e,t){return o(),r("div",Za,eo)}const so=h(Ya,[["render",to],["__file","/opt/elevator/assets/elevator-ui/src/components/Skeleton/Skeleton.vue"]]),no={key:0},lo={key:1},ao={key:0},oo={key:1,class:"flex flex-col gap-6"},io={class:"bg-neutral-200 p-4 rounded-xl"},ro=v("h2",{class:"text-xl font-bold mt-6 border-t pt-6"},"EXIF Details",-1),uo={key:2},co=g({__name:"MoreFileInfoButton",setup(e){const t=De(()=>Oe(()=>import("./Map.js"),["assets/Map.js","assets/Map.css","assets/index.js","assets/index.css","assets/AppHeader.js","assets/AppHeader.css","assets/mapConstants.js"])),s=De(()=>Oe(()=>import("./MapMarker.js"),["assets/MapMarker.js","assets/index.js","assets/index.css","assets/mapConstants.js","assets/AppHeader.js","assets/AppHeader.css"])),n=w(!1),l=w(void 0),a=_(()=>l.value!==void 0),i=ie();async function u(){n.value=!n.value,l.value=void 0,l.value=await fe.getFileMetaData(i.activeFileObjectId)}return(d,p)=>(o(),r(D,null,[f(ot,{onClick:u},{default:m(()=>[f(ys)]),_:1}),f(ke,{label:"File Info",isOpen:n.value,class:"max-w-4xl m-auto",onClose:p[0]||(p[0]=$=>n.value=!1)},{default:m(()=>{var $;return[c(a)?x("v-if",!0):(o(),r("div",no,[(o(),r(D,null,q(10,y=>f(so,{key:y})),64))])),c(a)?(o(),r("div",lo,[l.value?x("v-if",!0):(o(),r("span",ao,"No meta data found.")),($=l.value)!=null&&$.exif?(o(),r("section",oo,[f(R,{label:"File Type"},{default:m(()=>[S(k(l.value.exif.File.FileType),1)]),_:1}),f(R,{label:"Original Name"},{default:m(()=>[S(k(l.value.sourcefile),1)]),_:1}),f(R,{label:"File Size"},{default:m(()=>[S(k(l.value.exif.File.FileSize),1)]),_:1}),f(R,{label:"Image Size"},{default:m(()=>[S(k(l.value.width)+"x"+k(l.value.height),1)]),_:1}),l.value.coordinates?(o(),b(R,{key:0,label:"Location"},{default:m(()=>[v("div",io,[f(c(t),{center:{lng:l.value.coordinates[0],lat:l.value.coordinates[1]},zoom:10,mapStyle:"streets",apiKey:c(ce).arcgis.apiKey,class:""},{default:m(()=>[f(c(s),{lng:l.value.coordinates[0],lat:l.value.coordinates[1]},null,8,["lng","lat"])]),_:1},8,["center","apiKey"])])]),_:1})):x("v-if",!0),ro,(o(!0),r(D,null,q(l.value.exif,(y,T)=>(o(),b(at,{key:T,label:T,class:"border mt-6"},{default:m(()=>[(o(!0),r(D,null,q(y,(C,I)=>(o(),b(R,{key:I,label:I},{default:m(()=>[S(k(C),1)]),_:2},1032,["label"]))),128))]),_:2},1032,["label"]))),128))])):(o(),r("section",uo,[(o(!0),r(D,null,q(l.value,(y,T)=>(o(),r("div",{key:T,class:"my-6"},[f(R,{label:T},{default:m(()=>[S(k(y),1)]),_:2},1032,["label"])]))),128))]))])):x("v-if",!0)]}),_:1},8,["isOpen"])],64))}}),fo=h(co,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/MoreFileInfoButton.vue"]]),vo={key:0},po={key:0},mo={key:1,class:"max-w-sm"},_o=["href"],go={class:"flex justify-between"},ho={class:"group-hover:underline"},yo=g({__name:"DownloadFileButton",setup(e){const t=ie(),s=w(!1),n=w(void 0),l=_(()=>n.value!==void 0);async function a(){s.value=!0,n.value=void 0,n.value=await fe.getFileDownloadInfo(t.activeFileObjectId,t.activeAssetId)}return(i,u)=>(o(),r(D,null,[f(ot,{onClick:a},{default:m(()=>[f(mn)]),_:1}),f(ke,{label:"File Downloads",isOpen:s.value,class:"max-w-sm",onClose:u[0]||(u[0]=d=>s.value=!1)},{default:m(()=>[c(l)?(o(),r("div",vo,[n.value?(o(),r("ul",mo,[(o(!0),r(D,null,q(n.value,d=>(o(),r(D,{key:d.filetype},[d.isReady||d.filetype==="original"?(o(),r("a",{key:0,href:d.url,class:"py-2 hover:bg-transparent-black-50 border-t last:border-b block hover:no-underline group"},[v("li",go,[v("span",ho,k(d.filetype),1),f(It,{class:"group-hover:bg-blue-100 group-hover:text-blue-600"},{default:m(()=>[S(k(d.extension),1)]),_:2},1024)])],8,_o)):x("v-if",!0)],64))),128))])):(o(),r("span",po,"No Downloads available"))])):x("v-if",!0)]),_:1},8,["isOpen"])],64))}}),wo=h(yo,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/DownloadFileButton.vue"]]),bo={class:"flex justify-between items-baseline"},xo={for:"share-embed",class:"block text-sm font-medium text-gray-700"},$o={class:"mt-1 flex rounded-md shadow-sm relative"},ko=["placeholder","value"],To=g({__name:"TextArea",props:{label:{type:String,required:!0},value:{type:String,required:!0},placeholder:{type:String,required:!1,default:""}},emits:["input"],setup(e){return(t,s)=>(o(),r("div",null,[v("div",bo,[B(t.$slots,"label",{},()=>[v("label",xo,k(e.label),1)]),v("div",null,[B(t.$slots,"corner")])]),v("div",$o,[v("textarea",{id:"share-embed",name:"share-embed",class:"block w-full rounded border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm p-2 font-mono text-neutral-500 focus:text-neutral-900 h-24",placeholder:e.placeholder,value:e.value,onInput:s[0]||(s[0]=n=>t.$emit("input",n))},null,40,ko)])]))}}),Io=h(To,[["__file","/opt/elevator/assets/elevator-ui/src/components/TextArea/TextArea.vue"]]),Co=g({__name:"CopyableTextArea",props:{label:{type:String,required:!0},value:{type:String,required:!0},placeholder:{type:String,required:!1,default:""}},setup(e){const s=ss(e,"value"),{copy:n,copied:l}=_s({source:s,copiedDuring:3e3});return(a,i)=>(o(),b(Io,{label:e.label,value:e.value,placeholder:e.placeholder},{corner:m(()=>[f($e,{icon:c(l)?"check":"content_copy",variant:"tertiary",onClick:i[0]||(i[0]=u=>c(n)())},{default:m(()=>[x(" eslint-disable-next-line vue/no-textarea-mustache"),S(k(c(l)?"Copied":"Copy"),1)]),_:1},8,["icon"])]),_:1},8,["label","value","placeholder"]))}}),pt=h(Co,[["__file","/opt/elevator/assets/elevator-ui/src/components/CopyableTextArea/CopyableTextArea.vue"]]),Ao={class:"flex flex-col gap-4"},So=S("Open Viewer in New Window"),Do=g({__name:"ShareButton",setup(e){const t=ie(),s=i=>i.replace(/\s+/g," ").trim(),n=w(!1),l=_(()=>`${ce.instance.base.url}/asset/getEmbed/${t.activeFileObjectId}/null/true`),a=_(()=>s(`
  <iframe width="560" height="480" src="${l.value}" frameborder="0" allowfullscreen></iframe>`));return(i,u)=>(o(),r(D,null,[f(ot,{onClick:u[0]||(u[0]=d=>n.value=!n.value)},{default:m(()=>[f(Cn)]),_:1}),f(ke,{label:"Share",isOpen:n.value,class:"max-w-xl mx-auto",onClose:u[1]||(u[1]=d=>n.value=!1)},{default:m(()=>[v("div",Ao,[f(pt,{label:"Embed",value:c(a)},null,8,["value"]),f(pt,{label:"Link",value:c(l)},null,8,["value"]),f($e,{icon:"open_in_new",label:"Open in New Window",href:c(l),target:"_blank"},{default:m(()=>[So]),_:1},8,["href"])])]),_:1},8,["isOpen"])],64))}}),Oo=h(Do,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ShareButton.vue"]]),Lo={class:"object-toolbar"},Fo={class:"flex justify-between items-center w-full px-4 py-2"},jo={class:"flex gap-1 items-center leading-none"},Wo=g({__name:"ActiveFileViewToolbar",setup(e){return(t,s)=>(o(),r("div",Lo,[v("div",Fo,[v("div",jo,[f(fo),f(wo),f(Oo)])])]))}}),mt=h(Wo,[["__file","/opt/elevator/assets/elevator-ui/src/components/ActiveFileViewToolbar/ActiveFileViewToolbar.vue"]]),qo={class:"object-details"},Bo={key:0,class:"h-full flex justify-end"},Eo={key:1,class:"flex gap-2"},Mo=g({__name:"ObjectDetailsDrawer",props:{objectId:{type:[String,null],required:!0},isOpen:{type:Boolean,required:!0,default:!1},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){const t=e,s=_(()=>t.objectId?Tt(t.objectId):null);return(n,l)=>(o(),r("div",qo,[e.objectId?(o(),b(Rt,{key:1,label:"Details",variant:"secondary",isOpen:e.isOpen,showToggle:e.showToggle,class:"h-full",onToggle:l[0]||(l[0]=a=>n.$emit("toggle"))},{"header-utils":m(()=>[f(mt)]),default:m(()=>[e.objectId?(o(),b(Ie,{key:0,assetId:e.objectId},null,8,["assetId"])):x("v-if",!0),e.objectId?(o(),r("footer",Eo,[c(s)?(o(),b(Ct,{key:0,to:c(s)},null,8,["to"])):x("v-if",!0)])):x("v-if",!0)]),_:1},8,["isOpen","showToggle"])):(o(),r("div",Bo,[f(mt)]))]))}}),Ro=h(Mo,[["__file","/opt/elevator/assets/elevator-ui/src/components/ObjectDetailsDrawer/ObjectDetailsDrawer.vue"]]);const Po={},Vo={class:"more-like-this__count inline-flex items-center px-2 py-1 text-xs font-bold rounded-full"};function Ho(e,t){return o(),r("span",Vo,[B(e.$slots,"default",{},void 0,!0)])}const Ze=h(Po,[["render",Ho],["__scopeId","data-v-15d7d692"],["__file","/opt/elevator/assets/elevator-ui/src/components/MoreLikeThis/CountChip.vue"]]),No=g({__name:"ButtonWithCount",props:{count:{type:Number,required:!0}},setup(e){return(t,s)=>(o(),b($e,null,{default:m(()=>[B(t.$slots,"default"),f(Ze,null,{default:m(()=>[S(k(e.count),1)]),_:1})]),_:3}))}}),zo=h(No,[["__file","/opt/elevator/assets/elevator-ui/src/components/MoreLikeThis/ButtonWithCount.vue"]]),Vt=e=>(ns("data-v-1ae641b8"),e=e(),ls(),e),Uo={key:0,class:"more-like-this"},Go={key:0,class:"pt-6 mt-6"},Ko={class:"more-like-this__title flex flex-wrap items-center gap-2 mb-4 text-xl font-bold"},Jo=Vt(()=>v("span",null,"More Like This",-1)),Qo={class:"flex flex-col gap-2"},Yo=Vt(()=>v("span",null,"More Like This",-1)),Zo={class:"grid grid-cols-3 gap-2"},Xo=g({__name:"MoreLikeThis",props:{items:{type:Array,required:!0}},setup(e){const t=e,s=_(()=>t.items.slice(0,ce.moreLikeThis.maxInlineResults)),n=_(()=>t.items.length-s.value.length),l=w(!1);return(a,i)=>e.items.length?(o(),r("section",Uo,[c(s).length?(o(),r("div",Go,[v("h3",Ko,[Jo,f(Ze,null,{default:m(()=>[S(k(e.items.length),1)]),_:1})]),v("div",Qo,[(o(!0),r(D,null,q(c(s),u=>(o(),b(it,{key:u.objectId,searchMatch:u},null,8,["searchMatch"]))),128))])])):x("v-if",!0),c(n)?(o(),b(zo,{key:1,count:c(n),class:"my-4",onClick:i[0]||(i[0]=u=>l.value=!0)},{default:m(()=>[S(k(c(ce).moreLikeThis.maxInlineResults?"Show More":"More Like This"),1)]),_:1},8,["count"])):x("v-if",!0),f(ke,{label:"More Like This",isOpen:l.value,onClose:i[1]||(i[1]=u=>l.value=!1)},{label:m(()=>[Yo,f(Ze,{class:"ml-2"},{default:m(()=>[S(k(e.items.length),1)]),_:1})]),default:m(()=>[v("div",Zo,[(o(!0),r(D,null,q(e.items,u=>(o(),b(it,{key:u.objectId,searchMatch:u},null,8,["searchMatch"]))),128))])]),_:1},8,["isOpen"])])):x("v-if",!0)}});const Ht=h(Xo,[["__scopeId","data-v-1ae641b8"],["__file","/opt/elevator/assets/elevator-ui/src/components/MoreLikeThis/MoreLikeThis.vue"]]),ei={class:"asset-details"},ti=g({__name:"AssetDetailsDrawer",props:{assetId:{type:[String,null],required:!0},isOpen:{type:Boolean,required:!1,default:!0},showToggle:{type:Boolean,required:!1,default:!0}},emits:["toggle"],setup(e){const t=e,s=_(()=>t.assetId),{asset:n}=Me(s),l=w([]);Z(s,async()=>{l.value=await fe.getMoreLikeThis(s.value)},{immediate:!0});const a=_(()=>n.value?We(n.value):"");return(i,u)=>(o(),r("div",ei,[f(Rt,{label:c(a),isOpen:e.isOpen,showToggle:e.showToggle,class:"h-full py-4 md:py-0",onToggle:u[0]||(u[0]=d=>i.$emit("toggle"))},{"header-label":m(()=>[f(Mt,{label:c(a)||"(No Title)",class:ee({"text-2xl":e.isOpen})},null,8,["label","class"])]),default:m(()=>[e.assetId?(o(),b(Ie,{key:0,assetId:e.assetId,class:"py-4 md:py-0"},null,8,["assetId"])):x("v-if",!0),e.assetId?(o(),b(Ht,{key:1,items:l.value},null,8,["items"])):x("v-if",!0)]),_:1},8,["label","isOpen","showToggle"])]))}}),si=h(ti,[["__file","/opt/elevator/assets/elevator-ui/src/components/AssetDetailsDrawer/AssetDetailsDrawer.vue"]]),ni={class:"asset-view h-full relative"},li=g({__name:"AssetView",props:{assetId:{type:[String,null],required:!0},objectId:{type:[String,null],required:!1}},setup(e){const t=w(!0),s=w(!1),n=ie(),l=gs("(min-width: 768px)");return(a,i)=>(o(),r("div",ni,[f(rl,{class:ee(["asset-view__object-viewer h-[75vh] md:h-auto md:absolute md:top-0 border-t-0 border-b-asset-view",{"md:top-0 md:bottom-1/2 md:left-sm md:right-0 border-l-asset-view":t.value&&s.value,"md:top-0 md:bottom-16 md:left-sm md:right-0 border-l-asset-view":t.value&&!s.value,"md:top-0 md:bottom-16 md:left-0 md:right-sm border-r-asset-view":!t.value&&s.value,"md:top-0 md:bottom-16 md:left-0 md:right-0":!t.value&&!s.value}]),fileHandlerId:c(n).activeFileObjectId},null,8,["class","fileHandlerId"]),f(si,{class:ee(["asset-view__asset-panel md:absolute",{"asset-view__asset-panel--open":t.value,"md:bottom-0 md:left-0 md:top-0 md:w-sm":t.value,"md:bottom-0 md:left-0 md:h-16 md:right-sm border-r-asset-view":!t.value&&s.value,"md:bottom-0 md:left-0 md:h-16 md:w-1/2":!t.value&&!s.value}]),showToggle:c(l),assetId:c(n).activeAssetId,isOpen:c(l)?t.value:!0,onToggle:i[0]||(i[0]=u=>t.value=!t.value)},null,8,["class","showToggle","assetId","isOpen"]),f(Ro,{class:ee(["asset-view__details-panel md:absolute",{"asset-view__details-panel--open":s.value,"border-l-asset-view":!s.value,"md:bottom-0 md:right-0 md:h-16 md:left-sm":!s.value&&t.value,"md:bottom-0 md:right-0 md:h-1/2 md:left-sm border-l-asset-view":s.value&&t.value,"md:bottom-0 md:right-0 md:top-0 md:w-sm":s.value&&!t.value,"md:bottom-0 md:right-0 md:h-16 md:w-1/2":!s.value&&!t.value}]),showToggle:c(l),objectId:c(n).activeObjectId,isOpen:c(l)?s.value:!0,onToggle:i[1]||(i[1]=u=>s.value=!s.value)},null,8,["class","showToggle","objectId","isOpen"])]))}});const ai=h(li,[["__scopeId","data-v-9c0838de"],["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/AssetView.vue"]]),oi={class:"meta-data-only-view h-full sm:p-8"},ii={class:"meta-data-only-view__article m-auto sm:max-w-3xl h-full overflow-auto p-4 sm:p-12 rounded shadow sm:px-12"},ri={class:"text-3xl mb-12 sm:text-5xl font-bold py-8 after:content-[''] after:w-8 after:h-2 after:block relative after:absolute after:bottom-0 after:left-0"},ui=g({__name:"MetaDataOnlyView",props:{assetId:{type:[String,null],required:!0}},setup(e){const t=e,s=_(()=>t.assetId),{asset:n}=Me(s),l=_(()=>n.value?We(n.value):"Unknown"),a=w([]);return Z(s,async()=>{a.value=await fe.getMoreLikeThis(s.value)},{immediate:!0}),(i,u)=>(o(),r("div",oi,[v("article",ii,[v("h2",ri,k(c(l)||"(No Title)"),1),e.assetId?(o(),b(Ie,{key:0,assetId:e.assetId},null,8,["assetId"])):x("v-if",!0),e.assetId?(o(),b(Ht,{key:1,items:a.value},null,8,["items"])):x("v-if",!0)])]))}});const ci=h(ui,[["__scopeId","data-v-732f00e0"],["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/MetaDataOnlyView.vue"]]);function _t(e){return e==" "||e==`
`||e=="\r"||e=="	"}function di(e){return e=='"'||e=="'"}const ge="<",Re=">",je="&lt;",Nt="&gt;";class be{constructor(t){this.options=t}consume(t,s){return t==ge?(s(new fi(this.options)),""):t==Re&&this.options.encodePlaintextTagDelimiters?Nt:t}}class fi{constructor(t){this.options=t,this.nameBuffer="",this.isClosingTag=!1}consume(t,s){if(this.nameBuffer.length==0){if(_t(t))return s(new be(this.options)),(this.options.encodePlaintextTagDelimiters?je:"<")+t;if(t=="/")return this.isClosingTag=!0,""}return _t(t)?this.isNameBufferAnAllowedTag()?(s(new Xe(0,this.options)),ge+(this.isClosingTag?"/":"")+this.nameBuffer+t):(s(new Xe(1,this.options)),this.options.tagReplacementText):t==ge?(this.nameBuffer+=je,""):t==Re?(s(new be(this.options)),this.isNameBufferAnAllowedTag()?ge+(this.isClosingTag?"/":"")+this.nameBuffer+t:this.options.tagReplacementText):t=="-"&&this.nameBuffer=="!-"?(s(new pi(this.options)),""):(this.nameBuffer+=t,"")}isNameBufferAnAllowedTag(){const t=this.nameBuffer.toLowerCase();return this.options.allowedTags?this.options.allowedTags.has(t):this.options.disallowedTags?!this.options.disallowedTags.has(t):!1}}class Xe{constructor(t,s){this.mode=t,this.options=s}consume(t,s){return t==Re?s(new be(this.options)):di(t)&&s(new vi(this.mode,t,this.options)),this.mode==1?"":t==ge?je:t}}class vi{constructor(t,s,n){this.mode=t,this.quoteCharacter=s,this.options=n}consume(t,s){return t==this.quoteCharacter&&s(new Xe(this.mode,this.options)),this.mode==1?"":t==ge?je:t==Re?Nt:t}}class pi{constructor(t){this.options=t,this.consecutiveHyphens=0}consume(t,s){return t==">"&&this.consecutiveHyphens>=2?s(new be(this.options)):t=="-"?this.consecutiveHyphens++:this.consecutiveHyphens=0,""}}const mi={tagReplacementText:"",encodePlaintextTagDelimiters:!0};class _i{constructor(t={}){this.state=new be(Object.assign(Object.assign({},mi),t)),this.transitionFunction=(s=>{this.state=s}).bind(this)}consume(t){let s="";for(const n of t)s+=this.state.consume(n,this.transitionFunction);return s}}function gi(e,t={}){return new _i(t).consume(e)}const hi=g({__name:"AssetViewPage",props:{assetId:{type:String,required:!0},objectId:{type:[String,null],required:!1,default:null}},setup(e){const t=e,s=ie(),n=_(()=>!s.activeFileObjectId),l=w(!1),a=as(),i=_(()=>{var p;return((p=a.hash)==null?void 0:p.substring(1))||t.objectId||null}),u=ks();async function d(){l.value=!1;const p=await s.setActiveAsset(t.assetId,i.value);if(!p){u.value="Asset not found",l.value=!0;return}const $=We(p);u.value=gi($),l.value=!0}return Z([()=>t.assetId,()=>{var p;return(p=a.params)==null?void 0:p.assetId}],d,{immediate:!0}),Z([()=>t.objectId,()=>a.hash],async()=>{await s.setActiveObject(i.value)}),(p,$)=>l.value?(o(),b(hs,{key:0,class:"overflow-x-hidden"},{default:m(()=>[c(n)?(o(),b(ci,{key:0,assetId:c(s).activeAssetId},null,8,["assetId"])):(o(),b(ai,{key:1,assetId:c(s).activeAssetId,objectId:c(s).activeObjectId},null,8,["assetId","objectId"]))]),_:1})):x("v-if",!0)}}),Di=h(hi,[["__file","/opt/elevator/assets/elevator-ui/src/pages/AssetViewPage/AssetViewPage.vue"]]);export{Di as default};
//# sourceMappingURL=AssetViewPage.js.map
