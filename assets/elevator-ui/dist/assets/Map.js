import{d as g,q as c,g as y,z as h,K as w,o as _,b,a as u,F as M,r as x,j as k,n as q,t as z,_ as $}from"./index.js";import{q as G}from"./AppHeader.js";import{m as l,a as I}from"./mapConstants.js";const B=s=>s.addControl(new l.exports.FullscreenControl({container:document.querySelector("body")})).addControl(new l.exports.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})).addControl(new l.exports.ScaleControl({unit:"imperial"})),K={class:"maplibre-map"},R={class:"flex gap-4 justify-end items-center my-2"},A=["onClick"],E=g({__name:"Map",props:{center:{type:null,required:!0},bounds:{type:null,required:!0},zoom:{type:Number,required:!0},apiKey:{type:String,required:!0},esriSourceUrl:{type:String,required:!1}},emits:["click","load"],setup(s,{emit:p}){const t=s,n=c(null),e=c(null),d={satellite:{label:"Satellite",name:"ArcGIS:Imagery",type:"style"},streets:{label:"Street",name:"ArcGIS:Navigation",type:"style"}},r=c("satellite"),m=a=>{const v="https://basemaps-api.arcgis.com/arcgis/rest/services/styles",{name:i,type:o,url:f}=d[a];return f||`${v}/${i}?type=${o}&token=${t.apiKey}`},S=a=>{r.value=a};function C(){!e.value||e.value.setStyle(m(r.value))}return y(r,C),y([()=>t.bounds,e],()=>{!e.value||!t.bounds||e.value.fitBounds(t.bounds,{padding:64})}),h(()=>{if(!n.value)throw Error("Cannot create Map: container not defined:");e.value=B(new l.exports.Map({container:n.value,center:t.center?[t.center.lng,t.center.lat]:[0,0],style:m(r.value),zoom:t.zoom})),e.value.on("click",a=>{if(!e.value)throw new Error("there was a click but no map");p("click",a,e.value)}),e.value.on("load",()=>{if(!e.value)throw new Error("cannot emit load event: no mapRef");p("load",e.value)}),G(n,()=>{!e.value||e.value.resize()})}),w(I,e),(a,v)=>(_(),b("div",K,[u("div",R,[(_(),b(M,null,x(d,(i,o)=>u("button",{key:o,class:q(["text-sm uppercase",{"font-bold border-b-2 border-b-neutral-900":o===r.value,"text-neutral-500":o!==r.value}]),onClick:f=>S(o)},z(i.label),11,A)),64))]),u("div",{ref_key:"mapContainerRef",ref:n,class:"map-container"},null,512),k(a.$slots,"default",{},void 0,!0)]))}});const N=$(E,[["__scopeId","data-v-8b4ea7f5"],["__file","/opt/elevator/assets/elevator-ui/src/components/Map/Map.vue"]]);export{N as default};
//# sourceMappingURL=Map.js.map
