{"version":3,"file":"MoreLikeThis.js","sources":["../../src/components/SearchResultCard/SearchResultCard.vue","../../src/components/MoreLikeThis/MoreLikeThis.vue"],"sourcesContent":["<template>\n  <MediaCard\n    :imgSrc=\"thumbnailImgSrc\"\n    :imgAlt=\"title\"\n    class=\"search-result-card hover:shadow-lg transition-shadow\"\n  >\n    <div class=\"relative h-full pb-16\">\n      <Link :to=\"getAssetUrl(searchMatch.objectId)\"\n        ><h1 class=\"search-result-card__title text-xl font-bold\">\n          {{ title }}\n        </h1>\n      </Link>\n      <div\n        v-if=\"props.searchMatch?.entries\"\n        class=\"search-result-card__contents\"\n      >\n        <template\n          v-for=\"(entry, index) in props.searchMatch.entries\"\n          :key=\"index\"\n        >\n          <Tuple :label=\"entry?.label ?? 'Item'\">\n            <span class=\"text-sm\"> {{ entry.entries?.join(\", \") }}</span>\n          </Tuple>\n        </template>\n      </div>\n      <ArrowButton\n        :to=\"getAssetUrl(searchMatch.objectId)\"\n        class=\"absolute bottom-0 right-0\"\n      />\n    </div>\n  </MediaCard>\n</template>\n\n<script lang=\"ts\" setup>\nimport { SearchResultMatch } from \"@/types\";\nimport { getAssetUrl, getThumbURL } from \"@/helpers/displayUtils\";\nimport { computed } from \"vue\";\nimport MediaCard from \"../MediaCard/MediaCard.vue\";\nimport ArrowButton from \"../ArrowButton/ArrowButton.vue\";\nimport Link from \"@/components/Link/Link.vue\";\nimport Tuple from \"../Tuple/Tuple.vue\";\n\nconst props = defineProps<{\n  searchMatch: SearchResultMatch;\n}>();\n\nconst title = computed(() => {\n  if (Array.isArray(props.searchMatch.title)) {\n    return props.searchMatch.title.join(\",\");\n  }\n\n  if (props.searchMatch.title && props.searchMatch.title.length > 0) {\n    return props.searchMatch.title;\n  }\n\n  return \"(no title)\";\n});\n\nconst thumbnailImgSrc = computed(() => {\n  const { primaryHandlerId } = props.searchMatch;\n  return primaryHandlerId ? getThumbURL(primaryHandlerId) : null;\n});\n</script>\n<style scoped>\n.search-result-card__title {\n  color: var(--app-mediaCard-title-textColor);\n  margin-bottom: var(--app-panel-body-items-gap);\n}\n\n.search-result-card__contents {\n  display: flex;\n  flex-direction: column;\n  gap: var(--app-panel-body-items-gap);\n}\n\nimg {\n  max-width: 100%;\n}\n\n.hyphens-auto {\n  hyphens: auto;\n}\n</style>\n","<template>\n  <div v-if=\"items.length\" class=\"border-neutral-900 pt-6 mt-6 border-t\">\n    <h3 class=\"flex flex-wrap items-center gap-2 mb-4 text-xl font-bold\">\n      More Like This\n      <span\n        class=\"bg-neutral-900 text-neutral-100 inline-flex items-center px-2 py-1 text-xs font-normal rounded-full\"\n      >\n        {{ items.length }}\n      </span>\n    </h3>\n\n    <SearchResultCard\n      v-for=\"searchMatch in items\"\n      :key=\"searchMatch.objectId\"\n      :searchMatch=\"searchMatch\"\n    />\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport { ref, watch } from \"vue\";\nimport { SearchResultMatch } from \"@/types\";\nimport SearchResultCard from \"../SearchResultCard/SearchResultCard.vue\";\nimport api from \"@/helpers/api\";\n\nconst props = defineProps<{\n  assetId: string;\n}>();\n\nconst items = ref<SearchResultMatch[]>([]);\n\nwatch(\n  () => props.assetId,\n  async () => {\n    items.value = await api.getMoreLikeThis(props.assetId);\n  },\n  { immediate: true }\n);\n</script>\n<style scoped></style>\n"],"names":["title","computed","props","thumbnailImgSrc","primaryHandlerId","getThumbURL","items","ref","watch","api"],"mappings":"wnCA8CMA,EAAQC,EAAS,IACjB,MAAM,QAAQC,EAAM,YAAY,KAAK,EAChCA,EAAM,YAAY,MAAM,KAAK,GAAG,EAGrCA,EAAM,YAAY,OAASA,EAAM,YAAY,MAAM,OAAS,EACvDA,EAAM,YAAY,MAGpB,YACR,EAEKC,EAAkBF,EAAS,IAAM,CAC/B,KAAA,CAAE,iBAAAG,CAAiB,EAAIF,EAAM,YAC5B,OAAAE,EAAmBC,EAAYD,CAAgB,EAAI,IAAA,CAC3D,whCCjCKE,EAAQC,EAAyB,CAAA,CAAE,EAEzC,OAAAC,EACE,IAAMN,EAAM,QACZ,SAAY,CACVI,EAAM,MAAQ,MAAMG,EAAI,gBAAgBP,EAAM,OAAO,CACvD,EACA,CAAE,UAAW,EAAK,CAAA"}